(self.webpackChunk=self.webpackChunk||[]).push([[490],{1893:(t,e,n)=>{n.d(e,{bb:()=>nu,selection:()=>ns,spline:()=>e6,zoom:()=>nc});var i,r,a,o,s=n(5891),c=n(3968),l=n(8869),u=n(775),h=n(2781),d=n(3882),f=n(5602),g=n(4689),p=n(7685),v=n(5021),_=n(8363),x=n(180),y=n(8851),m=n(6195),b=n(6751),T=n(7039),w=n(2067),k=n(4887),A=n(262),Z=n(7303),S=n(7112),C=n(9132),E=n(6768),M=n(1364),L=n(986),R=n(6443),D=n(8428),P=n(1485),z=n(8829),I=n(5838),O=n(4071);n(7430),n(8537),n(4137);var $=n(5741),X=n(337),N=n(2302);n(2517),n(8655),n(6731),n(2897),n(1677),n(5408),n(3578),n(3062),n(3906);var F=n(6393),B="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")(),Y=null==B?void 0:B.document,U=(i="function"==typeof(null==B?void 0:B.requestAnimationFrame)&&"function"==typeof(null==B?void 0:B.cancelAnimationFrame),r="function"==typeof(null==B?void 0:B.requestIdleCallback)&&"function"==typeof(null==B?void 0:B.cancelIdleCallback),a=function(t){return setTimeout(t,1)},o=function(t){return clearTimeout(t)},[i?B.requestAnimationFrame:a,i?B.cancelAnimationFrame:o,r?B.requestIdleCallback:a,r?B.cancelIdleCallback:o]),V=U[0],H=U[2],j={AREA:"area",AREA_LINE_RANGE:"area-line-range",AREA_SPLINE:"area-spline",AREA_SPLINE_RANGE:"area-spline-range",AREA_STEP:"area-step",BAR:"bar",BUBBLE:"bubble",CANDLESTICK:"candlestick",DONUT:"donut",GAUGE:"gauge",LINE:"line",PIE:"pie",POLAR:"polar",RADAR:"radar",SCATTER:"scatter",SPLINE:"spline",STEP:"step",TREEMAP:"treemap"},G={AREA:"initArea",AREA_LINE_RANGE:"initArea",AREA_SPLINE:"initArea",AREA_SPLINE_RANGE:"initArea",AREA_STEP:"initArea",BAR:"initBar",BUBBLE:"initCircle",CANDLESTICK:"initCandlestick",DONUT:"initArc",GAUGE:"initArc",LINE:"initLine",PIE:"initArc",POLAR:"initPolar",RADAR:"initCircle",SCATTER:"initCircle",SPLINE:"initLine",STEP:"initLine",TREEMAP:"initTreemap"},W={Area:[j.AREA,j.AREA_SPLINE,j.AREA_SPLINE_RANGE,j.AREA_LINE_RANGE,j.AREA_STEP],AreaRange:[j.AREA_SPLINE_RANGE,j.AREA_LINE_RANGE],Arc:[j.PIE,j.DONUT,j.GAUGE,j.POLAR,j.RADAR],Line:[j.LINE,j.SPLINE,j.AREA,j.AREA_SPLINE,j.AREA_SPLINE_RANGE,j.AREA_LINE_RANGE,j.STEP,j.AREA_STEP],Step:[j.STEP,j.AREA_STEP],Spline:[j.SPLINE,j.AREA_SPLINE,j.AREA_SPLINE_RANGE]},q=function(){return(q=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function J(t,e,n){if(n||2==arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var K=function(t){return t||0===t},Q=function(t){return"function"==typeof t},tt=function(t){return"string"==typeof t},te=function(t){return"number"==typeof t},tn=function(t){return void 0===t},ti=function(t){return void 0!==t},tr=function(t){return"boolean"==typeof t},ta=function(t){return Math.ceil(t)+.5},to=function(t){return t[1]-t[0]},ts=function(t){return"object"==typeof t},tc=function(t){return tn(t)||null===t||tt(t)&&0===t.length||ts(t)&&!(t instanceof Date)&&0===Object.keys(t).length||te(t)&&isNaN(t)},tl=function(t){return!tc(t)},tu=function(t){return Array.isArray(t)},th=function(t){return t&&!(null==t?void 0:t.nodeType)&&ts(t)&&!tu(t)};function td(t,e,n){return ti(t[e])?t[e]:n}function tf(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=Q(t);return r&&t.call.apply(t,J([e],n,!1)),r}function tg(t,e){var n=0,i=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];--n||e.apply.apply(e,J([this],t,!1))};"duration"in t?t.each(function(){return++n}).on("end",i):(++n,t.call(i))}function tp(t){return tt(t)?t.replace(/<(script|img)?/ig,"&lt;").replace(/(script)?>/ig,"&gt;"):t}function tv(t,e,n,i){if(void 0===n&&(n=[-1,1]),void 0===i&&(i=!1),t&&tt(e)){if(-1===e.indexOf("\n"))t.text(e);else{var r=[t.text(),e].map(function(t){return t.replace(/[\s\n]/g,"")});if(r[0]!==r[1]){var a=e.split("\n"),o=i?a.length-1:1;t.html(""),a.forEach(function(e,i){t.append("tspan").attr("x",0).attr("dy","".concat(0===i?n[0]*o:n[1],"em")).text(e)})}}}}function t_(t){var e=t.getBBox(),n=e.x,i=e.y,r=e.width,a=e.height;return[{x:n,y:i+a},{x:n,y:i},{x:n+r,y:i},{x:n+r,y:i+a}]}function tx(t,e){var n,i=t&&(null===(n=t.touches||t.sourceEvent&&t.sourceEvent.touches)||void 0===n?void 0:n[0]),r=[0,0];try{r=(0,c.Z)(i||t,e)}catch(t){}return r.map(function(t){return isNaN(t)?0:t})}function ty(t){var e,n=t.event,i=t.$el,r=i.subchart.main||i.main;return n&&"brush"===n.type?e=n.selection:r&&(e=r.select(".bb-brush").node())&&(e=(0,d.mN)(e)),e}function tm(t){return!("rect"in t)||"rect"in t&&t.hasAttribute("width")&&t.rect.width!==+t.getAttribute("width")?t.rect=t.getBoundingClientRect():t.rect}function tb(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===n&&(n=1e4);var i=B.crypto||B.msCrypto,r=i?e+i.getRandomValues(new Uint32Array(1))[0]%(n-e+1):Math.floor(Math.random()*(n-e)+e);return t?String(r):r}function tT(t,e){for(var n in void 0===t&&(t={}),tu(e)&&e.forEach(function(e){return tT(t,e)}),e)/^\d+$/.test(n)||n in t||(t[n]=e[n]);return t}var tw=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},tk=function(t){return[].slice.call(t)};function tA(t){var e=t?t.transform:null,n=e&&e.baseVal;return n&&n.numberOfItems?n.getItem(0).matrix:{a:0,b:0,c:0,d:0,e:0,f:0}}function tZ(t){var e=t[0]instanceof Date,n=(e?t.map(Number):t).filter(function(t,e,n){return n.indexOf(t)===e});return e?n.map(function(t){return new Date(t)}):n}function tS(t){return t&&t.length?t.reduce(function(t,e){return t.concat(e)}):[]}function tC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e.length||1===e.length&&!e[0])return t;var i=e.shift();return th(t)&&th(i)&&Object.keys(i).forEach(function(e){var n=i[e];th(n)?(t[e]||(t[e]={}),t[e]=tC(t[e],n)):t[e]=tu(n)?n.concat():n}),tC.apply(void 0,J([t],e,!1))}function tE(t,e){var n;return void 0===e&&(e=!0),t[0]instanceof Date?n=e?function(t,e){return t-e}:function(t,e){return e-t}:e&&!t.every(isNaN)?n=function(t,e){return t-e}:e||(n=function(t,e){return t>e&&-1||t<e&&1||t===e&&0}),t.concat().sort(n)}function tM(t,e){var n=e.filter(function(t){return tl(t)});return n.length?te(n[0])?n=Math[t].apply(Math,n):n[0]instanceof Date&&(n=tE(n,"min"===t)[0]):n=void 0,n}var tL={mouse:function(){var t=function(){return{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}};try{return new MouseEvent("t"),function(e,n,i){void 0===i&&(i=t()),e.dispatchEvent(new MouseEvent(n,i))}}catch(e){return function(e,n,i){void 0===i&&(i=t());var r=Y.createEvent("MouseEvent");r.initMouseEvent(n,i.bubbles,i.cancelable,B,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}}(),touch:function(t,e,n){var i=new Touch(tC({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[i],targetTouches:[],changedTouches:[i]}))}};function tR(t,e){var n=t;for(var i in e)n=n.replace(RegExp("{=".concat(i,"}"),"g"),e[i]);return n}function tD(t){if(t instanceof Date)n=t;else if(tt(t)){var e,n,i=this.config;n=null!==(e=this.format.dataTime(i.data_xFormat)(t))&&void 0!==e?e:new Date(t)}else te(t)&&!isNaN(t)&&(n=new Date(+t));return n&&isNaN(+n),n}function tP(){return(null==Y?void 0:Y.hidden)===!1||(null==Y?void 0:Y.visibilityState)==="visible"}var tz={button:"bb-button",chart:"bb-chart",empty:"bb-empty",main:"bb-main",target:"bb-target",EXPANDED:"_expanded_"},tI={arc:"bb-arc",arcLabelLine:"bb-arc-label-line",arcs:"bb-arcs",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsTitle:"bb-chart-arcs-title",needle:"bb-needle"},tO={area:"bb-area",areas:"bb-areas"},t$={axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label"},tX={bar:"bb-bar",bars:"bb-bars",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars"},tN={candlestick:"bb-candlestick",candlesticks:"bb-candlesticks",chartCandlestick:"bb-chart-candlestick",chartCandlesticks:"bb-chart-candlesticks",valueDown:"bb-value-down",valueUp:"bb-value-up"},tF={chartCircles:"bb-chart-circles",circle:"bb-circle",circles:"bb-circles"},tB={colorPattern:"bb-color-pattern",colorScale:"bb-colorscale"},tY={dragarea:"bb-dragarea",INCLUDED:"_included_"},tU={chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsGaugeTitle:"bb-chart-arcs-gauge-title",gaugeValue:"bb-gauge-value"},tV={legend:"bb-legend",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile"},tH={chartLine:"bb-chart-line",chartLines:"bb-chart-lines",line:"bb-line",lines:"bb-lines"},tj={eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single"},tG={focused:"bb-focused",defocused:"bb-defocused",legendItemFocused:"bb-legend-item-focused",xgridFocus:"bb-xgrid-focus",ygridFocus:"bb-ygrid-focus"},tW={grid:"bb-grid",gridLines:"bb-grid-lines",xgrid:"bb-xgrid",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids"},tq={region:"bb-region",regions:"bb-regions"},tJ={selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",SELECTED:"_selected_"},tK={shape:"bb-shape",shapes:"bb-shapes"},tQ={brush:"bb-brush",subchart:"bb-subchart"},t0={chartText:"bb-chart-text",chartTexts:"bb-chart-texts",text:"bb-text",texts:"bb-texts",title:"bb-title",TextOverlapping:"text-overlapping"},t1={tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name"},t2={treemap:"bb-treemap",chartTreemap:"bb-chart-treemap",chartTreemaps:"bb-chart-treemaps"},t3={buttonZoomReset:"bb-zoom-reset",zoomBrush:"bb-zoom-brush"},t5=q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q(q({},tz),tI),tO),t$),tX),tN),tF),tB),tY),tU),tV),tH),tj),tG),tW),{chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars"}),tq),tJ),tK),tQ),t0),t1),t2),t3),t4={element:function(){return{chart:null,main:null,svg:null,axis:{x:null,y:null,y2:null,subX:null},defs:null,tooltip:null,legend:null,title:null,subchart:{main:null,bar:null,line:null,area:null},arcs:null,bar:null,candlestick:null,line:null,area:null,circle:null,radar:null,text:null,grid:{main:null,x:null,y:null},gridLines:{main:null,x:null,y:null},region:{main:null,list:null},eventRect:null,zoomResetBtn:null}},state:function(){return{width:0,width2:0,height:0,height2:0,margin:{top:0,bottom:0,left:0,right:0},margin2:{top:0,bottom:0,left:0,right:0},margin3:{top:0,bottom:0,left:0,right:0},arcWidth:0,arcHeight:0,xAxisHeight:0,hasAxis:!1,hasRadar:!1,hasTreemap:!1,cssRule:{},current:{domain:void 0,width:0,height:0,dataMax:0,maxTickSize:{x:{width:0,height:0,ticks:[],clipPath:0,domain:""},y:{width:0,height:0,domain:""},y2:{width:0,height:0,domain:""}},types:[],needle:void 0},isLegendRight:!1,isLegendInset:!1,isLegendTop:!1,isLegendLeft:!1,legendStep:0,legendItemWidth:0,legendItemHeight:0,legendHasRendered:!1,eventReceiver:{currentIdx:-1,rect:{},data:[],coords:[]},axis:{x:{padding:{left:0,right:0},tickCount:0}},rotatedPadding:{left:30,right:0,top:5},withoutFadeIn:{},inputType:"",datetimeId:"",clip:{id:"",idXAxis:"",idYAxis:"",idXAxisTickTexts:"",idGrid:"",idSubchart:"",path:"",pathXAxis:"",pathYAxis:"",pathXAxisTickTexts:"",pathGrid:""},event:null,dragStart:null,dragging:!1,flowing:!1,cancelClick:!1,mouseover:!1,rendered:!1,transiting:!1,redrawing:!1,resizing:!1,toggling:!1,zooming:!1,hasNegativeValue:!1,hasPositiveValue:!0,orgAreaOpacity:"0.2",orgConfig:{},hiddenTargetIds:[],hiddenLegendIds:[],focusedTargetIds:[],defocusedTargetIds:[],radius:0,innerRadius:0,outerRadius:void 0,innerRadiusRatio:0,gaugeArcWidth:0,radiusExpanded:0,xgridAttr:{x1:null,x2:null,y1:null,y2:null}}}},t7=function(){function t(){var t=this;Object.keys(t4).forEach(function(e){t[e]=new t4[e]})}return t.prototype.getStore=function(t){return this[t]},t}(),t8={bindto:"#chart",background:{},clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding:!0,padding_mode:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,resize_timer:!0,onclick:void 0,onover:void 0,onout:void 0,onresize:void 0,onresized:void 0,onbeforeinit:void 0,oninit:void 0,onafterinit:void 0,onrendered:void 0,transition_duration:250,plugins:[],render:{},regions:[]},t6={boost_useCssRule:!1,boost_useWorker:!1},t9={data_x:void 0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_type:void 0,data_types:{},data_order:"desc",data_groups:[],data_groupsZeroAs:"positive",data_color:void 0,data_colors:{},data_labels:{},data_labels_backgroundColors:void 0,data_labels_colors:void 0,data_labels_position:{},data_hide:!1,data_filter:void 0,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onshown:void 0,data_onhidden:void 0,data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:"csv",data_keys:void 0,data_empty_label_text:""},et={color_pattern:[],color_tiles:void 0,color_threshold:{},color_onover:void 0},ee={interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{}},en={legend_contents_bindto:void 0,legend_contents_template:"<span style='color:#fff;padding:5px;background-color:{=COLOR}'>{=TITLE}</span>",legend_equally:!1,legend_hide:!1,legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_interaction:!0,legend_item_dblclick:!1,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_item_tile_width:10,legend_item_tile_height:10,legend_item_tile_r:5,legend_item_tile_type:"rectangle",legend_padding:0,legend_position:"bottom",legend_show:!0,legend_usePoint:!1},ei={title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"center"},er={tooltip_show:!0,tooltip_doNotHide:!1,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:{},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:void 0,tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_onshown:function(){},tooltip_onhidden:function(){},tooltip_order:null},ea=function(){function t(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){if(th(t)&&t.constructor){var e=new t.constructor;for(var i in t)e[i]=n(t[i]);return e}return t};return t.map(function(t){return n(t)}).reduce(function(t,e){return q(q({},t),e)})}(t8,t6,t9,et,ee,en,ei,er,t.data)}return t.setOptions=function(t){this.data=t.reduce(function(t,e){return q(q({},t),e)},this.data)},t.data={},t}(),eo={colorPattern:"__colorPattern__",dataMinMax:"$dataMinMax",dataTotalSum:"$dataTotalSum",dataTotalPerIndex:"$totalPerIndex",legendItemTextBox:"legendItemTextBox",radarPoints:"$radarPoints",setOverOut:"setOverOut",callOverOutForTouch:"callOverOutForTouch",textRect:"textRect"},es=function(){function t(){this.cache={}}return t.prototype.add=function(t,e,n){return void 0===n&&(n=!1),this.cache[t]=n?this.cloneTarget(e):e,this.cache[t]},t.prototype.remove=function(t){var e=this;(tt(t)?[t]:t).forEach(function(t){return delete e.cache[t]})},t.prototype.get=function(t,e){if(void 0===e&&(e=!1),e&&Array.isArray(t)){for(var n=[],i=0,r=void 0;r=t[i];i++)r in this.cache&&n.push(this.cloneTarget(this.cache[r]));return n}var a=this.cache[t];return K(a)?a:null},t.prototype.reset=function(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},t}(),ec=B.setTimeout,el=B.clearTimeout;function eu(){var t=[],e=function(e,n){!function t(e,n){!1===n()?V(function(){return t(e,n)}):e()}(function(){null==n||n()},function(){for(var e,n=0,i=0,r=void 0;r=t[i];i++){if(!0===r||(null===(e=r.empty)||void 0===e?void 0:e.call(r))){n++;continue}if(!1===tP()){n=t.length;break}try{r.transition()}catch(t){n++}}return n===t.length})};return e.add=function(e){tu(e)?t=t.concat(e):t.push(e)},e}var eh={};function ed(t,e,n,i){void 0===t&&(t=!0);var r=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];n(e.apply(void 0,t))};if(B.Worker&&t){var a,o,s,c,l=((s=(o=e.toString()).replace(/(function|[\s\W\n])/g,"").substring(0,15))in eh||(eh[s]=new B.Blob(["".concat(null!==(a=null==i?void 0:i.map(String).join(";"))&&void 0!==a?a:"","\n\n			self.onmessage=function({data}) {\n				const result = (").concat(o,").apply(null, data);\n				self.postMessage(result);\n			};")],{type:"text/javascript"})),B.URL.createObjectURL(eh[s])),u=((c=new B.Worker(l)).onerror=function(t){},c);r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.postMessage(t),u.onmessage=function(t){return B.URL.revokeObjectURL(l),n(t.data)}}}return r}function ef(t){var e=[];return t.forEach(function(t,n){var i=t[0];t.forEach(function(t,r){if(r>0){if(void 0===e[r-1]&&(e[r-1]={}),void 0===t)throw Error("Source data is missing a component at (".concat(n,", ").concat(r,")!"));e[r-1][i]=t}})}),e}function eg(t){var e=t[0],n=[];return t.forEach(function(t,i){if(i>0){var r={};t.forEach(function(t,n){if(void 0===t)throw Error("Source data is missing a component at (".concat(i,", ").concat(n,")!"));r[e[n]]=t}),n.push(r)}}),n}function ep(t,e){var n,i,r=[];if(Array.isArray(t)){var a=function(t,e){if(void 0!==t[e])return t[e];var n=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),i=t;return n.some(function(t){return!(i=i&&t in i?i[t]:void 0)}),i};n=e.x?e.value.concat(e.x):e.value,r.push(n),t.forEach(function(t){var e=n.map(function(e){var n=a(t,e);return void 0===n&&(n=null),n});r.push(e)}),i=eg(r)}else Object.keys(t).forEach(function(e){var n,i=t[e].concat();null===(n=i.unshift)||void 0===n||n.call(i,e),r.push(i)}),i=ef(r);return i}function ev(t,e){var n,i=t.rows(e);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=t.parse(e),n}function e_(t){return ev({rows:f.Bj,parse:f.ue},t)}function ex(t){return ev({rows:g.E0,parse:g.tJ},t)}function ey(t,e){var n=t||(null==e?void 0:e.data_keys);return(null==n?void 0:n.x)&&(e.data_x=n.x),n}function em(t,e){void 0===e&&(e=!1);var n=this.api;e&&this.api.flush(!0),null==t||t.call(n)}var eb=function(t,e,n){var i=(0,l.Z)(t.cloneNode(!0));return i.attr("id",n).insert("rect",":first-child").attr("width",i.attr("width")).attr("height",i.attr("height")).style("fill",e),{id:n,node:i.node()}},eT=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function ew(t,e,n){var i=t.config,r="axis_".concat(e,"_tick_format");return(i[r]?i[r]:t.defaultValueFormat).call(t.api,n)}function ek(t){var e=this.getDataById(t);return this.levelColor?this.levelColor(e.values[0].value):this.color(e)}function eA(t,e,n){void 0===t&&(t="linear"),void 0===e&&(e=0),void 0===n&&(n=1);var i=({linear:_.Z,log:x.Z,_log:y.Z,time:m.Z,utc:b.Z})[t]();return i.type=t,/_?log/.test(t)&&i.clamp(!0),i.range([e,n])}function eZ(t){var e;return this.isLineType(t)?e=this.generateGetLinePoints(this.getShapeIndices(this.isLineType)):this.isBarType(t)&&(e=this.generateGetBarPoints(this.getShapeIndices(this.isBarType))),e}function eS(t,e,n,i,r){var a,o=t.value,s=this.isCandlestickType(t),c=te(o)&&o<0||s&&!(null===(a=this.getCandlestickData(t))||void 0===a?void 0:a._isUp),l=e.x,u=e.y;return i?"start"===n?(l+=c?0:8,u+=4):"middle"===n?(l+=8,u-=8):"end"===n&&(c&&(l-=8),u+=4):("start"===n?(l+=4,c&&(u+=16)):"middle"===n?u-=8:"end"===n&&(l-=4,c&&(u+=16)),r&&(u+=c?-17:s?13:7)),{x:l,y:u}}function eC(t,e){var n,i=this.config.data_labels_position,r=t.id,a=t.index,o=t.value;return null!==(n=Q(i)?i.bind(this.api)(e,o,r,a,this.$el.text):(r in i?i[r]:i)[e])&&void 0!==n?n:0}function eE(t,e){void 0===t&&(t="left");var n=te(e);return t.indexOf("center")>-1?n?e/2:"middle":t.indexOf("right")>-1?n?e:"end":n?0:"start"}var eM=function(){function t(t){this.data={xs:{},targets:[]},this.scale={x:null,y:null,y2:null,subX:null,subY:null,subY2:null,zoom:null},this.org={xScale:null,xDomain:null},this.format={extraLineClasses:null,xAxisTick:null,dataTime:null,defaultAxisTime:null,axisTime:null},this.api=t,this.config=new ea,this.cache=new es;var e=new t7;this.$el=e.getStore("element"),this.state=e.getStore("state"),this.$T=this.$T.bind(this)}return t.prototype.$T=function(t,e,n){var i=this.config,r=this.state,a=i.transition_duration,o=i.subchart_show,s=t;return s&&("tagName"in s&&(s=(0,l.Z)(s)),s=(!1!==e&&a||e)&&(!r.zooming||r.dragging)&&!r.resizing&&r.rendered&&!o?s.transition(n).duration(a):s),s},t.prototype.beforeInit=function(){this.callPluginHook("$beforeInit"),tf(this.config.onbeforeinit,this.api)},t.prototype.afterInit=function(){this.callPluginHook("$afterInit"),tf(this.config.onafterinit,this.api)},t.prototype.init=function(){var t=this.config,e=this.state,n=this.$el,i=t.boost_useCssRule;if(function(t){var e,n=t.config,i="";if(tc(n.data_type||n.data_types)&&!t[G.LINE])i="line";else for(var r in G){var a=j[r];if(t.hasType(a)&&!t[G[r]]){i=a;break}}i&&function(t,e){var n;throw null===(n=B.console)||void 0===n||n.error,Error("".concat("[billboard.js]"," ").concat(t.replace(/\%c([a-z-]+)/i,"'$1' ")," ").concat(e))}("Please, make sure if %c".concat((void 0===e&&(e="-"),i.split(e).map(function(t,e){return e?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}).join(""))),"module has been imported and specified correctly.")}(this),e.hasRadar=!e.hasAxis&&this.hasType("radar"),e.hasTreemap=!e.hasAxis&&this.hasType("treemap"),e.hasAxis=!this.hasArcType()&&!e.hasTreemap,e.datetimeId="bb-".concat(+new Date*tb()),i){var r=Y.createElement("style");r.type="text/css",Y.head.appendChild(r),e.style={rootSelctor:".".concat(e.datetimeId),sheet:r.sheet},n.style=r}var a={element:t.bindto,classname:"bb"};th(t.bindto)&&(a.element=t.bindto.element||"#chart",a.classname=t.bindto.classname||a.classname),n.chart=Q(a.element.node)?t.bindto.element:(0,l.Z)(a.element||[]),n.chart.empty()&&(n.chart=(0,l.Z)(Y.body.appendChild(Y.createElement("div")))),n.chart.html("").classed(a.classname,!0).classed(e.datetimeId,i).style("position","relative"),this.initParams(),this.initToRender()},t.prototype.initToRender=function(t){var e=this,n=e.config,i=e.state,r=e.$el.chart,a=function(){return"none"===r.style("display")||"hidden"===r.style("visibility")},o=n.render.lazy||a(),s=B.MutationObserver;o&&s&&!1!==n.render.observe&&!t&&new s(function(t,n){!a()&&(n.disconnect(),i.rendered||e.initToRender(!0))}).observe(r.node(),{attributes:!0,attributeFilter:["class","style"]}),(!o||t)&&e.convertData(n,function(t){e.initWithData(t),e.afterInit()})},t.prototype.initParams=function(){var t=this,e=t.config,n=t.format,i=t.state,r=e.axis_rotated;if(t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),!1===e.padding&&(e.axis_x_show=!1,e.axis_y_show=!1,e.axis_y2_show=!1,e.subchart_show=!1),t.hasPointType()&&(t.point=t.generatePoint()),i.hasAxis){t.initClip(),n.extraLineClasses=t.generateExtraLineClass(),n.dataTime=e.data_xLocaltime?s.Z1:s.wp,n.axisTime=e.axis_x_localtime?s.i$:s.g0;var a=t.config.zoom_enabled&&"drag"===t.config.zoom_type;n.defaultAxisTime=function(e){var i=t.scale,r=i.x,o=i.zoom,s=a?o:o&&r.orgDomain().toString()!==o.domain().toString(),c=e.getMilliseconds()&&".%L"||e.getSeconds()&&".:%S"||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||1!==e.getDate()&&"%b %d"||s&&1===e.getDate()&&"%b'%y"||e.getMonth()&&"%-m/%-d"||"%Y";return n.axisTime(c)(e)}}i.isLegendRight="right"===e.legend_position,i.isLegendInset="inset"===e.legend_position,i.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,i.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,i.rotatedPadding.top=t.getResettedPadding(i.rotatedPadding.top),i.rotatedPadding.right=r&&!e.axis_x_show?0:30,i.inputType=function(t,e){var n=B.DocumentTouch,i=B.matchMedia,r=B.navigator,a=!1;if(e){if(r&&"maxTouchPoints"in r)a=r.maxTouchPoints>0;else if("ontouchmove"in B||n&&Y instanceof n)a=!0;else if(null==i?void 0:i("(pointer:coarse)").matches)a=!0;else{var o=r.userAgent;a=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(o)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(o)}}return t&&["any-hover:hover","any-pointer:fine"].some(function(t){return null==i?void 0:i("(".concat(t,")")).matches})&&"mouse"||a&&"touch"||"mouse"}(e.interaction_inputType_mouse,e.interaction_inputType_touch)},t.prototype.initWithData=function(t){var e,n,i=this,r=i.config,a=i.scale,o=i.state,s=i.$el,c=i.org,l=o.hasAxis,u=o.hasTreemap,h=r.interaction_enabled,d=i.hasType("polar");if(l&&(i.axis=i.getAxisInstance(),r.zoom_enabled&&i.initZoom()),i.data.xs={},i.data.targets=i.convertDataToTargets(t),r.data_filter&&(i.data.targets=i.data.targets.filter(r.data_filter.bind(i.api))),r.data_hide&&i.addHiddenTargetIds(!0===r.data_hide?i.mapToIds(i.data.targets):r.data_hide),r.legend_hide&&i.addHiddenLegendIds(!0===r.legend_hide?i.mapToIds(i.data.targets):r.legend_hide),i.updateSizes(),i.updateScales(!0),l){var f=a.x,g=a.y,p=a.y2,v=a.subX,_=a.subY,x=a.subY2;f&&(f.domain(tE(i.getXDomain(i.data.targets),!r.axis_x_inverted)),v.domain(f.domain()),c.xDomain=f.domain()),g&&(g.domain(i.getYDomain(i.data.targets,"y")),_.domain(g.domain())),p&&(p.domain(i.getYDomain(i.data.targets,"y2")),x&&x.domain(p.domain()))}if(s.svg=s.chart.append("svg").style("overflow","hidden").style("display","block"),h&&o.inputType){var y="touch"===o.inputType,m=r.onclick,b=r.onover,T=r.onout;s.svg.on("click",(null==m?void 0:m.bind(i.api))||null).on(y?"touchstart":"mouseenter",(null==b?void 0:b.bind(i.api))||null).on(y?"touchend":"mouseleave",(null==T?void 0:T.bind(i.api))||null)}r.svg_classname&&s.svg.attr("class",r.svg_classname);var w=Q(r.color_tiles)&&i.patterns;(l||w||d||u||r.data_labels_backgroundColors)&&(s.defs=s.svg.append("defs"),l&&["id","idXAxis","idYAxis","idGrid"].forEach(function(t){i.appendClip(s.defs,o.clip[t])}),i.generateDataLabelBackgroundColorFilter(),w&&i.patterns.forEach(function(t){return s.defs.append(function(){return t.node})})),i.updateSvgSize(),i.bindResize();var k=s.svg.append("g").classed(tz.main,!0).attr("transform",u?null:i.getTranslate("main"));if(s.main=k,r.subchart_show&&i.initSubchart(),r.tooltip_show&&i.initTooltip(),r.title_text&&i.initTitle(),!u&&r.legend_show&&i.initLegend(),r.data_empty_label_text&&k.append("text").attr("class","".concat(t0.text," ").concat(tz.empty)).attr("text-anchor","middle").attr("dominant-baseline","middle"),l&&(r.regions.length&&i.initRegion(),r.clipPath||i.axis.init()),k.append("g").classed(tz.chart,!0).attr("clip-path",l?o.clip.path:null),i.callPluginHook("$init"),i.initChartElements(),l&&(h&&(null===(e=i.initEventRect)||void 0===e||e.call(i)),i.initGrid(),r.clipPath&&(null===(n=i.axis)||void 0===n||n.init())),i.updateTargets(i.data.targets),i.updateDimension(),tf(r.oninit,i.api),i.setBackground(),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),r.data_onmin||r.data_onmax){var A=i.getMinMaxData();tf(r.data_onmin,i.api,A.min),tf(r.data_onmax,i.api,A.max)}r.tooltip_show&&i.initShowTooltip(),o.rendered=!0},t.prototype.initChartElements=function(){var t=this,e=t.state,n=e.hasAxis,i=e.hasRadar,r=e.hasTreemap,a=[];if(n){var o=["bar","bubble","candlestick","line"];t.config.bar_front&&o.push(o.shift()),o.forEach(function(e){var n=tw(e);("line"===e&&t.hasTypeOf(n)||t.hasType(e))&&a.push(n)})}else if(r)a.push("Treemap");else{var s=t.hasType("polar");i||a.push("Arc","Pie"),t.hasType("gauge")?a.push("Gauge"):i?a.push("Radar"):s&&a.push("Polar")}a.forEach(function(e){t["init".concat(e)]()}),tl(t.config.data_labels)&&!t.hasArcType(null,["radar"])&&t.initText()},t.prototype.setChartElements=function(){var t=this.$el,e=t.chart,n=t.svg,i=t.defs,r=t.main,a=t.tooltip,o=t.legend,s=t.title,c=t.grid,l=t.needle,u=t.arcs,h=t.circle,d=t.bar,f=t.candlestick,g=t.line,p=t.area,v=t.text;this.api.$={chart:e,svg:n,defs:i,main:r,tooltip:a,legend:o,title:s,grid:c,arc:u,circles:h,bar:{bars:d},candlestick:f,line:{lines:g,areas:p},needle:l,text:{texts:v}}},t.prototype.setBackground=function(){var t=this.config.background,e=this.state,n=this.$el.svg;if(tl(t)){var i=n.select("g").insert(t.imgUrl?"image":"rect",":first-child");t.imgUrl?i.attr("href",t.imgUrl):t.color&&i.style("fill",t.color).attr("clip-path",e.clip.path),i.attr("class",t.class||null).attr("width","100%").attr("height","100%")}},t.prototype.updateTargets=function(t){var e,n=this,i=n.state,r=i.hasAxis,a=i.hasRadar,o=i.hasTreemap,s=function(e){return n["updateTargetsFor".concat(e)](t.filter(n["is".concat(e,"Type")].bind(n)))};if(n.updateTargetsForText(t),r)["bar","candlestick","line"].forEach(function(t){var e=tw(t);("line"===t&&n.hasTypeOf(e)||n.hasType(t))&&s(e)}),n.updateTargetsForSubchart&&n.updateTargetsForSubchart(t);else if(n.hasArcType(t)){var c="Arc";a?c="Radar":n.hasType("polar")&&(c="Polar"),s(c)}else o&&s("Treemap");var l=n.hasType("bubble")||n.hasType("scatter");l&&(null===(e=n.updateTargetForCircle)||void 0===e||e.call(n)),n.filterTargetsToShowAtInit(l)},t.prototype.filterTargetsToShowAtInit=function(t){void 0===t&&(t=!1);var e=this,n=e.$el.svg,i=e.$T,r=".".concat(tz.target);t&&(r+=", .".concat(tF.chartCircles," > .").concat(tF.circles)),i(n.selectAll(r).filter(function(t){return e.isTargetToShow(t.id)})).style("opacity",null)},t.prototype.getWithOption=function(t){var e={Dimension:!0,EventRect:!0,Legend:!1,Subchart:!0,Transform:!1,Transition:!0,TrimXDomain:!0,UpdateXAxis:"UpdateXDomain",UpdateXDomain:!1,UpdateOrgXDomain:!1,TransitionForExit:"Transition",TransitionForAxis:"Transition",Y:!0};return Object.keys(e).forEach(function(n){var i=e[n];tt(i)&&(i=e[i]),e[n]=td(t,"with".concat(n),i)}),e},t.prototype.initialOpacity=function(t){var e=this.state.withoutFadeIn;return null!==this.getBaseValue(t)&&e[t.id]?null:"0"},t.prototype.bindResize=function(){var t,e,n,i,r=this,a=r.config,o=r.state,s=(t=a.resize_timer,n=[],(i=function(){i.clear(),!1===t?H(function(){n.forEach(function(t){return t()})},{timeout:200}):e=ec(function(){n.forEach(function(t){return t()})},te(t)?t:200)}).clear=function(){e&&(el(e),e=null)},i.add=function(t){return n.push(t)},i.remove=function(t){return n.splice(n.indexOf(t),1)},i),c=[];c.push(function(){return tf(a.onresize,r.api)}),a.resize_auto&&c.push(function(){o.resizing=!0,a.legend_show&&(r.updateSizes(),r.updateLegend()),r.api.flush(!1)}),c.push(function(){tf(a.onresized,r.api),o.resizing=!1}),c.forEach(function(t){return s.add(t)}),r.resizeFunction=s,B.addEventListener("resize",r.resizeFunction=s)},t.prototype.callPluginHook=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.config.plugins.forEach(function(i){"$beforeInit"===t&&(i.$$=e,e.api.plugins.push(i)),i[t].apply(i,n)})},t}();function eL(t){var e,n,i,r=this.config,a=function(){var t=n.shift();return t&&e&&ts(e)&&t in e?(e=e[t],a()):t?void 0:e};Object.keys(r).forEach(function(o){e=t,n=o.split("_"),ti(i=a())&&(r[o]=i)}),this.api&&(this.state.orgConfig=t)}tT(eM.prototype,[{convertData:function(t,e){var n,i,r,a,o,s,c=this.config,l=c.boost_useWorker,u=t;if(t.bindto&&(u={},["url","mimeType","headers","keys","json","keys","rows","columns"].forEach(function(e){var n="data_".concat(e);n in t&&(u[e]=t[n])})),u.url&&e)n=u.url,i=u.mimeType,r=u.headers,a=ey(u.keys,c),void 0===i&&(i="csv"),o=new XMLHttpRequest,s={csv:e_,tsv:ex,json:ep},o.open("GET",n),r&&Object.keys(r).forEach(function(t){o.setRequestHeader(t,r[t])}),o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status){var t=o.responseText;t&&e.call(this,s[i]("json"===i?JSON.parse(t):t,a))}else throw Error("".concat(n,": Something went wrong loading!"))}},o.send();else if(u.json)ed(l,ep,e,[ef,eg])(u.json,ey(u.keys,c));else if(u.rows)ed(l,eg,e)(u.rows);else if(u.columns)ed(l,ef,e)(u.columns);else if(t.bindto)throw Error("url or json or rows or columns is required.")},convertDataToTargets:function(t,e){var n,i=this,r=this,a=r.axis,o=r.config,s=r.state,c=o.data_type,l=!1,u=!1,h=!1;a&&(l=a.isCategorized(),u=a.isTimeSeries(),h=a.isCustomX());var d=Object.keys(t[0]||{}),f=d.length?d.filter(r.isNotX,r):[],g=d.length?d.filter(r.isX,r):[];f.forEach(function(a){var s=i.getXKey(a);h||u?g.indexOf(s)>=0?n=(e&&r.data.xs[a]||[]).concat(t.map(function(t){return t[s]}).filter(K).map(function(t,e){return r.generateTargetX(t,a,e)})):o.data_x?n=i.getOtherTargetXs():tl(o.data_xs)&&(n=r.getXValuesOfXKey(s,r.data.targets)):n=t.map(function(t,e){return e}),n&&(i.data.xs[a]=n)}),f.forEach(function(t){if(!i.data.xs[t])throw Error('x is not defined for id = "'.concat(t,'".'))});var p=f.map(function(e,n){var i=o.data_idConverter.bind(r.api)(e),a=r.getXKey(e),c=h&&l,u=c&&t.map(function(t){return t.x}).every(function(t){return o.axis_x_categories.indexOf(t)>-1}),d=t.__append__,f=null===a&&d?r.api.data.values(e).length:0;return{id:i,id_org:e,values:t.map(function(t,l){var h,g=t[a],p=t[e];return p=null===p||isNaN(p)||th(p)?tu(p)||th(p)?p:null:+p,(c||s.hasRadar)&&0===n&&!tn(g)?(u||0!==n||0!==l||d||(o.axis_x_categories=[]),-1===(h=o.axis_x_categories.indexOf(g))&&(h=o.axis_x_categories.length,o.axis_x_categories.push(g))):h=r.generateTargetX(g,e,f+l),(tn(p)||r.data.xs[e].length<=l)&&(h=void 0),{x:h,value:p,id:i,index:-1}}).filter(function(t){return ti(t.x)})}});if(p.forEach(function(t){var e;o.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),t.values.forEach(function(t,e){return t.index=e}),null===(e=r.data.xs[t.id])||void 0===e||e.sort(function(t,e){return t-e})}),s.hasNegativeValue=r.hasNegativeValueInTargets(p),s.hasPositiveValue=r.hasPositiveValueInTargets(p),c&&r.isValidChartType(c)){var v=r.mapToIds(p).filter(function(t){return!(t in o.data_types)||!r.isValidChartType(o.data_types[t])});r.setTargetType(v,c)}return p.forEach(function(t){return r.cache.add(t.id_org,t,!0)}),p}},{isX:function(t){var e,n,i=this.config,r=i.data_x&&t===i.data_x,a=tl(i.data_xs)&&(e=i.data_xs,n=!1,Object.keys(e).forEach(function(i){return e[i]===t&&(n=!0)}),n);return r||a},isNotX:function(t){return!this.isX(t)},isStackNormalized:function(){var t=this.config;return!!(t.data_stack_normalize&&t.data_groups.length)},isGrouped:function(t){var e=this.config.data_groups;return t?e.some(function(e){return e.indexOf(t)>=0&&e.length>1}):e.length>0},getXKey:function(t){var e=this.config;return e.data_x?e.data_x:tl(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function(t,e){var n,i=this;return(e&&tl(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},getIndexByX:function(t,e){return e?e.indexOf(tt(t)?t:+t):(this.filterByX(this.data.targets,t)[0]||{index:null}).index},getXValue:function(t,e){return t in this.data.xs&&this.data.xs[t]&&K(this.data.xs[t][e])?this.data.xs[t][e]:e},getOtherTargetXs:function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function(t){var e=this.config;Object.keys(t).forEach(function(n){e.data_xs[n]=t[n]})},isMultipleX:function(){return tl(this.config.data_xs)||this.hasType("bubble")||this.hasType("scatter")},addName:function(t){var e,n=this.config;return t&&(e=n.data_names[t.id],t.name=void 0!==e?e:t.id),t},getAllValuesOnIndex:function(t,e){void 0===e&&(e=!1);var n=this,i=n.filterTargetsToShow(n.data.targets).map(function(e){return n.addName(n.getValueOnIndex(e.values,t))});return e&&(i=i.filter(function(t){return t&&"value"in t&&K(t.value)})),i},getValueOnIndex:function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},updateTargetX:function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},updateTargetXs:function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},generateTargetX:function(t,e,n){var i=this.axis,r=(null==i?void 0:i.isCategorized())?n:t||n;return(null==i?void 0:i.isTimeSeries())?r=tD.bind(this)(t||this.getXValue(e,n)):(null==i?void 0:i.isCustomX())&&!(null==i?void 0:i.isCategorized())&&(r=K(t)?+t:this.getXValue(e,n)),r},updateXs:function(t){t.length&&(this.axis.xs=t.map(function(t){return t.x}))},getPrevX:function(t){var e=this.axis.xs[t-1];return ti(e)?e:null},getNextX:function(t){var e=this.axis.xs[t+1];return ti(e)?e:null},getBaseValue:function(t){var e=this.state.hasAxis,n=t.value;return n&&e&&(this.isAreaRangeType(t)?n=this.getRangedData(t,"mid"):this.isBubbleZType(t)&&(n=this.getBubbleZData(n,"y"))),n},getMinMaxValue:function(t){var e,n,i=this.getBaseValue.bind(this);return(t||this.data.targets.map(function(t){return t.values})).forEach(function(t,r){var a=t.map(i).filter(te);e=Math.min.apply(Math,J([r?e:1/0],a,!1)),n=Math.max.apply(Math,J([r?n:-1/0],a,!1))}),{min:e,max:n}},getMinMaxData:function(){var t=this,e=eo.dataMinMax,n=t.cache.get(e);if(!n){var i=t.data.targets.map(function(t){return t.values}),r=t.getMinMaxValue(i),a=[],o=[];i.forEach(function(e){var n=t.getFilteredDataByValue(e,r.min),i=t.getFilteredDataByValue(e,r.max);n.length&&(a=a.concat(n)),i.length&&(o=o.concat(i))}),t.cache.add(e,n={min:a,max:o})}return n},getTotalPerIndex:function(){var t=eo.dataTotalPerIndex,e=this.cache.get(t);return(this.config.data_groups.length||this.isStackNormalized())&&!e&&(e=[],this.data.targets.forEach(function(t){t.values.forEach(function(t,n){e[n]||(e[n]=0),e[n]+=te(t.value)?t.value:0})})),e},getTotalDataSum:function(t){var e=eo.dataTotalSum,n=this.cache.get(e);if(!te(n)){var i=tS(this.data.targets.map(function(t){return t.values})).map(function(t){return t.value});n=i.length?i.reduce(function(t,e){return t+e}):0,this.cache.add(e,n)}return t&&(n-=this.getHiddenTotalDataSum()),n},getHiddenTotalDataSum:function(){var t=this.api,e=this.state.hiddenTargetIds,n=0;return e.length&&(n=t.data.values.bind(t)(e).reduce(function(t,e){return t+e})),n},getFilteredDataByValue:function(t,e){var n=this;return t.filter(function(t){return n.getBaseValue(t)===e})},getMaxDataCount:function(){return Math.max.apply(Math,J(J([],this.data.targets.map(function(t){return t.values.length}),!1),[0],!1))},getMaxDataCountTarget:function(){var t=this.filterTargetsToShow()||[],e=t.length,n=this.config.axis_x_inverted;return e>1?t=tE(tZ(t=t.map(function(t){return t.values}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.x}))).map(function(t,e,i){return{x:t,index:n?i.length-e-1:e}}):e&&(t=t[0].values.concat()),t},mapToIds:function(t){return t.map(function(t){return t.id})},mapToTargetIds:function(t){return t?tu(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function(t,e){for(var n=this.mapToIds(t),i=0,r=void 0;r=n[i];i++)if(r===e)return!0;return!1},isTargetToShow:function(t){return 0>this.state.hiddenTargetIds.indexOf(t)},isLegendToShow:function(t){return 0>this.state.hiddenLegendIds.indexOf(t)},filterTargetsToShow:function(t){var e=this;return(t||e.data.targets).filter(function(t){return e.isTargetToShow(t.id)})},mapTargetsToUniqueXs:function(t){var e=this.axis,n=[];return(null==t?void 0:t.length)&&(n=tZ(tS(t.map(function(t){return t.values.map(function(t){return+t.x})}))),n=(null==e?void 0:e.isTimeSeries())?n.map(function(t){return new Date(+t)}):n.map(Number)),tE(n)},addTargetIds:function(t,e){var n=this.state;(tu(e)?e:[e]).forEach(function(e){0>n[t].indexOf(e)&&n[t].push(e)})},removeTargetIds:function(t,e){var n=this.state;(tu(e)?e:[e]).forEach(function(e){var i=n[t].indexOf(e);i>=0&&n[t].splice(i,1)})},addHiddenTargetIds:function(t){this.addTargetIds("hiddenTargetIds",t)},removeHiddenTargetIds:function(t){this.removeTargetIds("hiddenTargetIds",t)},addHiddenLegendIds:function(t){this.addTargetIds("hiddenLegendIds",t)},removeHiddenLegendIds:function(t){this.removeTargetIds("hiddenLegendIds",t)},getValuesAsIdKeyed:function(t){var e=this,n=e.state.hasAxis,i={},r=e.isMultipleX(),a=r?e.mapTargetsToUniqueXs(t).map(function(t){return tt(t)?t:+t}):null;return t.forEach(function(t){var o=[];t.values.filter(function(t){var e=t.value;return K(e)||null===e}).forEach(function(t){var i=t.value;null!==i&&e.isCandlestickType(t)&&(i=tu(i)?i.slice(0,4):[i.open,i.high,i.low,i.close]),tu(i)?o.push.apply(o,i):th(i)&&"high"in i?o.push.apply(o,Object.values(i)):e.isBubbleZType(t)?o.push(n&&e.getBubbleZData(i,"y")):r?o[e.getIndexByX(t.x,a)]=i:o.push(i)}),i[t.id]=o}),i},checkValueInTargets:function(t,e){for(var n,i=Object.keys(t),r=0;r<i.length;r++){n=t[i[r]].values;for(var a=0;a<n.length;a++)if(e(n[a].value))return!0}return!1},hasMultiTargets:function(){return this.filterTargetsToShow().length>1},hasNegativeValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t<0})},hasPositiveValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t>0})},orderTargets:function(t){var e=J([],t,!0),n=this.getSortCompareFn();return n&&e.sort(n),e},getSortCompareFn:function(t){void 0===t&&(t=!1);var e,n=this.config.data_order,i=/asc/i.test(n),r=/desc/i.test(n);if(i||r){var a=function(t,e){return t+Math.abs(e.value)};e=function(e,n){var r="values"in e?e.values.reduce(a,0):e.value,o="values"in n?n.values.reduce(a,0):n.value;return t?i?r-o:o-r:i?o-r:r-o}}else Q(n)&&(e=n.bind(this.api));return e||null},filterByX:function(t,e){return tS(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},filterRemoveNull:function(t){var e=this;return t.filter(function(t){return K(e.getBaseValue(t))})},filterByXDomain:function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},hasDataLabel:function(){var t=this.config.data_labels;return tr(t)&&t||ts(t)&&tl(t)},getDataIndexFromEvent:function(t){var e,n=this.config,i=this.state,r=i.hasRadar,a=i.inputType,o=i.eventReceiver,s=o.coords,c=o.rect;if(r){var u=t.target;/tspan/i.test(u.tagName)&&(u=u.parentNode);var h=(0,l.Z)(u).datum();e=h&&1===Object.keys(h).length?h.index:void 0}else{var d=n.axis_rotated,f="touch"===a&&t.changedTouches?t.changedTouches[0]:t;e=function t(e,n,i,r,a){if(i>r)return -1;var o=Math.floor((i+r)/2),s=e[o],c=s.x,l=s.w,u=void 0===l?0:l;return(a&&(c=e[o].y,u=e[o].h),n>=c&&n<=c+u)?o:n<c?t(e,n,i,o-1,a):t(e,n,o+1,r,a)}(s,d?f.clientY-c.top:f.clientX-c.left,0,s.length-1,d)}return e},getDataLabelLength:function(t,e,n){var i=this,r=[0,0];return i.$el.chart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]}).remove(),r},isNoneArc:function(t){return this.hasTarget(this.data.targets,t.id)},isArc:function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},findClosestFromTargets:function(t,e){var n=this,i=t.map(function(t){return n.findClosest(t.values,e)});return n.findClosest(i,e)},findClosest:function(t,e){var n,i=this,r=i.$el.main,a=t.filter(function(t){return t&&K(t.value)});return a.filter(function(t){return i.isBarType(t.id)||i.isCandlestickType(t.id)}).forEach(function(t){var e=i.isBarType(t.id)?".".concat(tX.chartBar,".").concat(tz.target).concat(i.getTargetSelectorSuffix(t.id)," .").concat(tX.bar,"-").concat(t.index):".".concat(tN.chartCandlestick,".").concat(tz.target).concat(i.getTargetSelectorSuffix(t.id)," .").concat(tN.candlestick,"-").concat(t.index," path");!n&&i.isWithinBar(r.select(e).node())&&(n=t)}),a.filter(function(t){return!i.isBarType(t.id)&&!i.isCandlestickType(t.id)}).forEach(function(t){i.dist(t,e)<i.getPointSensitivity(t)&&(n=t)}),n},dist:function(t,e){var n=this.config.axis_rotated,i=this.scale,r=this.circleY(t,t.index);return Math.sqrt(Math.pow((i.zoom||i.x)(t.x)-e[+n],2)+Math.pow(r-e[+!n],2))},convertValuesToStep:function(t){var e=this.axis,n=this.config.line_step_type,i=!!e&&e.isCategorized(),r=tu(t)?t.concat():[t];if(!(i||/step\-(after|before)/.test(n)))return t;if(r.length){var a=r[0],o=r[r.length-1],s=a.id,c=a.x;r.unshift({x:--c,value:a.value,id:s}),i&&"step-after"===n&&r.unshift({x:--c,value:a.value,id:s}),c=o.x,r.push({x:++c,value:o.value,id:s}),i&&"step-before"===n&&r.push({x:++c,value:o.value,id:s})}return r},convertValuesToRange:function(t){var e=tu(t)?t.concat():[t],n=[];return e.forEach(function(t){var e=t.x,i=t.id;n.push({x:e,id:i,value:t.value[0]}),n.push({x:e,id:i,value:t.value[2]})}),n},updateDataAttributes:function(t,e){var n=this.config["data_".concat(t)];return tn(e)||(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0})),n},getRangedData:function(t,e,n){void 0===e&&(e=""),void 0===n&&(n="areaRange");var i=null==t?void 0:t.value;if(tu(i)){if("bar"===n)return i.reduce(function(t,e){return e-t});var r=({areaRange:["high","mid","low"],candlestick:["open","high","low","close","volume"]})[n].indexOf(e);return r>=0&&i?i[r]:void 0}return i&&e?i[e]:i},setRatioForGroupedData:function(t){var e=this;if(e.config.data_groups.length&&t.some(function(t){return e.isGrouped(t.id)})){var n=function(t){return e.getRatio("index",t,!0)};t.forEach(function(t){"values"in t?t.values.forEach(n):n(t)})}},getRatio:function(t,e,n){void 0===n&&(n=!1);var i=this.config,r=this.state,a=this.api,o=0;if(e&&a.data.shown().length){if(o=e.ratio||e.value,"arc"===t){if(this.pie.padAngle()())o=e.value/this.getTotalDataSum(!0);else{var s=i.gauge_fullCircle?this.getArcLength():-2*this.getGaugeStartAngle(),c=this.hasType("gauge")?s:2*Math.PI;o=(e.endAngle-e.startAngle)/c}}else if("index"===t){var l=a.data.values.bind(a),u=this.getTotalPerIndex();if(r.hiddenTargetIds.length){var h=l(r.hiddenTargetIds,!1);h.length&&(h=h.reduce(function(t,e){return t.map(function(t,n){return(te(t)?t:0)+e[n]})}),u=u.map(function(t,e){return t-h[e]}))}var d=u[e.index];e.ratio=te(e.value)&&u&&d?e.value/d:0,o=e.ratio}else if("radar"===t)o=parseFloat(String(Math.max(e.value,0)))/r.current.dataMax*i.radar_size_ratio;else if("bar"===t){var f=this.getYScaleById.bind(this)(e.id).domain().reduce(function(t,e){return e-t});o=0===f?0:Math.abs(this.getRangedData(e,null,t)/f)}else"treemap"===t&&(o/=this.getTotalDataSum(!0))}return n&&o?100*o:o},updateDataIndexByX:function(t){var e=t.reduce(function(t,e,n){return t[Number(e.x)]=n,t},{});this.data.targets.forEach(function(t){t.values.forEach(function(t,n){var i=e[Number(t.x)];void 0===i&&(i=n),t.index=i})})},isBubbleZType:function(t){return this.isBubbleType(t)&&(th(t.value)&&("z"in t.value||"y"in t.value)||tu(t.value)&&t.value.length>=2)},isBarRangeType:function(t){var e=t.value;return this.isBarType(t)&&tu(e)&&e.length>=2&&e.every(function(t){return te(t)})},getDataById:function(t){var e,n=this.cache.get(t)||this.api.data(t);return null!==(e=null==n?void 0:n[0])&&void 0!==e?e:n}},{load:function(t,e){var n=this,i=n.data,r=e.append,a=t;a&&(e.filter&&(a=a.filter(e.filter)),(e.type||e.types)&&a.forEach(function(t){var i,r=(null===(i=e.types)||void 0===i?void 0:i[t.id])||e.type;n.setTargetType(t.id,r)}),i.targets.forEach(function(t){for(var e=0;e<a.length;e++)if(t.id===a[e].id){t.values=r?t.values.concat(a[e].values):a[e].values,a.splice(e,1);break}}),i.targets=i.targets.concat(a)),n.updateTargets(i.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.updateTypesElements(),em.call(n,e.done,e.resizeAfter)},loadFromArgs:function(t){var e=this;e.config&&(e.cache.reset(),e.convertData(t,function(n){var i=t.data||n;t.append&&(i.__append__=!0),i&&e.load(e.convertDataToTargets(i),t)}))},unload:function(t,e){var n=this,i=n.state,r=n.$el,a=n.$T,o=e,s=t;if(n.cache.reset(),o||(o=function(){}),!(s=s.filter(function(t){return n.hasTarget(n.data.targets,t)}))||0===s.length){o();return}a(r.svg.selectAll(s.map(function(t){return n.selectorTarget(t)}))).style("opacity","0").remove().call(tg,o),s.forEach(function(t){i.withoutFadeIn[t]=!1,r.legend&&r.legend.selectAll(".".concat(tV.legendItem).concat(n.getTargetSelectorSuffix(t))).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})}),i.hasTreemap&&n.updateTargetsForTreemap(n.data.targets),n.updateTypesElements()}},{categoryName:function(t){var e,n=this.config.axis_x_categories;return null!==(e=null==n?void 0:n[t])&&void 0!==e?e:t}},{generateClass:function(t,e){return" ".concat(t," ").concat(t+this.getTargetSelectorSuffix(e))},getClass:function(t,e){var n=this,i=/s$/.test(t),r=/^(area|arc|line|treemap)s?$/.test(t),a=i?"id":"index";return function(o){var s=o.data||o;return((e?n.generateClass(t5[i?"shapes":"shape"],s[a]):"")+n.generateClass(t5[t],s[r?"id":a])).trim()}},getChartClass:function(t){var e=this;return function(n){return t5["chart".concat(t)]+e.classTarget((n.data?n.data:n).id)}},generateExtraLineClass:function(){var t=this.config.line_classes||[],e=[];return function(n){var i,r=n.id||(null===(i=n.data)||void 0===i?void 0:i.id)||n;return 0>e.indexOf(r)&&e.push(r),t[e.indexOf(r)%t.length]}},classRegion:function(t,e){return"".concat(this.generateClass(t5.region,e)," ").concat("class"in t?t.class:"")},classTarget:function(t){var e=this.config.data_classes[t],n="";return e&&(n=" ".concat(t5.target,"-").concat(e)),this.generateClass(t5.target,t)+n},classFocus:function(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function(t){return" ".concat(this.state.focusedTargetIds.indexOf(t.id)>=0?t5.focused:"")},classDefocused:function(t){return" ".concat(this.state.defocusedTargetIds.indexOf(t.id)>=0?t5.defocused:"")},getTargetSelectorSuffix:function(t){return(t||0===t?"-".concat(t):"").replace(/([\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\])/g,"-")},selectorTarget:function(t,e,n){void 0===e&&(e=""),void 0===n&&(n="");var i=this.getTargetSelectorSuffix(t);return"".concat(e,".").concat(t5.target+i," ").concat(n,", ").concat(e,".").concat(t5.circles+i," ").concat(n)},selectorTargets:function(t,e){var n=this,i=t||[];return i.length?i.map(function(t){return n.selectorTarget(t,e)}):null},selectorLegend:function(t){return".".concat(t5.legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function(t){var e=this;return(null==t?void 0:t.length)?t.map(function(t){return e.selectorLegend(t)}):null}},{generateColor:function(){var t=this,e=t.$el,n=t.config,i=n.data_colors,r=n.data_color,a=[],o=tl(n.color_pattern)?n.color_pattern:(0,v.Z)(function(t){var e=eo.colorPattern,n=Y.body,i=n[e];if(!i){var r=t.classed(tB.colorPattern,!0).style("background-image");t.classed(tB.colorPattern,!1),r.indexOf(";")>-1&&(i=r.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map(function(t){return t.trim().replace(/[\"'\s]/g,"")}).filter(Boolean),n[e]=i)}return i}(e.chart)||eT).range(),s=o;if(Q(n.color_tiles)){var c=n.color_tiles.bind(t.api)(),l=o.map(function(e,n){var i=e.replace(/[#\(\)\s,]/g,""),r="".concat(t.state.datetimeId,"-pattern-").concat(i,"-").concat(n);return eb(c[n%c.length],e,r)});o=l.map(function(t){return"url(#".concat(t.id,")")}),t.patterns=l}return function(e){var c,l,u=e.id||(null===(c=e.data)||void 0===c?void 0:c.id)||e,h=t.isTypeOf(u,["line","spline","step"])||!n.data_types[u];return Q(i[u])?l=i[u].bind(t.api)(e):i[u]?l=i[u]:(0>a.indexOf(u)&&a.push(u),l=h?s[a.indexOf(u)%s.length]:o[a.indexOf(u)%o.length],i[u]=l),Q(r)?r.bind(t.api)(l,e):l}},generateLevelColor:function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,r=n.max||100,a=n.values&&n.values.length?n.values:[];return tl(n)?function(t){for(var n=i?t:100*t/r,o=e[e.length-1],s=0,c=a.length;s<c;s++)if(n<=a[s]){o=e[s];break}return o}:null},generateDataLabelBackgroundColorFilter:function(t){var e=this,n=e.$el,i=e.config,r=e.state,a=t||i.data_labels_backgroundColors;if(a){var o=[];tt(a)?o.push(""):th(a)&&(o=Object.keys(a)),o.forEach(function(i){var o="".concat(r.datetimeId,"-labels-bg").concat(e.getTargetSelectorSuffix(i)).concat(t?e.getTargetSelectorSuffix(t):"");n.defs.append("filter").attr("x","0").attr("y","0").attr("width","1").attr("height","1").attr("id",o).html('<feFlood flood-color="'.concat(""===i?a:a[i],'" /><feComposite in="SourceGraphic"/>'))})}},getGradienColortUrl:function(t){return"url(#".concat(this.state.datetimeId,"-gradient").concat(this.getTargetSelectorSuffix(t),")")},updateLinearGradient:function(){var t=this,e=t.config,n=t.data.targets,i=t.state.datetimeId,r=t.$el.defs;n.forEach(function(n){var a="".concat(i,"-gradient").concat(t.getTargetSelectorSuffix(n.id)),o=t.hasPointType()&&e.point_radialGradient,s=t.isAreaType(n)&&"area"||t.isBarType(n)&&"bar";if((o||s)&&r.select("#".concat(a)).empty()){var c=t.color(n),l={defs:null,stops:[]};if(o){var u=o.cx,h=o.cy,d=o.r,f=o.stops,g=void 0===f?[[.1,c,0],[.9,c,1]]:f;l.stops=g,l.defs=r.append("radialGradient").attr("id","".concat(a)).attr("cx",void 0===u?.3:u).attr("cy",void 0===h?.3:h).attr("r",void 0===d?.7:d)}else{var p=e.axis_rotated,v=e["".concat(s,"_linearGradient")],_=v.x,x=void 0===_?p?[1,0]:[0,0]:_,y=v.y,m=void 0===y?p?[0,0]:[0,1]:y,b=v.stops,g=void 0===b?[[0,c,1],[1,c,0]]:b;l.stops=g,l.defs=r.append("linearGradient").attr("id","".concat(a)).attr("x1",x[0]).attr("x2",x[1]).attr("y1",m[0]).attr("y2",m[1])}l.stops.forEach(function(e){var i=e[0],r=e[1],a=e[2],o=Q(r)?r.bind(t.api)(n.id):r;l.defs&&l.defs.append("stop").attr("offset",i).attr("stop-color",o||c).attr("stop-opacity",a)})}})},setOverColor:function(t,e){var n=this,i=n.config,r=n.$el.main,a=i.color_onover,o=t?a:n.color;th(o)?o=function(t){var e=t.id;return e in a?a[e]:n.color(e)}:tt(o)?o=function(){return a}:Q(a)&&(o=o.bind(n.api)),r.selectAll(th(e)?".".concat(tI.arc).concat(n.getTargetSelectorSuffix(e.id)):".".concat(tK.shape,"-").concat(e)).style("fill",o)}},{getYDomainMinMax:function(t,e){var n=this.axis,i=this.config,r="min"===e,a=i.data_groups,o=this.mapToIds(t),s=this.getValuesAsIdKeyed(t);if(a.length>0){var c=this["has".concat(r?"Negative":"Positive","ValueInTargets")](t);a.forEach(function(t){var e=t.filter(function(t){return o.indexOf(t)>=0});if(e.length){var i=e[0],a=n.getId(i);c&&s[i]&&(s[i]=s[i].map(function(t){return(r?t<0:t>0)?t:0})),e.filter(function(t,e){return e>0}).forEach(function(t){if(s[t]){var e=n.getId(t);s[t].forEach(function(t,n){var o=+t;e!==a||c&&(r?o>0:o<0)||(s[i][n]+=o)})}})}})}return tM(e,Object.keys(s).map(function(t){return tM(e,s[t])}))},isHiddenTargetWithYDomain:function(t){var e=this;return e.state.hiddenTargetIds.some(function(n){return e.axis.getId(n)===t})},getYDomain:function(t,e,n){var i=this,r=i.axis,a=i.config,o=i.scale,s="axis_".concat(e);if(i.isStackNormalized())return[0,100];var c=(null==o?void 0:o[e])&&"log"===o[e].type,l=t.filter(function(t){return r.getId(t.id)===e}),u=n?i.filterByXDomain(l,n):l;if(0===u.length)return i.isHiddenTargetWithYDomain(e)?o[e].domain():"y2"===e?o.y.domain():i.getYDomain(t,"y2",n);var h=a["".concat(s,"_min")],d=a["".concat(s,"_max")],f=a["".concat(s,"_center")],g=a["".concat(s,"_inverted")],p=i.hasDataLabel()&&a.axis_rotated,v=i.hasDataLabel()&&!a.axis_rotated,_=i.getYDomainMinMax(u,"min"),x=i.getYDomainMinMax(u,"max"),y=J([j.BAR,j.BUBBLE,j.SCATTER],W.Line,!0).some(function(t){var e=t.indexOf("area")>-1?"area":t;return i.hasType(t,u,!0)&&a["".concat(e,"_zerobased")]});_=K(h)?h:K(d)?_<=d?_:d-10:_,x=K(d)?d:K(h)?h<=x?x:h+10:x,isNaN(_)&&(_=0),isNaN(x)&&(x=_),_===x&&(_<0?x=0:_=0);var m=_>=0&&x>=0,b=_<=0&&x<=0;(K(h)&&m||K(d)&&b)&&(y=!1),y&&(m&&(_=0),b&&(x=0));var T=Math.abs(x-_),w={top:.1*T,bottom:.1*T};if(ti(f)){var k=Math.max(Math.abs(_),Math.abs(x));x=f+k,_=f-k}if(p){var A=to(o.y.range()),Z=i.getDataLabelLength(_,x,"width").map(function(t){return t/A});["bottom","top"].forEach(function(t,e){w[t]+=Z[e]/(1-Z[0]-Z[1])*T})}else if(v){var S=i.getDataLabelLength(_,x,"height");["bottom","top"].forEach(function(t,e){w[t]+=i.convertPixelToScale("y",S[e],T)})}w=i.getResettedPadding(w);var C=a["".concat(s,"_padding")];tl(C)&&["bottom","top"].forEach(function(t){w[t]=r.getPadding(C,t,w[t],T)}),y&&(m&&(w.bottom=_),b&&(w.top=-x));var E=c?[_,x].map(function(t){return t<0?0:t}):[_-w.bottom,x+w.top];return g?E.reverse():E},getXDomainMinMax:function(t,e){var n,i=this.config["axis_x_".concat(e)],r=tM(e,t.map(function(t){return tM(e,t.values.map(function(t){return t.x}))})),a=th(i)?i.value:i;return a=ti(a)&&(null===(n=this.axis)||void 0===n?void 0:n.isTimeSeries())?tD.bind(this)(a):a,th(i)&&i.fit&&("min"===e&&a<r||"max"===e&&a>r)&&(a=void 0),ti(a)?a:r},getXDomainPadding:function(t,e){var n,i=this.axis,r=this.config.axis_x_padding,a=i.isTimeSeries()&&e,o=to(t);if(i.isCategorized()||a)n=0;else if(this.hasType("bar")){var s=this.getMaxDataCount();n=s>1?o/(s-1)/2:.5}else n=this.getResettedPadding(.01*o);var c=te(r)?{left:r,right:r}:r,l=c.left,u=void 0===l?n:l,h=c.right,d=void 0===h?n:h;if("px"===r.unit){var f=Math.abs(o+.2*o);u=i.getPadding(r,"left",n,f),d=i.getPadding(r,"right",n,f)}else{var g=o+u+d;if(a&&g){var p=o/e/g;u=u/g/p,d=d/g/p}}return{left:u,right:d}},getXDomain:function(t){var e=this.axis,n=this.config,i=this.scale.x,r=n.axis_x_inverted,a=[this.getXDomainMinMax(t,"min"),this.getXDomainMinMax(t,"max")],o=a[0],s=void 0===o?0:o,c=a[1],l=void 0===c?0:c;if("log"!==i.type){var u=e.isCategorized(),h=e.isTimeSeries(),d=this.getXDomainPadding(a),f=a[0],g=a[1];f-g!=0||u||(h?(f=new Date(.5*f.getTime()),g=new Date(1.5*g.getTime())):(f=0===f?1:.5*f,g=0===g?-1:1.5*g)),(f||0===f)&&(s=h?new Date(f.getTime()-d.left):f-d.left),(g||0===g)&&(l=h?new Date(g.getTime()+d.right):g+d.right)}return r?[l,s]:[s,l]},updateXDomain:function(t,e,n,i,r){var a=this.config,o=this.org,s=this.scale,c=s.x,l=s.subX,u=a.zoom_enabled;if(n&&(c.domain(r||tE(this.getXDomain(t),!a.axis_x_inverted)),o.xDomain=c.domain(),l.domain(c.domain()),null===(h=this.brush)||void 0===h||h.scale(l)),e){var h,d,f=!r&&this.brush&&(d=ty(this))&&d[0]!==d[1]?ty(this).map(l.invert):o.xDomain;c.domain(f)}return(n||e)&&u&&this.zoom.updateScaleExtent(),i&&c.domain(this.trimXDomain(c.orgDomain())),c.domain()},trimXDomain:function(t){var e=this.config.axis_x_inverted,n=this.getZoomDomain(),i=n[0],r=n[1];return(e?t[0]>=i:t[0]<=i)&&(t[1]=+t[1]+(i-t[0]),t[0]=i),(e?t[1]<=r:t[1]>=r)&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},getZoomDomain:function(t,e){void 0===t&&(t="zoom"),void 0===e&&(e=!1);var n=this.config,i=this.scale,r=this.org,a=e&&i[t]?i[t].domain():r.xDomain,o=a[0],s=a[1];return"zoom"===t&&(ti(n.zoom_x_min)&&(o=tM("min",[o,n.zoom_x_min])),ti(n.zoom_x_max)&&(s=tM("max",[s,n.zoom_x_max]))),[o,s]},convertPixelToScale:function(t,e,n){var i=this.config,r=this.state,a=i.axis_rotated;return e/r["x"===t?a?"height":"width":a?"width":"height"]*n},withinRange:function(t,e,n){var i=this.config.axis_x_inverted,r=n[0],a=n[1];if(Array.isArray(t)){var o=J([],t,!0);if(i&&o.reverse(),o[0]<o[1])return t.every(function(n,o){return(0===o?i?+n<=r:+n>=r:i?+n>=a:+n<=a)&&!t.every(function(t,n){return t===e[n]})})}return!1}},{setExpand:function(t,e,n){var i=this.config;this.$el.circle&&i.point_focus_expand_enabled&&this.expandCircles(t,e,n),this.expandBarTypeShapes(!0,t,e,n)},expandBarTypeShapes:function(t,e,n,i){void 0===t&&(t=!0);var r=this;["bar","candlestick"].filter(function(t){return r.$el[t]}).forEach(function(a){i&&r.$el[a].classed(tz.EXPANDED,!1),r.getShapeByIndex(a,e,n).classed(tz.EXPANDED,t)})},setOverOut:function(t,e){var n=this,i=n.config,r=n.state,a=r.hasRadar,o=r.hasTreemap,s=n.$el.main,c=th(e);if(c||-1!==e){var u=i[t?"data_onover":"data_onout"].bind(n.api);if(i.color_onover&&n.setOverColor(t,e,c),c){var h=o?t2.treemap:tI.arc;u(e,s.select(".".concat(h).concat(n.getTargetSelectorSuffix(e.id))).node())}else if(i.tooltip_grouped)t&&(a&&n.isPointFocusOnly()?n.showCircleFocus(n.getAllValuesOnIndex(e,!0)):n.setExpand(e,null,!0)),n.isMultipleX()||s.selectAll(".".concat(tK.shape,"-").concat(e)).each(function(t){u(t,this)});else{var d=n.cache.get(eo.setOverOut)||[],f=s.selectAll(".".concat(tK.shape,"-").concat(e)).filter(function(t){return n.isWithinShape(this,t)}),g=f.filter(function(){var t=this;return d.every(function(e){return e!==t})});if(!t||f.empty()||d.length===g.size()&&g.nodes().every(function(t,e){return t!==d[e]}))for(;d.length;){var p=d.pop();i.data_onout.bind(n.api)((0,l.Z)(p).datum(),p)}g.each(function(){t&&(u((0,l.Z)(this).datum(),this),d.push(this))}),n.cache.add(eo.setOverOut,d)}}},callOverOutForTouch:function(t){var e=this.cache.get(eo.callOverOutForTouch);(th(t)&&e?t.id!==e.id:t!==e)&&((e||te(e))&&this.setOverOut(!1,e),(t||te(t))&&this.setOverOut(!0,t),this.cache.add(eo.callOverOutForTouch,t))},getDraggableSelection:function(){var t=this,e=t.config,n=t.state;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?(0,p.Z)().on("drag",function(e){n.event=e,t.drag(tx(e,this))}).on("start",function(e){n.event=e,t.dragstart(tx(e,this))}).on("end",function(e){n.event=e,t.dragend()}):function(){}},dispatchEvent:function(t,e,n){var i,r,a=this.config,o=this.state,s=o.eventReceiver,c=o.hasAxis,l=o.hasRadar,u=o.hasTreemap,h=this.$el,d=h.eventRect,f=h.radar,g=h.treemap,p=null===(r=u&&s.rect||l&&f.axes.select(".".concat(t$.axis,"-").concat(e," text"))||d||(null===(i=this.getArcElementByIdOrIndex)||void 0===i?void 0:i.call(this,e)))||void 0===r?void 0:r.node();if(p){var v=this.isMultipleX(),_=a.axis_rotated,x=p.getBoundingClientRect(),y=x.width,m=x.left,b=x.top;if(c&&!l&&!v){var T=s.coords[e];T?(y=T.w,m+=T.x,b+=T.y):(y=0,m=0,b=0)}var w=m+(n?n[0]:0)+(v||_?0:y/2),k=b+(n?n[1]:0)+(_?4:0);tL[/^(mouse|click)/.test(t)?"mouse":"touch"](u?g.node():p,t,{screenX:w,screenY:k,clientX:w,clientY:k})}},setDragStatus:function(t){this.state.dragging=t},unbindZoomEvent:function(){var t=this.$el,e=t.eventRect,n=t.zoomResetBtn;null==e||e.on(".zoom wheel.zoom .drag",null),null==n||n.on("click",null).style("display","none")},unbindAllEvents:function(){var t,e=this.$el,n=e.arcs,i=e.eventRect,r=e.legend,a=e.region,o=e.svg,s=e.treemap,c=this.brush;[o,i,null==a?void 0:a.list,null==c?void 0:c.getSelection(),null==n?void 0:n.selectAll("path"),null==r?void 0:r.selectAll("g"),s].forEach(function(t){return null==t?void 0:t.on("wheel click mouseover mousemove mouseout touchstart touchmove touchend touchstart.eventRect touchmove.eventRect touchend.eventRect .brush .drag .zoom wheel.zoom dblclick.zoom",null)}),null===(t=this.unbindZoomEvent)||void 0===t||t.call(this)}},{yFormat:function(t){return ew(this,"y",t)},y2Format:function(t){return ew(this,"y2",t)},getDefaultValueFormat:function(){var t=this,e=t.defaultArcValueFormat,n=t.yFormat,i=t.y2Format,r=t.hasArcType(null,["gauge","polar","radar"]);return function(a,o,s){return(r?e:t.axis&&"y2"===t.axis.getId(s)?i:n).call(t,a,o)}},defaultValueFormat:function(t){return tu(t)?t.join("~"):K(t)?+t:""},defaultArcValueFormat:function(t,e){return"".concat((100*e).toFixed(1),"%")},defaultPolarValueFormat:function(t){return"".concat(t)},dataLabelFormat:function(t){var e=this.config.data_labels,n=function(t){var e=t;return tu(t)?e=t.join("~"):th(t)&&(e=Object.values(t).join("~")),e},i=n;return Q(e.format)?i=e.format:ts(e.format)&&(i=e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}),i.bind(this.api)}},{initLegend:function(){var t=this.config,e=this.$el;this.legendItemTextBox={},this.state.legendHasRendered=!1,t.legend_show?(t.legend_contents_bindto||(e.legend=this.$el.svg.append("g").classed(tV.legend,!0).attr("transform",this.getTranslate("legend"))),this.updateLegend()):this.state.hiddenLegendIds=this.mapToIds(this.data.targets)},updateLegend:function(t,e,n){var i,r=this,a=r.config,o=r.state,s=r.scale,c=r.$el,l=e||{withTransform:!1,withTransitionForTransform:!1,withTransition:!1};l.withTransition=td(l,"withTransition",!0),l.withTransitionForTransform=td(l,"withTransitionForTransform",!0),a.legend_contents_bindto&&a.legend_contents_template?r.updateLegendTemplate():o.hasTreemap||r.updateLegendElement(t||r.mapToIds(r.data.targets),l,n),null===(i=c.legend)||void 0===i||i.selectAll(".".concat(tV.legendItem)).classed(tV.legendItemHidden,function(t){var e=!r.isTargetToShow(t);return e&&(this.style.opacity=null),e}),r.updateScales(!1,!s.zoom),r.updateSvgSize(),r.transformAll(l.withTransitionForTransform,n),o.legendHasRendered=!0},updateLegendTemplate:function(){var t=this,e=t.config,n=t.$el,i=(0,l.Z)(e.legend_contents_bindto),r=e.legend_contents_template;if(!i.empty()){var a=t.mapToIds(t.data.targets),o=[],s="";a.forEach(function(e){var n=Q(r)?r.bind(t.api)(e,t.color(e),t.api.data(e)[0].values):tR(r,{COLOR:t.color(e),TITLE:e});n&&(o.push(e),s+=n)});var c=i.html(s).selectAll(function(){return this.childNodes}).data(o);t.setLegendItem(c),n.legend=i}},updateSizeForLegend:function(t){var e=this.config,n=this.state,i=n.isLegendTop,r=n.isLegendLeft,a=n.isLegendRight,o=n.isLegendInset,s=n.current,c=t.width,l=t.height,u={top:i?this.getCurrentPaddingByDirection("top")+e.legend_inset_y+5.5:s.height-l-this.getCurrentPaddingByDirection("bottom")-e.legend_inset_y,left:r?this.getCurrentPaddingByDirection("left")+e.legend_inset_x+.5:s.width-c-this.getCurrentPaddingByDirection("right")-e.legend_inset_x+.5};this.state.margin3={top:a?0:o?u.top:s.height-l,right:NaN,bottom:0,left:a?s.width-c:o?u.left:0}},transformLegend:function(t){var e=this.$el.legend;(0,this.$T)(e,t).attr("transform",this.getTranslate("legend"))},updateLegendStep:function(t){this.state.legendStep=t},updateLegendItemWidth:function(t){this.state.legendItemWidth=t},updateLegendItemHeight:function(t){this.state.legendItemHeight=t},updateLegendItemColor:function(t,e){var n=this.$el.legend;n&&n.select(".".concat(tV.legendItem,"-").concat(t," line")).style("stroke",e)},getLegendWidth:function(){var t=this.state,e=t.current.width,n=t.isLegendRight,i=t.isLegendInset,r=t.legendItemWidth,a=t.legendStep;return this.config.legend_show?n||i?r*(a+1):e:0},getLegendHeight:function(){var t,e=this.state,n=e.current,i=e.isLegendRight,r=e.legendItemHeight,a=e.legendStep,o=(null===(t=this.config.padding)||void 0===t?void 0:t.mode)==="fit";return this.config.legend_show?i?n.height:(o?10:Math.max(20,r))*(a+1):0},opacityForUnfocusedLegend:function(t){return t.classed(tV.legendItemHidden)?null:"0.3"},toggleFocusLegend:function(t,e){var n=this,i=n.$el.legend,r=n.$T,a=n.mapToTargetIds(t);i&&r(i.selectAll(".".concat(tV.legendItem)).filter(function(t){return a.indexOf(t)>=0}).classed(tG.legendItemFocused,e)).style("opacity",function(){return e?null:n.opacityForUnfocusedLegend.call(n,(0,l.Z)(this))})},revertLegend:function(){var t=this.$el.legend,e=this.$T;t&&e(t.selectAll(".".concat(tV.legendItem)).classed(tG.legendItemFocused,!1)).style("opacity",null)},showLegend:function(t){var e=this.config,n=this.$el,i=this.$T;!e.legend_show&&(e.legend_show=!0,n.legend?n.legend.style("visibility",null):this.initLegend(),this.state.legendHasRendered||this.updateLegend()),this.removeHiddenLegendIds(t),i(n.legend.selectAll(this.selectorLegends(t)).style("visibility",null)).style("opacity",null)},hideLegend:function(t){var e=this.config,n=this.$el.legend;e.legend_show&&tc(t)&&(e.legend_show=!1,n.style("visibility","hidden")),this.addHiddenLegendIds(t),n.selectAll(this.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},getLegendItemTextBox:function(t,e){var n,i=this.cache,r=this.state,a=eo.legendItemTextBox;return t&&((n=!r.redrawing&&i.get(a)||{})[t]||(n[t]=this.getTextRect(e,tV.legendItem),i.add(a,n)),n=n[t]),n},setLegendItem:function(t){var e=this,n=e.$el,i=e.api,r=e.config,a=e.state,o="touch"===a.inputType,s=e.hasType("gauge"),c=r.boost_useCssRule,u=r.legend_item_interaction;t.attr("class",function(t){var n=(0,l.Z)(this);return(!n.empty()&&n.attr("class")||"")+e.generateClass(tV.legendItem,t)}).style("visibility",function(t){return e.isLegendToShow(t)?null:"hidden"}),r.interaction_enabled&&(c&&[[".".concat(tV.legendItem),"cursor:pointer"],[".".concat(tV.legendItem," text"),"pointer-events:none"],[".".concat(tV.legendItemPoint," text"),"pointer-events:none"],[".".concat(tV.legendItemTile),"pointer-events:none"],[".".concat(tV.legendItemEvent),"fill-opacity:0"]].forEach(function(t){var i=t[0],r=t[1];e.setCssRule(!1,i,[r])(n.legend)}),t.on(u.dblclick?"dblclick":"click",u||Q(r.legend_item_onclick)?function(t,n){if(!tf(r.legend_item_onclick,i,n)){var s=t.altKey,c=t.target;"dblclick"===t.type||s?a.hiddenTargetIds.length&&-1===c.parentNode.getAttribute("class").indexOf(tV.legendItemHidden)?i.show():(i.hide(),i.show(n)):(i.toggle(n),(0,l.Z)(this).classed(tG.legendItemFocused,!1))}o&&e.hideTooltip()}:null),o||t.on("mouseout",u||Q(r.legend_item_onout)?function(t,n){tf(r.legend_item_onout,i,n)||((0,l.Z)(this).classed(tG.legendItemFocused,!1),s&&e.undoMarkOverlapped(e,".".concat(tU.gaugeValue)),e.api.revert())}:null).on("mouseover",u||Q(r.legend_item_onover)?function(t,n){!tf(r.legend_item_onover,i,n)&&((0,l.Z)(this).classed(tG.legendItemFocused,!0),s&&e.markOverlapped(n,e,".".concat(tU.gaugeValue)),!a.transiting&&e.isTargetToShow(n)&&i.focus(n))}:null),!t.empty()&&t.on("click mouseout mouseover")&&t.style("cursor",e.getStylePropValue("pointer")))},updateLegendElement:function(t,e){var n,i,r,a=this.config,o=this.state,s=this.$el.legend,c=this.$T,l="circle"!==a.legend_item_tile_type,u=a.legend_item_tile_r,h={width:l?a.legend_item_tile_width:2*u,height:l?a.legend_item_tile_height:2*u},d={padding:{top:4,right:10},max:{width:0,height:0},posMin:10,step:0,tileWidth:h.width+5,totalLength:0},f={offsets:{},widths:{},heights:{},margins:[0],steps:{}},g=t.filter(function(t){return!ti(a.data_names[t])||null!==a.data_names[t]}),p=e.withTransition,v=this.getUpdateLegendPositions(g,d,f);o.isLegendInset&&(d.step=a.legend_inset_step?a.legend_inset_step:g.length,this.updateLegendStep(d.step)),o.isLegendRight?(n=function(t){return d.max.width*f.steps[t]},i=function(t){return f.margins[f.steps[t]]+f.offsets[t]}):o.isLegendInset?(n=function(t){return d.max.width*f.steps[t]+10},i=function(t){return f.margins[f.steps[t]]+f.offsets[t]}):(n=function(t){return f.margins[f.steps[t]]+f.offsets[t]},i=function(t){return d.max.height*f.steps[t]});var _={xText:function(t,e){return n(t,e)+4+h.width},xRect:function(t,e){return n(t,e)},x1Tile:function(t,e){return n(t,e)-2},x2Tile:function(t,e){return n(t,e)-2+h.width},yText:function(t,e){return i(t,e)+9},yRect:function(t,e){return i(t,e)-5},yTile:function(t,e){return i(t,e)+4}};this.generateLegendItem(g,h,v,_),r=s.select(".".concat(tV.legendBackground," rect")),o.isLegendInset&&d.max.width>0&&0===r.size()&&(r=s.insert("g",".".concat(tV.legendItem)).attr("class",tV.legendBackground).append("rect")),c(s.selectAll("text").data(g).text(function(t){return ti(a.data_names[t])?a.data_names[t]:t}).each(function(t,e){v(this,t,e)}),p).attr("x",_.xText).attr("y",_.yText),c(s.selectAll("rect.".concat(tV.legendItemEvent)).data(g),p).attr("width",function(t){return f.widths[t]}).attr("height",function(t){return f.heights[t]}).attr("x",_.xRect).attr("y",_.yRect),this.updateLegendItemPos(g,p,_),r&&c(r,p).attr("height",this.getLegendHeight()-12).attr("width",d.max.width*(d.step+1)+10),this.updateLegendItemWidth(d.max.width),this.updateLegendItemHeight(d.max.height),this.updateLegendStep(d.step)},getUpdateLegendPositions:function(t,e,n){var i=this,r=i.config,a=i.state,o=a.isLegendRight||a.isLegendInset;return function(s,c,l){var u,h=l===t.length-1,d=i.getLegendItemTextBox(c,s),f=d.width+e.tileWidth+(h&&!o?0:e.padding.right)+r.legend_padding,g=d.height+e.padding.top,p=o?g:f,v=o?i.getLegendHeight():i.getLegendWidth(),_=function(t,i){!i&&(u=(v-e.totalLength-p)/2)<e.posMin&&(u=(v-p)/2,e.totalLength=0,e.step++),n.steps[t]=e.step,n.margins[e.step]=a.isLegendInset?10:u,n.offsets[t]=e.totalLength,e.totalLength+=p};if(0===l&&(e.totalLength=0,e.step=0,e.max.width=0,e.max.height=0),r.legend_show&&!i.isLegendToShow(c)){n.widths[c]=0,n.heights[c]=0,n.steps[c]=0,n.offsets[c]=0;return}n.widths[c]=f,n.heights[c]=g,(!e.max.width||f>=e.max.width)&&(e.max.width=f),(!e.max.height||g>=e.max.height)&&(e.max.height=g);var x=o?e.max.height:e.max.width;r.legend_equally?(Object.keys(n.widths).forEach(function(t){return n.widths[t]=e.max.width}),Object.keys(n.heights).forEach(function(t){return n.heights[t]=e.max.height}),(u=(v-x*t.length)/2)<e.posMin?(e.totalLength=0,e.step=0,t.forEach(function(t){return _(t)})):_(c,!0)):_(c)}},generateLegendItem:function(t,e,n,i){var r=this,a=r.config,o=r.state,s=r.$el.legend,c=a.legend_usePoint,l=a.legend_item_tile_r,h=a.legend_item_tile_type,d="circle"!==h,f=o.isLegendRight||o.isLegendInset,g=s.selectAll(".".concat(tV.legendItem)).data(t).enter().append("g");if(r.setLegendItem(g),g.append("text").text(function(t){return ti(a.data_names[t])?a.data_names[t]:t}).each(function(t,e){n(this,t,e)}).style("pointer-events",r.getStylePropValue("none")).attr("x",f?i.xText:-200).attr("y",f?-200:i.yText),g.append("rect").attr("class",tV.legendItemEvent).style("fill-opacity",r.getStylePropValue("0")).attr("x",f?i.xRect:-200).attr("y",f?-200:i.yRect),c){var p=[];g.append(function(t){var e=tl(a.point_pattern)?a.point_pattern:[a.point_type];-1===p.indexOf(t)&&p.push(t);var n=e[p.indexOf(t)%e.length];return"rectangle"===n&&(n="rect"),Y.createElementNS(u.Z.svg,"hasValidPointType"in r&&r.hasValidPointType(n)?n:"use")}).attr("class",tV.legendItemPoint).style("fill",ek.bind(r)).style("pointer-events",r.getStylePropValue("none")).attr("href",function(t,e,n){var i=n[e].nodeName.toLowerCase(),a=r.getTargetSelectorSuffix(t);return"use"===i?"#".concat(o.datetimeId,"-point").concat(a):void 0})}else g.append(d?"line":h).attr("class",tV.legendItemTile).style("stroke",ek.bind(r)).style("pointer-events",r.getStylePropValue("none")).call(function(t){"circle"===h?t.attr("r",l).style("fill",ek.bind(r)).attr("cx",f?i.x2Tile:-200).attr("cy",f?-200:i.yTile):d&&t.attr("stroke-width",e.height).attr("x1",f?i.x1Tile:-200).attr("y1",f?-200:i.yTile).attr("x2",f?i.x2Tile:-200).attr("y2",f?-200:i.yTile)})},updateLegendItemPos:function(t,e,n){var i=this.config,r=this.$el.legend,a=this.$T,o=i.legend_usePoint,s=i.legend_item_tile_type,c="circle"!==s;if(o){var u=r.selectAll(".".concat(tV.legendItemPoint)).data(t);a(u,e).each(function(){var t=this.nodeName.toLowerCase(),e=i.point_r,r="x",a="y",o=2,s=2.5,c=null,u=null,h=null;if("circle"===t){var d=.2*e;r="cx",a="cy",c=e+d,o=2*e,s=-d}else if("rect"===t){var d=2.5*e;u=d,h=d,s=3}(0,l.Z)(this).attr(r,function(t){return n.x1Tile(t)+o}).attr(a,function(t){return n.yTile(t)-s}).attr("r",c).attr("width",u).attr("height",h)})}else{var u=r.selectAll(".".concat(tV.legendItemTile)).data(t);a(u,e).style("stroke",ek.bind(this)).call(function(t){"circle"===s?t.attr("cx",function(t){var e=n.x2Tile(t);return e-(e-n.x1Tile(t))/2}).attr("cy",n.yTile):c&&t.attr("x1",n.x1Tile).attr("y1",n.yTile).attr("x2",n.x2Tile).attr("y2",n.yTile)})}}},{redraw:function(t){void 0===t&&(t={});var e,n,i,r=this,a=r.config,o=r.state,s=r.$el,c=s.main,l=s.treemap;o.redrawing=!0;var u=r.filterTargetsToShow(r.data.targets),h=t.flow,d=t.initializing,f=r.getWithOption(t),g=f.Transition?a.transition_duration:0,p=f.TransitionForExit?g:0,v=f.TransitionForAxis?g:0,_=null===(e=r.axis)||void 0===e?void 0:e.generateTransitions(v);r.updateSizes(d),f.Legend&&a.legend_show?(t.withTransition=!!g,l||r.updateLegend(r.mapToIds(r.data.targets),t,_)):f.Dimension&&r.updateDimension(!0),a.data_empty_label_text&&c.select("text.".concat(t0.text,".").concat(tz.empty)).attr("x",o.width/2).attr("y",o.height/2).text(a.data_empty_label_text).style("display",u.length?"none":null),o.hasAxis?(r.axis.redrawAxis(u,f,_,h,d),r.hasGrid()&&r.updateGrid(),a.regions.length&&r.updateRegion(),["bar","candlestick","line","area"].forEach(function(t){var e=tw(t);(/^(line|area)$/.test(t)&&r.hasTypeOf(e)||r.hasType(t))&&r["update".concat(e)](f.TransitionForExit)}),s.text&&c.selectAll(".".concat(tJ.selectedCircles)).filter(r.isBarType.bind(r)).selectAll("circle").remove(),a.interaction_enabled&&!h&&f.EventRect&&(r.redrawEventRect(),null===(n=r.bindZoomEvent)||void 0===n||n.call(r))):(s.arcs&&r.redrawArc(g,p,f.Transform),s.radar&&r.redrawRadar(),s.polar&&r.redrawPolar(),l&&r.updateTreemap(p)),!o.resizing&&!l&&(r.hasPointType()||o.hasRadar)&&r.updateCircle(),r.hasDataLabel()&&!r.hasArcType(null,["radar"])&&r.updateText(),null===(i=r.redrawTitle)||void 0===i||i.call(r),d&&r.updateTypesElements(),r.generateRedrawList(u,h,g,f.Subchart),r.updateTooltipOnRedraw(),r.callPluginHook("$redraw",t,g)},generateRedrawList:function(t,e,n,i){var r=this,a=r.config,o=r.state,s=r.getDrawShape();o.hasAxis&&a.subchart_show&&r.redrawSubchart(i,n,s);var c=e&&r.generateFlow({targets:t,flow:e,duration:e.duration,shape:s,xv:r.xv.bind(r)}),l=(n||c)&&tP(),u=r.getRedrawList(s,e,c,l),h=function(){c&&c(),o.redrawing=!1,tf(a.onrendered,r.api)};if(h){if(l&&u.length){var d=eu();(0,T.eR)().duration(n).each(function(){u.reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return d.add(t)})}).call(d,h)}else o.transiting||h()}r.mapToIds(r.data.targets).forEach(function(t){o.withoutFadeIn[t]=!0})},getRedrawList:function(t,e,n,i){var r=this,a=r.config,o=r.state,s=o.hasAxis,c=o.hasRadar,l=o.hasTreemap,u=r.$el.grid,h=t.pos,d=h.cx,f=h.cy,g=h.xForText,p=h.yForText,v=[];return s&&((a.grid_x_lines.length||a.grid_y_lines.length)&&v.push(r.redrawGrid(i)),a.regions.length&&v.push(r.redrawRegion(i)),Object.keys(t.type).forEach(function(e){var n=tw(e),a=t.type[e];(/^(area|line)$/.test(e)&&r.hasTypeOf(n)||r.hasType(e))&&v.push(r["redraw".concat(n)](a,i))}),!e&&u.main&&v.push(r.updateGridFocus())),(!r.hasArcType()||c)&&tl(a.data_labels)&&!1!==a.data_labels&&v.push(r.redrawText(g,p,e,i)),(r.hasPointType()||c)&&!r.isPointFocusOnly()&&r.redrawCircle&&v.push(r.redrawCircle(d,f,i,n)),l&&v.push(r.redrawTreemap(i)),v},updateAndRedraw:function(t){void 0===t&&(t={});var e,n=this.config,i=this.state;t.withTransition=td(t,"withTransition",!0),t.withTransform=td(t,"withTransform",!1),t.withLegend=td(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=td(t,"withTransitionForTransform",t.withTransition),t.withLegend&&n.legend_show||(i.hasAxis&&(e=this.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0)),this.updateScales(),this.updateSvgSize(),this.transformAll(t.withTransitionForTransform,e)),this.redraw(t,e)}},{getXScale:function(t,e,n,i){var r=this.scale.zoom||eA(this.axis.getAxisType("x"),t,e);return this.getCustomizedXScale(n?r.domain(n):r,i)},getYScale:function(t,e,n,i){var r=eA(this.axis.getAxisType(t),e,n);return i&&r.domain(i),r},getYScaleById:function(t,e){void 0===e&&(e=!1);var n,i=(null===(n=this.axis)||void 0===n?void 0:n.getId(t))==="y2",r=e?i?"subY2":"subY":i?"y2":"y";return this.scale[r]},getCustomizedXScale:function(t,e){var n=this,i=e||function(){return n.axis.x.tickOffset()},r=n.config.axis_x_inverted,a=function(e,n){var r=t(e)+i();return n?r:Math.ceil(r)};for(var o in t)a[o]=t[o];return a.orgDomain=function(){return t.domain()},a.orgScale=function(){return t},n.axis.isCategorized()&&(a.domain=function(e){var n=e;return arguments.length?(t.domain(n),a):(n=this.orgDomain(),r?[n[0]+1,n[1]]:[n[0],n[1]+1])}),a},updateScales:function(t,e){void 0===e&&(e=!0);var n,i,r=this.axis,a=this.config,o=this.format,s=this.org,c=this.scale,l=this.state,u=l.current,h=l.width,d=l.height,f=l.width2,g=l.height2,p=l.hasAxis,v=l.hasTreemap;if(p){var x=a.axis_rotated,y=this.getResettedPadding(1),m={x:x?y:0,y:x?0:d,subY:x?0:g},b={x:x?d:h,y:x?h:y,subY:x?f:1},T=e&&(null===(n=c.x)||void 0===n?void 0:n.orgDomain()),w=e&&s.xDomain;c.x=this.getXScale(m.x,b.x,T,function(){return r.x.tickOffset()}),c.subX=this.getXScale(m.x,b.x,w,function(t){var e;return t%1?0:(null!==(e=r.subX)&&void 0!==e?e:r.x).tickOffset()}),o.xAxisTick=r.getXAxisTickFormat(),o.subXAxisTick=r.getXAxisTickFormat(!0),r.setAxis("x",c.x,a.axis_x_tick_outer,t),a.subchart_show&&r.setAxis("subX",c.subX,a.axis_x_tick_outer,t),c.y=this.getYScale("y",m.y,b.y,c.y?c.y.domain():a.axis_y_default),c.subY=this.getYScale("y",m.subY,b.subY,c.subY?c.subY.domain():a.axis_y_default),r.setAxis("y",c.y,a.axis_y_tick_outer,t),a.axis_y2_show&&(c.y2=this.getYScale("y2",m.y,b.y,c.y2?c.y2.domain():a.axis_y2_default),c.subY2=this.getYScale("y2",m.subY,b.subY,c.subY2?c.subY2.domain():a.axis_y2_default),r.setAxis("y2",c.y2,a.axis_y2_tick_outer,t))}else if(v){var k=this.getCurrentPadding();c.x=(0,_.Z)().rangeRound([k.left,u.width-k.right]),c.y=(0,_.Z)().rangeRound([k.top,u.height-k.bottom])}else null===(i=this.updateArc)||void 0===i||i.call(this)},xx:function(t){var e=this.config,n=this.scale,i=n.x,r=n.zoom,a=e.zoom_enabled&&r?r:i;return t?a(K(t.x)?t.x:t):null},xv:function(t){var e=this.axis,n=this.config,i=this.scale,r=i.x,a=i.zoom,o=n.zoom_enabled&&a?a:r,s=this.getBaseValue(t);return e.isTimeSeries()?s=tD.call(this,s):e.isCategorized()&&tt(s)&&(s=n.axis_x_categories.indexOf(s)),Math.ceil(o(s))},yv:function(t){var e=this.scale,n=e.y,i=e.y2;return Math.ceil((t.axis&&"y2"===t.axis?i:n)(this.getBaseValue(t)))},subxx:function(t){return t?this.scale.subX(t.x):null}},{getDrawShape:function(){var t=this,e=t.config.axis_rotated,n=t.state,i=n.hasRadar,r=n.hasTreemap,a={type:{},indices:{},pos:{}};if(r||["bar","candlestick","line","area"].forEach(function(e){var n=tw(/^(bubble|scatter)$/.test(e)?"line":e);if(t.hasType(e)||t.hasTypeOf(n)||"line"===e&&(t.hasType("bubble")||t.hasType("scatter"))){var i=t.getShapeIndices(t["is".concat(n,"Type")]),r=t["generateDraw".concat(n)];a.indices[e]=i,a.type[e]=r?r.bind(t)(i,!1):void 0}}),!t.hasArcType()||i||r){var o=void 0,s=void 0;r||(o=i?t.radarCircleX:e?t.circleY:t.circleX,s=i?t.radarCircleY:e?t.circleX:t.circleY),a.pos={xForText:t.generateXYForText(a.indices,!0),yForText:t.generateXYForText(a.indices,!1),cx:(o||function(){}).bind(t),cy:(s||function(){}).bind(t)}}return a},getShapeIndices:function(t){var e=this.config,n=e.data_xs,i=tl(n),r={},a=i?{}:0;return i&&tZ(Object.keys(n).map(function(t){return n[t]})).forEach(function(t){a[t]=0,r[t]={}}),this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(var i,o=(t.id in n)?n[t.id]:"",s=o?r[o]:r,c=0,l=void 0;l=e.data_groups[c];c++)if(!(0>l.indexOf(t.id)))for(var u=0,h=void 0;h=l[u];u++){if(h in s){s[t.id]=s[h];break}t.id!==h&&o&&(s[h]=null!==(i=s[t.id])&&void 0!==i?i:a[o])}tn(s[t.id])&&(s[t.id]=o?a[o]++:a++,s.__max__=(o?a[o]:a)-1)}),r},getIndices:function(t,e,n){var i=this.config,r=i.data_xs,a=i.bar_indices_removeNull,o=e.id,s=e.index;if(this.isBarType(o)&&a){var c={};return this.getAllValuesOnIndex(s,!0).forEach(function(t,e){c[t.id]=e,c.__max__=e}),c}return tl(r)?t[r[o]]:t},getIndicesMax:function(t){return tl(this.config.data_xs)?Object.keys(t).map(function(e){return t[e].__max__||0}).reduce(function(t,e){return t+e}):t.__max__},getShapeX:function(t,e,n){var i=this,r=i.config,a=i.scale,o=n?a.subX:a.zoom||a.x,s=r.bar_overlap,c=r.bar_padding,l=function(t,e){return t+e},u=ts(t)&&(t._$total.length?t._$total.reduce(l)/2:0);return function(n){var r=i.getIndices(e,n,"getShapeX"),a=n.id in r?r[n.id]:0,h=(r.__max__||0)+1,d=0;if(tl(n.x)){var f=o(n.x,!0);if(u){var g=t[n.id]||t._$width;d=s?f-g/2:f-g+t._$total.slice(0,a+1).reduce(l)-u}else d=f-(te(t)?t:t._$width)*(h/2-(s?1:a))}return t&&d&&h>1&&c&&(a&&(d+=c*a),h>2?d-=(h-1)*c/2:2===h&&(d-=c/2)),d}},getShapeY:function(t){var e=this,n=e.isStackNormalized();return function(i){var r=i.value;return te(i)?r=i:e.isAreaRangeType(i)?r=e.getBaseValue(i,"mid"):n?r=e.getRatio("index",i,!0):e.isBubbleZType(i)?r=e.getBubbleZData(i.value,"y"):e.isBarRangeType(i)&&(r=r[1]),e.getYScaleById(i.id,t)(r)}},getShapeYMin:function(t){var e=this.axis.getId(t),n=this.scale[e].domain()[0],i=this.config["axis_".concat(e,"_inverted")];return this.isGrouped(t)||i||!(n>0)?0:n},getShapeOffsetData:function(t){var e=this,n=e.orderTargets(e.filterTargetsToShow(e.data.targets.filter(t,e))),i=e.isStackNormalized(),r=n.map(function(t){var n=t.values,r={};e.isStepType(t)&&(n=e.convertValuesToStep(n));var a=n.reduce(function(t,n){var a=Number(n.x);return t[a]=n,r[a]=i?e.getRatio("index",n,!0):n.value,t},{});return{id:t.id,rowValues:n,rowValueMapByXValue:a,values:r}});return{indexMapByTargetId:n.reduce(function(t,e,n){return t[e.id]=n,t},{}),shapeOffsetTargets:r}},getShapeOffset:function(t,e,n){var i=this,r=i.getShapeOffsetData(t),a=r.shapeOffsetTargets,o=r.indexMapByTargetId,s=i.config.data_groupsZeroAs;return function(t,r){var c=t.id,l=t.value,u=t.x,h=i.getIndices(e,t),d=i.getYScaleById(c,n);if(i.isBarRangeType(t))return d(l[0]);var f=Number(u),g=d("zero"===s?0:i.getShapeYMin(c)),p=g;return a.filter(function(t){return t.id!==c&&h[t.id]===h[c]}).forEach(function(t){var e=t.id,n=t.rowValueMapByXValue,i=t.rowValues,a=t.values;if(o[e]<o[c]){var u=a[f],h=i[r];h&&Number(h.x)===f||(h=n[f]),(null==h?void 0:h.value)*l>=0&&te(u)&&(0!==l||"positive"===s&&u>0||"negative"===s&&u<0)&&(p+=d(u)-g)}}),p}},circleY:function(t,e){var n,i=t.id;return this.isGrouped(i)&&(n=eZ.bind(this)(t)),n?n(t,e)[0][1]:this.getYScaleById(i)(this.getBaseValue(t))},getBarW:function(t,e,n){var i=this.config,r=this.org,a=this.scale,o=this.getMaxDataCount(),s="bar"===t&&i.data_groups.length,c="".concat(t,"_width"),l=a.zoom&&!this.axis.isCategorized()?r.xDomain.map(function(t){return a.zoom(t)}).reduce(function(t,e){return Math.abs(t)+e})/o:e.tickInterval(o),u=function(t){var e=t?i[c][t]:i[c],r=t?e.ratio:i["".concat(c,"_ratio")],a=t?e.max:i["".concat(c,"_max")],o=te(e)?e:n?l*r/n:0;return a&&o>a?a:o},h=u();return!s&&ts(i[c])&&(h={_$width:h,_$total:[]},this.filterTargetsToShow(this.data.targets).forEach(function(t){i[c][t.id]&&(h[t.id]=u(t.id),h._$total.push(h[t.id]||h._$width))})),h},getShapeByIndex:function(t,e,n){var i=this.$el,r=K(e)?"-".concat(e):"",a=i[t];return a&&!a.empty()?a.filter(function(t){return!n||t.id===n}).filter(function(t){return!K(e)||t.index===e}):(n?i.main.selectAll(".".concat(t5["".concat(t,"s")]).concat(this.getTargetSelectorSuffix(n))):i.main).selectAll(".".concat(t5[t]).concat(r))},isWithinShape:function(t,e){var n,i,r=(0,l.Z)(t);return this.isTargetToShow(e.id)?(null===(n=this.hasValidPointType)||void 0===n?void 0:n.call(this,t.nodeName))?i=this.isStepType(e)?this.isWithinStep(t,this.getYScaleById(e.id)(e.value)):this.isWithinCircle(t,this.isBubbleType(e)?1.5*this.pointSelectR(e):0):"path"===t.nodeName&&(i=!r.classed(t5.bar)||this.isWithinBar(t)):i=!1,i},getInterpolate:function(t){var e=this.getInterpolateType(t);return({basis:w.ZP,"basis-closed":k.Z,"basis-open":A.Z,bundle:Z.Z,cardinal:S.ZP,"cardinal-closed":C.Z,"cardinal-open":E.Z,"catmull-rom":M.Z,"catmull-rom-closed":L.Z,"catmull-rom-open":R.Z,"monotone-x":D.Z,"monotone-y":D.s,natural:P.Z,"linear-closed":z.Z,linear:I.Z,step:O.ZP,"step-after":O.cD,"step-before":O.RN})[e]},getInterpolateType:function(t){var e=this.config,n=e.spline_interpolation_type,i=this.isInterpolationType(n)?n:"cardinal";return this.isSplineType(t)?i:this.isStepType(t)?e.line_step_type:"linear"},isWithinBar:function(t){var e=tx(this.state.event,t),n=t_(t),i=n[0],r=n[1],a=Math.min(i.x,r.x),o=Math.min(i.y,r.y),s=this.config.bar_sensitivity,c=t.getBBox(),l=c.width,u=c.height;return a-s<e[0]&&e[0]<a+l+s&&o-s<e[1]&&e[1]<o+u+s}},{setContainerSize:function(){var t=this.state;t.current.width=this.getCurrentWidth(),t.current.height=this.getCurrentHeight()},getCurrentWidth:function(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function(){var t=this.config,e=t.size_height||this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},getParentRectValue:function(t){for(var e="offset".concat(tw(t)),n=this.$el.chart.node(),i=0;i<30&&n&&"BODY"!==n.tagName;){try{i=n.getBoundingClientRect()[t]}catch(t){e in n&&(i=n[e])}n=n.parentNode}var r=Y.body[e];return i>r&&(i=r),i},getParentWidth:function(){return this.getParentRectValue("width")},getParentHeight:function(){var t=this.$el.chart.style("height"),e=0;return t&&(e=/px$/.test(t)?parseInt(t,10):this.getParentRectValue("height")),e},getSvgLeft:function(t){var e=this.config,n=this.state.hasAxis,i=this.$el,r=e.axis_rotated,a=r||!r&&!e.axis_y_inner,o=r?t$.axisX:t$.axisY,s=i.main.select(".".concat(o)).node(),c=n&&e["axis_".concat(r?"x":"y","_label")],l=0;if(n&&(tt(c)||tt(c.text)||/^inner-/.test(null==c?void 0:c.position))){var u=i.main.select(".".concat(o,"-label"));u.empty()||(l=u.node().getBoundingClientRect().left)}var h=s&&a?s.getBoundingClientRect():{right:0},d=i.chart.node().getBoundingClientRect().left+l,f=this.hasArcType(),g=h.right-d-(f?0:this.getCurrentPaddingByDirection("left",t));return g>0?g:0},updateDimension:function(t){var e,n=this.config,i=this.state.hasAxis,r=this.$el;i&&!t&&this.axis.x&&n.axis_rotated&&(null===(e=this.axis.subX)||void 0===e||e.create(r.axis.subX)),this.updateScales(t),this.updateSvgSize(),this.transformAll(!1)},updateSvgSize:function(){var t=this.state,e=t.clip,n=t.current,i=t.hasAxis,r=t.width,a=t.height,o=this.$el.svg;if(o.attr("width",n.width).attr("height",n.height),i){var s=o.select(".".concat(tQ.brush," .overlay")),c={width:0,height:0};s.size()&&(c.width=+s.attr("width"),c.height=+s.attr("height")),o.selectAll(["#".concat(e.id),"#".concat(e.idGrid)]).select("rect").attr("width",r).attr("height",a),o.select("#".concat(e.idXAxis)).select("rect").call(this.setXAxisClipPath.bind(this)),o.select("#".concat(e.idYAxis)).select("rect").call(this.setYAxisClipPath.bind(this)),e.idSubchart&&o.select("#".concat(e.idSubchart)).select("rect").attr("width",r).attr("height",c.height)}},getCurrentPaddingByDirection:function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i,r=this.config,a=this.$el,o=this.state.hasAxis,s=r.axis_rotated,c=(null===(i=r.padding)||void 0===i?void 0:i.mode)==="fit",l=te(r["padding_".concat(t)])?r["padding_".concat(t)]:void 0,u=o?({top:s?"y2":null,bottom:s?"y":"x",left:s?"x":"y",right:s?null:"y2"})[t]:null,h=/^(left|right)$/.test(t),d=u&&r["axis_".concat(u,"_inner")],f=u&&r["axis_".concat(u,"_show")],g=u?r["axis_".concat(u,"_axes")].length:0,p=u?h?this.getAxisWidthByAxisId(u,e):this.getHorizontalAxisHeight(u):0,v=0;!c&&h&&(p=10*Math.ceil(p/10));var _=o&&h&&(d||tn(l)&&!f)?0:c?(f?p:0)+(null!=l?l:0):tn(l)?p:l;return h&&o?(u&&(c||d)&&r["axis_".concat(u,"_label")].text&&(_+=this.axis.getAxisLabelPosition(u).isOuter?20:0),"right"===t?_+=(s?!c&&tn(l)?10:2:!f||d?c?2:1:0)+(n?this.axis.getXAxisTickTextY2Overflow(20):0):"left"===t&&s&&tn(l)&&(_=r.axis_x_show?c?p:Math.max(p,40):1)):"top"===t?(a.title&&a.title.node()&&(_+=this.getTitlePadding()),v=s&&!d?g:0):"bottom"===t&&o&&s&&!f&&(_+=1),_+p*g-v},getCurrentPadding:function(t){void 0===t&&(t=!1);var e=this,n=["top","bottom","left","right"].map(function(n){return e.getCurrentPaddingByDirection(n,null,t)});return{top:n[0],bottom:n[1],left:n[2],right:n[3]}},getResettedPadding:function(t){var e=this.config,n=te(t),i=n?0:{};return!1===e.padding?n||Object.keys(t).forEach(function(n){i[n]=tc(e.data_labels)||!1===e.data_labels||"top"!==n?0:t[n]}):i=t,i},updateSizes:function(t){var e,n,i,r=this.config,a=this.state,o=this.$el.legend,s=r.axis_rotated,c=this.hasArcType()||a.hasTreemap,l=(null===(e=r.padding)||void 0===e?void 0:e.mode)==="fit";t||this.setContainerSize();var u={width:o?this.getLegendWidth():0,height:o?this.getLegendHeight():0};!c&&r.axis_x_show&&r.axis_x_tick_autorotate&&this.updateXAxisTickClip();var h={right:r.legend_show&&a.isLegendRight?this.getLegendWidth()+(l?0:20):0,bottom:!r.legend_show||a.isLegendRight||a.isLegendInset?0:u.height},d=s||c?0:this.getHorizontalAxisHeight("x"),f=r.subchart_axis_x_show&&r.subchart_axis_x_tick_text_show?d:30,g=r.subchart_show&&!c?r.subchart_size_height+f:0,p=this.hasType("gauge")&&r.arc_needle_show&&!r.gauge_fullCircle&&!r.gauge_label_show?10:0,v=this.getCurrentPadding(!0);if(a.margin=!c&&s?{top:v.top,right:c?0:v.right+h.right,bottom:h.bottom+v.bottom,left:g+(c?0:v.left)}:{top:(l?0:4)+v.top,right:c?0:v.right+h.right,bottom:p+g+h.bottom+v.bottom,left:c?0:v.left},a.margin=this.getResettedPadding(a.margin),a.margin2=s?{top:a.margin.top,right:NaN,bottom:20+h.bottom,left:this.state.rotatedPadding.left}:{top:a.current.height-g-h.bottom,right:NaN,bottom:f+h.bottom,left:a.margin.left},a.margin3={top:0,right:NaN,bottom:0,left:0},null===(n=this.updateSizeForLegend)||void 0===n||n.call(this,u),a.width=a.current.width-a.margin.left-a.margin.right,a.height=a.current.height-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=s?a.margin.left-a.rotatedPadding.left-a.rotatedPadding.right:a.width,a.height2=s?a.height:a.current.height-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),this.hasArcType()){var _=this.hasType("gauge"),x=r.legend_show&&a.isLegendRight;a.arcWidth=a.width-(x?u.width+10:0),a.arcHeight=a.height-(x&&!_?0:10),_&&!r.gauge_fullCircle&&(a.arcHeight+=a.height-this.getPaddingBottomForGauge()),null===(i=this.updateRadius)||void 0===i||i.call(this)}a.isLegendRight&&c&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)}},{setCssRule:function(t,e,n,i){var r=this,a=r.config,o=r.state,s=o.cssRule,c=o.style;return a.boost_useCssRule?function(a){a.each(function(a){var o,l,u,h,d=i&&(null==i?void 0:i.call(r,a)),f="".concat(t?".".concat(tK.shapes+r.getTargetSelectorSuffix(a.id)):"").concat(e);e in s&&c.sheet.deleteRule(s[f]),r.state.cssRule[f]=(o=n.filter(Boolean).map(function(t){return tt(d)&&-1===t.indexOf(":")?"".concat(t,": ").concat(d):t||""}),l=c.rootSelctor,u=c.sheet,h="".concat(l," ").concat(f.replace(/\s?(bb-)/g,".$1").replace(/\.+/g,".")," {").concat(o.join(";"),"}"),u[u.insertRule?"insertRule":"addRule"](h,u.cssRules.length))})}:function(){}},getStylePropValue:function(t){return this.config.boost_useCssRule?null:Q(t)?t.bind(this):t}},{opacityForText:function(t){return this.isBarType(t)&&!this.meetsLabelThreshold(Math.abs(this.getRatio("bar",t)),"bar")?"0":this.hasDataLabel?null:"0"},initText:function(){var t=this.$el;t.main.select(".".concat(tz.chart)).append("g").attr("class",t0.chartTexts).style("pointer-events",t.treemap?"none":null)},updateTargetsForText:function(t){var e=this.getChartClass("Text"),n=this.getClass("texts","id"),i=this.classFocus.bind(this);this.$el.main.select(".".concat(t0.chartTexts)).selectAll(".".concat(t0.chartText)).data(t).attr("class",function(t){return"".concat(e(t)).concat(i(t)).trim()}).enter().append("g").style("opacity","0").attr("class",e).call(this.setCssRule(!0," .".concat(t0.text),["fill","pointer-events:none"],this.updateTextColor)).append("g").attr("class",n)},updateText:function(){var t=this,e=t.$el,n=t.$T,i=t.config,r=t.axis,a=t.getClass("text","index"),o=i.data_labels.centered,s=e.main.selectAll(".".concat(t0.texts)).selectAll(".".concat(t0.text)).data(t.labelishData.bind(t));n(s.exit()).style("fill-opacity","0").remove(),e.text=s.enter().append("text").merge(s).attr("class",a).attr("text-anchor",function(e){var n=i["axis_".concat(null==r?void 0:r.getId(e.id),"_inverted")]?e.value>0:e.value<0;if(t.isCandlestickType(e)){var a=t.getCandlestickData(e);n=!(null==a?void 0:a._isUp)}else if(t.isTreemapType(e))return o?"middle":"start";return i.axis_rotated?n?"end":"start":"middle"}).style("fill",t.getStylePropValue(t.updateTextColor)).style("fill-opacity","0").each(function(e,n,i){var r=(0,l.Z)(this),a=e.value;if(t.isBubbleZType(e))a=t.getBubbleZData(a,"z");else if(t.isCandlestickType(e)){var o=t.getCandlestickData(e);o&&(a=o.close)}te(a=t.isTreemapType(e)?t.treemapDataLabelFormat(e)(r):t.dataLabelFormat(e.id)(a,e.id,e.index,i))?this.textContent=a:tv(r,a)})},updateTextColor:function(t){var e,n=this.config,i=n.data_labels_colors,r=this.isArcType(t)&&!this.isRadarType(t)||this.isTreemapType(t)?null:this.color(t);if(tt(i)?e=i:th(i)?e=i[(t.data||t).id]:Q(i)&&(e=i.bind(this.api)(r,t)),this.isCandlestickType(t)&&!Q(i)){var a=this.getCandlestickData(t);if(!(null==a?void 0:a._isUp)){var o=n.candlestick_color_down;e=th(o)?o[t.id]:o}}return e||r},updateTextBackgroundColor:function(t){var e=this.$el,n=this.config.data_labels_backgroundColors,i="";if(tt(n)||th(n)){var r=tt(n)?"":this.getTargetSelectorSuffix("id"in t?t.id:t.data.id),a=e.defs.select(["filter[id*='labels-bg","']"].join(r));a.size()&&(i="url(#".concat(a.attr("id"),")"))}return i||null},redrawText:function(t,e,n,i){var r,a=this,o=a.$T,s=a.axis,c=a.config,l=a.state.hasTreemap,u=tb(!0),h=c.axis_rotated,d=c.data_labels.rotate,f=(r="middle",d>0&&d<=170?r="end":d>190&&d<=360&&(r="start"),r),g=d?"rotate(".concat(d,")"):"";return a.$el.text.style("fill",a.getStylePropValue(a.updateTextColor)).attr("filter",a.updateTextBackgroundColor.bind(a)).style("fill-opacity",n?0:a.opacityForText.bind(a)).each(function(n,r){var p=o(l&&this.childElementCount?this.parentNode:this,!!(i&&this.getAttribute("x")),u),v=c["axis_".concat(null==s?void 0:s.getId(n.id),"_inverted")],_={x:t.bind(this)(n,r),y:e.bind(this)(n,r)};d&&(_=eS.bind(a)(n,_,f,h,v),p.attr("text-anchor",f)),this.childElementCount||d?p.attr("transform","translate(".concat(_.x," ").concat(_.y,") ").concat(g)):p.attr("x",_.x).attr("y",_.y)}),!0},getTextRect:function(t,e){var n=t.node?t.node():t;/text/i.test(n.tagName)||(n=n.querySelector("text"));var i=n.textContent,r="".concat(eo.textRect,"-").concat(i.replace(/\W/g,"_")),a=this.cache.get(r);return a||(this.$el.svg.append("text").style("visibility","hidden").style("font",(0,l.Z)(n).style("font")).classed(e,!0).text(i).call(function(t){a=tm(t.node())}).remove(),this.cache.add(r,a)),a},generateXYForText:function(t,e){var n=this,i=n.state,r=i.hasRadar,a=i.hasTreemap,o=Object.keys(t),s={},c=e?n.getXForText:n.getYForText;return r&&o.push("radar"),a&&o.push("treemap"),o.forEach(function(e){s[e]=n["generateGet".concat(tw(e),"Points")](t[e],!1)}),function(t,e){var i=n.isAreaType(t)&&"area"||n.isBarType(t)&&"bar"||n.isCandlestickType(t)&&"candlestick"||n.isRadarType(t)&&"radar"||n.isTreemapType(t)&&"treemap"||"line";return c.call(n,s[i](t,e),t,this)}},getCenteredTextPos:function(t,e,n,i){var r=this.config,a=r.axis_rotated,o=this.isBarType(t),s=this.isTreemapType(t);if(r.data_labels.centered&&(o||s)){var c=tm(n);if(o){var l=this.getRangedData(t,null,"bar")>=0;if(a){var u=(l?e[1][1]-e[0][1]:e[0][1]-e[1][1])/2+c.width/2;return l?-u-3:u+2}var h=(l?e[0][1]-e[1][1]:e[1][1]-e[0][1])/2+c.height/2;return l?h:-h-2}if(s)return"x"===i?(e[1][0]-e[0][0])/2:(e[1][1]-e[0][1])/2+c.height/2}return 0},getXForText:function(t,e,n){var i,r=this.config,a=r.axis_rotated,o=this.isTreemapType(e),s=t[0][0];if(this.isCandlestickType(e))a?s=(null===(i=this.getCandlestickData(e))||void 0===i?void 0:i._isUp)?t[2][2]+4:t[2][1]-4:s+=(t[1][0]-s)/2;else if(o)s+=r.data_labels.centered?0:5;else if(a){var c=r["axis_".concat(this.axis.getId(e.id),"_inverted")],l=this.isBarType(e)?4:6,u=e.value;s=t[2][1],c?s-=l*(u>0?1:-1):s+=l*(u<0?-1:1)}else s=this.hasType("bar")?(t[2][0]+t[0][0])/2:s;return(a||o)&&(s+=this.getCenteredTextPos(e,t,n,"x")),s+eC.call(this,e,"x")},getYForText:function(t,e,n){var i,r=this.axis,a=this.config,o=this.state,s=a.axis_rotated,c=a["axis_".concat(null==r?void 0:r.getId(e.id),"_inverted")],l=this.isBarType(e),u=this.isTreemapType(e),h=a.point_r,d=tm(n),f=e.value,g=3;if(this.isCandlestickType(e))f=this.getCandlestickData(e),s?(i=t[0][0],i+=(t[1][0]-i)/2+g):(i=f&&f._isUp?t[2][2]-g:t[2][1]+4*g,c&&(i+=15*(f._isUp?1:-1)));else if(u)i=t[0][1]+(a.data_labels.centered?0:d.height+5);else if(s)i=(t[0][0]+t[2][0]+.6*d.height)/2;else if(i=t[2][1],te(h)&&h>5&&(this.isLineType(e)||this.isScatterType(e))&&(g+=a.point_r/2.3),f<0||0===f&&!o.hasPositiveValue&&o.hasNegativeValue)i+=c?l?-3:-5:d.height+(l?-g:g);else{var p=-(2*g);l?p=-g:this.isBubbleType(e)&&(p=g),c&&(p=l?10:15),i+=p}return(!s||u)&&(i+=this.getCenteredTextPos(e,t,n,"y")),i+eC.call(this,e,"y")},markOverlapped:function(t,e,n){var i=e.$el.arcs.selectAll(n),r=i.filter(function(e){return e.data.id!==t}),a=i.filter(function(e){return e.data.id===t}),o=tA(a.node()),s=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))};a.node()&&r.each(function(){var t=tA(this),e=(0,l.Z)(this),n=s(o.e,o.f)>s(t.e,t.f)?a:e,i=Math.ceil(Math.abs(o.e-t.e))<Math.ceil(n.node().getComputedTextLength()),r=Math.ceil(Math.abs(o.f-t.f))<parseInt(a.style("font-size"),10);e.classed(t0.TextOverlapping,i&&r)})},undoMarkOverlapped:function(t,e){t.$el.arcs.selectAll(e).each(function(){(0,h.Z)([this,this.previousSibling]).classed(t0.TextOverlapping,!1)})},meetsLabelThreshold:function(t,e){return void 0===t&&(t=0),t>=(this.config["".concat(e,"_label_threshold")]||0)}},{initTitle:function(){var t=this.config,e=this.$el;t.title_text&&(e.title=e.svg.append("g"),tv(e.title.append("text").style("text-anchor",eE(t.title_position)).attr("class",t0.title),t.title_text,[.3,1.5]))},redrawTitle:function(){var t=this.config,e=this.state.current,n=this.$el.title;if(n){var i=eE(t.title_position,e.width),r=(t.title_padding.top||0)+this.getTextRect(this.$el.title,t0.title).height;n.attr("transform","translate(".concat(i,", ").concat(r,")"))}},getTitlePadding:function(){var t=this.$el,e=this.config;return(e.title_padding.top||0)+this.getTextRect(t.title,t0.title).height+(e.title_padding.bottom||0)}},{initTooltip:function(){var t=this.config,e=this.$el;e.tooltip=(0,l.Z)(t.tooltip_contents.bindto),e.tooltip.empty()&&(e.tooltip=e.chart.append("div").attr("class",t1.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none")),this.bindTooltipResizePos()},initShowTooltip:function(){var t,e,n=this.config,i=this.$el,r=this.state,a=r.hasAxis,o=r.hasRadar;if(n.tooltip_init_show){(null===(e=this.axis)||void 0===e?void 0:e.isTimeSeries())&&tt(n.tooltip_init_x)&&(n.tooltip_init_x=tD.call(this,n.tooltip_init_x)),this.api.tooltip.show({data:((t={})[a||o?"x":"index"]=n.tooltip_init_x,t)});var s=n.tooltip_init_position;if(!n.tooltip_contents.bindto&&!tc(s)){var c=s.top,l=void 0===c?0:c,u=s.left,h=void 0===u?50:u;i.tooltip.style("top",tt(l)?l:"".concat(l,"px")).style("left",tt(h)?h:"".concat(h,"px")).style("display",null)}}},getTooltipHTML:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.api,i=this.config;return Q(i.tooltip_contents)?i.tooltip_contents.bind(n).apply(void 0,t):this.getTooltipContent.apply(this,t)},getTooltipContent:function(t,e,n,i){var r,a,o,s,c,l=this,u=l.api,h=l.config,d=l.state,f=l.$el,g=["title","name","value"].map(function(t){var e=h["tooltip_format_".concat(t)];return Q(e)?e.bind(u):e}),p=g[0],v=g[1],_=g[2],x=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return tp((p||e).apply(void 0,t))},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tp((v||function(t){return t}).apply(void 0,t))},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tp((_||(d.hasTreemap||l.isStackNormalized()?function(t,e){return"".concat((100*e).toFixed(2),"%")}:n)).apply(void 0,t))},b=h.tooltip_order,T=function(t){return l.axis&&l.isBubbleZType(t)?l.getBubbleZData(t.value,"z"):l.getBaseValue(t)},w=l.levelColor?function(t){return l.levelColor(t.value)}:function(t){return i(t)},k=h.tooltip_contents,A=k.template,Z=l.mapToTargetIds();if(null===b&&h.data_groups.length){var S=l.orderTargets(l.data.targets).map(function(t){return t.id}).reverse();t.sort(function(t,e){var n=t?t.value:null,i=e?e.value:null;return n>0&&i>0&&(n=t.id?S.indexOf(t.id):null,i=e.id?S.indexOf(e.id):null),n-i})}else if(/^(asc|desc)$/.test(b)){var C="asc"===b;t.sort(function(t,e){var n=t?T(t):null,i=e?T(e):null;return C?n-i:i-n})}else Q(b)&&t.sort(b.bind(u));var E=l.getTooltipContentTemplate(A),M=t.length;for(c=0;c<M;c++)!function(){if((a=t[c])&&(T(a)||0===T(a))){if(tn(r)){var e=(d.hasAxis||d.hasRadar)&&x(a.x);r=tR(E[0],{CLASS_TOOLTIP:t1.tooltip,TITLE:K(e)?A?e:'<tr><th colspan="2">'.concat(e,"</th></tr>"):""})}if(!a.ratio&&f.arcs&&(o=["arc",l.$el.arcs.select("path.".concat(tI.arc,"-").concat(a.id)).data()[0]],a.ratio=l.getRatio.apply(l,o)),o=[a.ratio,a.id,a.index],l.isAreaRangeType(a)){var n=["high","low"].map(function(t){return m.apply(void 0,J([l.getRangedData(a,t)],o,!1))}),i=n[0],u=n[1],h=m.apply(void 0,J([T(a)],o,!1));s="<b>Mid:</b> ".concat(h," <b>High:</b> ").concat(i," <b>Low:</b> ").concat(u)}else if(l.isCandlestickType(a)){var g=["open","high","low","close","volume"].map(function(t){return l.getRangedData(a,t,"candlestick")?m.apply(void 0,J([l.getRangedData(a,t,"candlestick")],o,!1)):void 0}),p=g[0],i=g[1],u=g[2],v=g[3],_=g[4];s="<b>Open:</b> ".concat(p," <b>High:</b> ").concat(i," <b>Low:</b> ").concat(u," <b>Close:</b> ").concat(v).concat(_?" <b>Volume:</b> ".concat(_):"")}else if(l.isBarRangeType(a)){var b=a.value,S=a.id,C=a.index;s="".concat(m(b,void 0,S,C))}else s=m.apply(void 0,J([T(a)],o,!1));if(void 0!==s){if(null===a.name)return;var M=y.apply(void 0,J([a.name],o,!1)),L=w(a),R={CLASS_TOOLTIP_NAME:t1.tooltipName+l.getTargetSelectorSuffix(a.id),COLOR:A||!l.patterns?L:'<svg><rect style="fill:'.concat(L,'" width="10" height="10"></rect></svg>'),NAME:M,VALUE:s};if(A&&th(k.text)){var D=Z.indexOf(a.id);Object.keys(k.text).forEach(function(t){R[t]=k.text[t][D]})}r+=tR(E[1],R)}}}();return"".concat(r,"</table>")},getTooltipContentTemplate:function(t){return(t||'<table class="{=CLASS_TOOLTIP}"><tbody>\n				{=TITLE}\n				{{<tr class="{=CLASS_TOOLTIP_NAME}">\n					<td class="name">'.concat(this.patterns?"{=COLOR}":'<span style="background-color:{=COLOR}"></span>','{=NAME}</td>\n					<td class="value">{=VALUE}</td>\n				</tr>}}\n			</tbody></table>')).replace(/(\r?\n|\t)/g,"").split(/{{(.*)}}/)},setTooltipPosition:function(t,e){var n,i,r=this,a=r.config,o=r.scale,s=r.state,c=r.$el,l=c.eventRect,u=c.tooltip,h=a.tooltip_contents.bindto,d=a.axis_rotated,f=null==u?void 0:u.datum();if(!h&&f){var g=null!=t?t:JSON.parse(f.current),p=tx(s.event,null!=e?e:null==l?void 0:l.node()),v={x:p[0],y:p[1]};if(s.hasAxis&&o.x&&f&&"x"in f){var _=function(t,e,n){void 0===t&&(t=0),void 0===n&&(n="y");var i,a=o[e?null===(i=r.axis)||void 0===i?void 0:i.getId(e):n];return a?a(t)+(d?s.margin.left:s.margin.top):0};v.xAxis=o.x(f.x)+(a.tooltip_position?d?s.margin.top:s.margin.left:0),1===g.length?v.yAxis=_(g[0].value,g[0].id):v.yAxis=_}var x=f.width,y=void 0===x?0:x,m=f.height,b=void 0===m?0:m,T=null!==(i=null===(n=a.tooltip_position)||void 0===n?void 0:n.bind(r.api)(g,y,b,null==l?void 0:l.node(),v))&&void 0!==i?i:r.getTooltipPosition.bind(r)(y,b,v);["top","left"].forEach(function(t){var e=T[t];u.style(t,"".concat(e,"px")),"left"!==t||f.xPosInPercent||(f.xPosInPercent=e/s.current.width*100)})}},getTooltipPosition:function(t,e,n){var i=this.config,r=this.scale,a=this.state,o=a.width,s=a.height,c=a.current,l=a.isLegendRight,u=a.inputType,h=this.hasType("gauge")&&!i.gauge_fullCircle,d=a.hasTreemap,f=i.axis_rotated,g=this.hasArcType(),p=this.getSvgLeft(!0),v=p+c.width-this.getCurrentPaddingByDirection("right"),_=n.x,x=n.y;if(g)"touch"===u||this.hasType("radar")||(_+=(o-(l?this.getLegendWidth():0))/2,x+=h?s:s/2);else if(!d){var y={top:this.getCurrentPaddingByDirection("top",!0),left:this.getCurrentPaddingByDirection("left",!0)};f?(_+=p+y.left+20,x=y.top+n.xAxis+20,v-=p):(_=p+y.left+20+(r.zoom?_:n.xAxis),x+=y.top-5)}_+t+15>v&&(_-=t+(d||g?0:f?40:38)),x+e>c.height&&(x-=h?3*e:e+(d?0:30));var m={top:x,left:_};return Object.keys(m).forEach(function(t){m[t]<0&&(m[t]=0)}),m},showTooltip:function(t,e){var n=this,i=n.config,r=n.$el.tooltip,a=t.filter(function(t){return t&&K(n.getBaseValue(t))});if(r&&0!==a.length&&i.tooltip_show){var o=r.datum(),s=JSON.stringify(t);if(!o||o.current!==s){var c=t.concat().sort()[0],l=c.index,u=c.x;tf(i.tooltip_onshow,n.api,t),r.html(n.getTooltipHTML(t,n.axis?n.axis.getXAxisTickFormat():n.categoryName.bind(n),n.getDefaultValueFormat(),n.color)).style("display",null).style("visibility",null).datum(o={index:l,x:u,current:s,width:r.property("offsetWidth"),height:r.property("offsetHeight")}),tf(i.tooltip_onshown,n.api,t),n._handleLinkedCharts(!0,l)}n.setTooltipPosition(a,e)}},bindTooltipResizePos:function(){var t=this.resizeFunction,e=this.state,n=this.$el.tooltip;t.add(function(){if("block"===n.style("display")){var t=e.current,i=n.datum(),r=i.width,a=i.xPosInPercent,o=t.width/100*a,s=t.width-(o+r);s<0&&(o+=s),n.style("left","".concat(o,"px"))}})},hideTooltip:function(t){var e,n=this.api,i=this.config,r=this.$el.tooltip;if(r&&"none"!==r.style("display")&&(!i.tooltip_doNotHide||t)){var a=JSON.parse(null!==(e=r.datum().current)&&void 0!==e?e:{});tf(i.tooltip_onhide,n,a),r.style("display","none").style("visibility","hidden").datum(null),tf(i.tooltip_onhidden,n,a)}},_handleLinkedCharts:function(t,e){var n=this,i=n.charts,r=n.config,a=n.state.event;if((null==a?void 0:a.isTrusted)&&r.tooltip_linked&&i.length>1){var o=r.tooltip_linked_name;i.filter(function(t){return t!==n.api}).forEach(function(n){var i=n.internal,r=i.config,a=i.$el,s=r.tooltip_linked,c=r.tooltip_linked_name,l=Y.body.contains(a.chart.node());if(s&&o===c&&l){var u=a.tooltip.data()[0],h=e!==(null==u?void 0:u.index);try{n.tooltip[t&&h?"show":"hide"]({index:e})}catch(t){}}})}},updateTooltipOnRedraw:function(t,e){var n,i=this,r=i.config,a=i.$el,o=a.eventRect,s=a.svg,c=a.tooltip,u=i.state,h=u.event,d=u.hasAxis,f=u.hasRadar,g=u.hasTreemap;if((null==c?void 0:c.style("display"))==="block"&&h){var p=null!=t?t:null===(n=f?s:o)||void 0===n?void 0:n.node();if(d||f){if(i.isMultipleX())i.selectRectForMultipleXs(p,!1);else{var v=null!=e?e:i.getDataIndexFromEvent(h);-1===e?i.api.tooltip.hide():(i.selectRectForSingle(p,v),i.setExpand(v,null,!0))}}else{var _=h.clientX,x=h.clientY;setTimeout(function(){var t=Y.elementFromPoint(_,x),e=(0,l.Z)(t).datum();if(e){var n=i.hasArcType()?i.convertToArcData(i.updateAngle(e)):null==e?void 0:e.data;g&&(t=s.node()),n&&i.showTooltip([n],t)}else i.api.tooltip.hide()},r.transition_duration)}}}},{getTranslate:function(t,e){void 0===e&&(e=0);var n,i,r=this.config,a=this.state,o=r.axis_rotated,s=0;if(e&&/^(x|y2?)$/.test(t)&&(s=this.getAxisSize(t)*e),"main"===t)n=ta(a.margin.left),i=ta(a.margin.top);else if("context"===t)n=ta(a.margin2.left),i=ta(a.margin2.top);else if("legend"===t)n=a.margin3.left,i=a.margin3.top;else if("x"===t)n=o?-s:0,i=o?0:a.height+s;else if("y"===t)n=o?0:-s,i=o?a.height+s:0;else if("y2"===t)n=o?0:a.width+s,i=o?-s-1:0;else if("subX"===t)n=0,i=o?0:a.height2;else if("arc"===t)n=a.arcWidth/2,i=a.arcHeight/2;else if("polar"===t)n=a.arcWidth/2,i=a.arcHeight/2;else if("radar"===t){var c=this.getRadarSize()[0];n=a.width/2-c,i=ta(a.margin.top)}return"translate(".concat(n,", ").concat(i,")")},transformMain:function(t,e){var n=this.$el.main,i=this.$T,r=(null==e?void 0:e.axisX)?e.axisX:i(n.select(".".concat(t$.axisX)),t),a=(null==e?void 0:e.axisY)?e.axisY:i(n.select(".".concat(t$.axisY)),t),o=(null==e?void 0:e.axisY2)?e.axisY2:i(n.select(".".concat(t$.axisY2)),t);i(n,t).attr("transform",this.getTranslate("main")),r.attr("transform",this.getTranslate("x")),a.attr("transform",this.getTranslate("y")),o.attr("transform",this.getTranslate("y2")),n.select(".".concat(tI.chartArcs)).attr("transform",this.getTranslate("arc"))},transformAll:function(t,e){var n=this.config,i=this.state,r=i.hasAxis,a=i.hasTreemap,o=this.$el;a||this.transformMain(t,e),r&&n.subchart_show&&this.transformContext(t,e),o.legend&&this.transformLegend(t)}},{isValidChartType:function(t){return!!(t&&Object.values(j).indexOf(t)>-1)},setTargetType:function(t,e){var n=this.config,i=this.state.withoutFadeIn;this.mapToTargetIds(t).forEach(function(t){i[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},updateTypesElements:function(){var t=this,e=t.state.current;Object.keys(j).forEach(function(n){var i=j[n],r=t.hasType(i,null,!0),a=e.types.indexOf(i);-1===a&&r?e.types.push(i):a>-1&&!r&&e.types.splice(a,1)}),t.setChartElements()},hasType:function(t,e,n){void 0===n&&(n=!1);var i,r=this.config,a=this.state.current,o=r.data_types,s=e||this.data.targets,c=!1;return!n&&(null===(i=a.types)||void 0===i?void 0:i.indexOf(t))>-1?c=!0:(null==s?void 0:s.length)?s.forEach(function(e){var n=o[e.id];n!==t&&(n||"line"!==t)||(c=!0)}):Object.keys(o).length?Object.keys(o).forEach(function(e){o[e]===t&&(c=!0)}):c=r.data_type===t,c},hasTypeOf:function(t,e,n){var i=this;return void 0===n&&(n=[]),t in W&&!W[t].filter(function(t){return -1===n.indexOf(t)}).every(function(t){return!i.hasType(t,e)})},isTypeOf:function(t,e){var n=tt(t)?t:t.id,i=this.config.data_types[n]||this.config.data_type;return tu(e)?e.indexOf(i)>=0:i===e},hasPointType:function(){return this.hasTypeOf("Line")||this.hasType("bubble")||this.hasType("scatter")},hasArcType:function(t,e){return this.hasTypeOf("Arc",t,e)},hasMultiArcGauge:function(){return this.hasType("gauge")&&"multi"===this.config.gauge_type},isLineType:function(t){var e=tt(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,W.Line)},isStepType:function(t){return this.isTypeOf(t,W.Step)},isSplineType:function(t){return this.isTypeOf(t,W.Spline)},isAreaType:function(t){return this.isTypeOf(t,W.Area)},isAreaRangeType:function(t){return this.isTypeOf(t,W.AreaRange)},isBarType:function(t){return this.isTypeOf(t,"bar")},isBubbleType:function(t){return this.isTypeOf(t,"bubble")},isCandlestickType:function(t){return this.isTypeOf(t,"candlestick")},isScatterType:function(t){return this.isTypeOf(t,"scatter")},isTreemapType:function(t){return this.isTypeOf(t,"treemap")},isPieType:function(t){return this.isTypeOf(t,"pie")},isGaugeType:function(t){return this.isTypeOf(t,"gauge")},isDonutType:function(t){return this.isTypeOf(t,"donut")},isPolarType:function(t){return this.isTypeOf(t,"polar")},isRadarType:function(t){return this.isTypeOf(t,"radar")},isArcType:function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isPolarType(t)||this.isRadarType(t)},isCirclePoint:function(t){var e=this.config,n=e.point_pattern;return(null==t?void 0:t.tagName)==="circle"||"circle"===e.point_type&&(!n||tu(n)&&0===n.length)},lineData:function(t){return this.isLineType(t)?[t]:[]},arcData:function(t){return this.isArcType(t.data)?[t]:[]},labelishData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isCandlestickType(t)||this.isRadarType(t)||this.isTreemapType(t)?t.values.filter(function(t){return te(t.value)||!!t.value}):[]},barLineBubbleData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}}]);var eR=function(t){var e=this.internal.data.targets;if(!tn(t)){var n=tu(t)?t:[t];return e.filter(function(t){return n.some(function(e){return e===t.id})})}return e};tT(eR,{shown:function(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t,e){void 0===e&&(e=!0);var n=null;if(t){var i=this.data(t);tu(i)&&(n=[],i.forEach(function(t){var i=t.values.map(function(t){return t.value});e?n=n.concat(i):n.push(i)}))}return n},names:function(t){return this.internal.updateDataAttributes("names",t)},colors:function(t){return this.internal.updateDataAttributes("colors",t)},axes:function(t){return this.internal.updateDataAttributes("axes",t)},min:function(){return this.internal.getMinMaxData().min},max:function(){return this.internal.getMinMaxData().max}});var eD=function(t){var e;return null===(e=B.btoa)||void 0===e?void 0:e.call(B,encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(Number("0x".concat(e)))}))};function eP(t,e,n){var i=this,r=this.internal,a=r.mapToTargetIds(e),o=r.state.hiddenTargetIds.map(function(t){return a.indexOf(t)>-1&&t}).filter(Boolean);r.state.toggling=!0,r["".concat(t?"remove":"add","HiddenTargetIds")](a);var s=r.$el.svg.selectAll(r.selectorTargets(a)),c=t?null:"0";t&&o.length&&(s.style("display",null),tf(r.config.data_onshown,this,o)),r.$T(s).style("opacity",c,"important").call(tg,function(){t||0!==o.length||(s.style("display","none"),tf(r.config.data_onhidden,i,a)),s.style("opacity",c)}),n.withLegend&&r["".concat(t?"show":"hide","Legend")](a),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.state.toggling=!1}var ez=function t(e){this.plugins=[];var n=new eM(this);this.internal=n,function t(e,n,i){Object.keys(e).forEach(function(r){var a=Q(e[r]),o=n!==i,s=tl(e[r]),c=s&&Object.keys(e[r]).length>0;a&&(!o&&c||o)?n[r]=e[r].bind(i):s&&!a?n[r]={}:n[r]=e[r],c&&t(e[r],n[r],i)})}(t.prototype,this,this),eL.call(n,e),n.beforeInit(),n.init()};function eI(t,e,n){var i=t.config,r=function(t,n){var r=te(n)?n:!1===n?void 0:null;null!==r&&(i["axis_".concat(t,"_").concat(e)]=r)};ti(n)&&(ts(n)?Object.keys(n).forEach(function(t){r(t,n[t])}):(te(n)||!1===n)&&["y","y2"].forEach(function(t){r(t,n)}),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))}function eO(t,e){var n=t.config;return{x:n["axis_x_".concat(e)],y:n["axis_y_".concat(e)],y2:n["axis_y2_".concat(e)]}}function e$(t,e){var n=this.internal,i=n.config,r=i.transition_duration&&tP(),a="grid_".concat(e,"_lines");return t&&(i[a]=t,n.updateGrid(),n.redrawGrid(r)),i[a]}function eX(t,e){var n="grid_".concat(e,"_lines");return e$.bind(this)(this.internal.config[n].concat(t||[]),e)}function eN(t,e){this.internal.removeGridLines(t,e)}tT(ez.prototype,[{resize:function(t){var e=this.internal,n=e.config,i=e.state;i.rendered&&(n.size_width=t?t.width:null,n.size_height=t?t.height:null,i.resizing=!0,this.flush(!1),e.resizeFunction())},flush:function(t){var e,n,i=this.internal,r=i.state,a=i.$el.zoomResetBtn;r.rendered?(r.resizing?null===(e=i.brush)||void 0===e||e.updateResize():null===(n=i.axis)||void 0===n||n.setOrient(),null==a||a.style("display","none"),i.scale.zoom=null,t?i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):i.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1}),!r.resizing&&i.brush&&(i.brush.getSelection().call(i.brush.move),i.unselectRect())):i.initToRender(!0)},destroy:function(){var t=this,e=this.internal,n=e.$el,i=n.chart,r=n.style,a=n.svg;if(tl(e))for(var o in e.callPluginHook("$willDestroy"),e.charts.splice(e.charts.indexOf(this),1),e.unbindAllEvents(),a.select("*").interrupt(),e.resizeFunction.clear(),B.removeEventListener("resize",e.resizeFunction),i.classed("bb",!1).style("position",null).selectChildren().remove(),r&&r.parentNode.removeChild(r),Object.keys(this).forEach(function(n){"internal"===n&&Object.keys(e).forEach(function(t){e[t]=null}),t[n]=null,delete t[n]}),this)this[o]=function(){};return null},config:function(t,e,n){var i,r=this.internal,a=r.config,o=r.state,s=null==t?void 0:t.replace(/\./g,"_");return t&&s in a?ti(e)?(a[s]=e,i=e,n&&this.flush()):i=a[s]:(0==arguments.length||tc(t))&&(i=o.orgConfig),i}},{color:function(t){return this.internal.color(t)}},{data:eR},{export:function(t,e){var n,i,r,a,o,s,c,l,h,d,f,g,p,v,_,x,y,m,b,T,w=this,k=this.internal,A=k.state,Z=k.$el,S=Z.chart,C=Z.svg,E=A.current,M=E.width,L=E.height,R=tC({width:M,height:L,preserveAspectRatio:!0,preserveFontStyle:!1,mimeType:"image/png"},t),D=(n=S.node(),i={width:M,height:L},a=(r=R||i).width,o=r.height,s=new XMLSerializer,c=n.cloneNode(!0),d=(l=tk(Y.styleSheets),h=[],l.forEach(function(t){var e;try{t.cssRules&&t.cssRules.length&&(h=h.concat(tk(t.cssRules)))}catch(n){null===(e=B.console)||void 0===e||e.warn("Error while reading rules from ".concat(t.href,": ").concat(n.toString()))}}),h).filter(function(t){return t.cssText}).map(function(t){return t.cssText}),c.setAttribute("xmlns",u.Z.xhtml),c.style.margin="0",c.style.padding="0",R.preserveFontStyle&&c.querySelectorAll("text").forEach(function(t){t.innerHTML=""}),f=s.serializeToString(c),(g=Y.createElement("style")).appendChild(Y.createTextNode(d.join("\n"))),p=s.serializeToString(g),v='<svg xmlns="'.concat(u.Z.svg,'" width="').concat(a,'" height="').concat(o,'" \n		viewBox="0 0 ').concat(i.width," ").concat(i.height,'" \n		preserveAspectRatio="').concat((null==R?void 0:R.preserveAspectRatio)===!1?"none":"xMinYMid meet",'">\n			<foreignObject width="100%" height="100%">\n				').concat(p,"\n				").concat(f.replace(/(url\()[^#]+/g,"$1"),"\n			</foreignObject></svg>"),"data:image/svg+xml;base64,".concat(eD(v))),P=R.preserveFontStyle?(y=(x=(_=C.node()).getBoundingClientRect()).left,m=x.top,b=function(t){return t.textContent||t.childElementCount},T=[],tk(_.querySelectorAll("text")).filter(b).forEach(function(t){var e=function(t){var e,n,i,r,a,o,s,c,l,u,h,d,f,g,p,v,_,x=B.getComputedStyle(t),b=x.fill,T=x.fontFamily,w=x.fontSize,k=x.textAnchor,A=x.transform,Z=(n=(e={left:y,top:m}).top,i=e.left,a=(r=t.getBBox()).x,o=r.y,c=(s=t.getScreenCTM()).a,l=s.b,u=s.c,h=s.d,d=s.e,f=s.f,p=(g=t.getBoundingClientRect()).width,{x:c*a+u*o+d-i,y:l*a+h*o+f-n+((v=g.height)-Math.round(v/4)),width:p,height:v}),S=Z.x,C=Z.y,E=Z.width,M=Z.height;return(_={})[t.textContent]={x:S,y:C,width:E,height:M,fill:b,fontFamily:T,fontSize:w,textAnchor:k,transform:A},_};if(t.childElementCount>1)return tk(t.querySelectorAll("tspan")).filter(b).forEach(function(t){T.push(e(t))}),[];T.push(e(t))}),T):[];if(e&&Q(e)){var z=new Image;z.crossOrigin="Anonymous",z.onload=function(){var t=Y.createElement("canvas"),n=t.getContext("2d");t.width=R.width||M,t.height=R.height||L,n.drawImage(z,0,0),P.length&&(function(t,e){e.forEach(function(e){Object.keys(e).forEach(function(n){var i=e[n],r=i.x,a=i.y,o=i.width,s=i.height,c=i.fill,l=i.fontFamily,u=i.fontSize,h=i.transform;if(t.save(),t.font="".concat(u," ").concat(l),t.fillStyle=c,"none"===h)t.fillText(n,r,a);else{var d=h.replace(/(matrix|\(|\))/g,"").split(",");d.splice(4).every(function(t){return 0==+t})?(d.push(r+o-o/4),d.push(a-s+s/3)):(d.push(r),d.push(a)),t.transform.apply(t,d),t.fillText(n,0,0)}t.restore()})})}(n,P),P.length=0),e.bind(w)(t.toDataURL(R.mimeType))},z.src=D}return D}},{focus:function(t){var e=this.internal,n=e.state,i=e.mapToTargetIds(t),r=e.$el.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),r.classed(tG.focused,!0).classed(tG.defocused,!1),e.hasArcType()&&!n.hasRadar&&(e.expandArc(i),e.hasType("gauge")&&e.markOverlapped(t,e,".".concat(tU.gaugeValue))),e.toggleFocusLegend(i,!0),n.focusedTargetIds=i,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return 0>i.indexOf(t)})},defocus:function(t){var e=this.internal,n=e.state,i=e.mapToTargetIds(t);e.$el.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e))).classed(tG.focused,!1).classed(tG.defocused,!0),e.hasArcType(null,["polar"])&&(e.unexpandArc(i),e.hasType("gauge")&&e.undoMarkOverlapped(e,".".concat(tU.gaugeValue))),e.toggleFocusLegend(i,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return 0>i.indexOf(t)}),n.defocusedTargetIds=i},revert:function(t){var e=this.internal,n=e.config,i=e.state,r=e.$el,a=e.mapToTargetIds(t);r.svg.selectAll(e.selectorTargets(a)).classed(tG.focused,!1).classed(tG.defocused,!1),e.hasArcType(null,["polar"])&&e.unexpandArc(a),n.legend_show&&(e.showLegend(a.filter(e.isLegendToShow.bind(e))),r.legend.selectAll(e.selectorLegends(a)).filter(function(){return(0,l.Z)(this).classed(tG.legendItemFocused)}).classed(tG.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]}},{legend:{show:function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}}},{load:function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.axis.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),function(){H(function(){return e.loadFromArgs(t)})}):e.loadFromArgs(t)},unload:function(t){var e=this.internal,n=t||{};tc(n)&&this.tooltip.hide(),tu(n)?n={ids:n}:tt(n)&&(n={ids:[n]});var i=e.mapToTargetIds(n.ids);e.unload(i,function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.cache.remove(i),em.call(e,n.done,n.resizeAfter)})}},{show:function(t,e){void 0===e&&(e={}),eP.call(this,!0,t,e)},hide:function(t,e){void 0===e&&(e={}),eP.call(this,!1,t,e)},toggle:function(t,e){var n=this;void 0===e&&(e={});var i=this.internal,r={show:[],hide:[]};i.mapToTargetIds(t).forEach(function(t){return r[i.isTargetToShow(t)?"hide":"show"].push(t)}),r.show.length&&this.show(r.show,e),r.hide.length&&setTimeout(function(){return n.hide(r.hide,e)},0)}},{tooltip:{show:function(t){var e,n,i,r,a,o=this.internal,s=o.$el,c=o.config,l=o.state,u=l.eventReceiver,h=l.hasTreemap,d=l.inputType;if(t.mouse&&(a=t.mouse),t.data){var f=t.data,g=null===(e=o.getYScaleById(f.id))||void 0===e?void 0:e(f.value);h&&f.id?u.rect=s.main.select("".concat(o.selectorTarget(f.id,void 0,"rect"))):o.isMultipleX()?a=[o.xx(f),g]:(c.tooltip_grouped||(a=[0,g]),r=null!==(n=f.index)&&void 0!==n?n:o.hasArcType()&&f.id?null===(i=o.getArcElementByIdOrIndex(f.id))||void 0===i?void 0:i.datum().index:o.getIndexByX(f.x))}else ti(t.x)?r=o.getIndexByX(t.x):ti(t.index)&&(r=t.index);("mouse"===d?["mouseover","mousemove"]:["touchstart"]).forEach(function(t){o.dispatchEvent(t,r,a)})},hide:function(){var t,e,n,i=this.internal,r=i.state.inputType,a=i.$el.tooltip,o=null==a?void 0:a.datum();if(o){var s=JSON.parse(o.current)[0].index;("mouse"===r?["mouseout"]:["touchend"]).forEach(function(t){i.dispatchEvent(t,s)})}"touch"===r&&i.callOverOutForTouch(),i.hideTooltip(!0),null===(t=i.hideGridFocus)||void 0===t||t.call(i),null===(e=i.unexpandCircles)||void 0===e||e.call(i),null===(n=i.expandBarTypeShapes)||void 0===n||n.call(i,!1)}}}]);var eF=function(t){return e$.bind(this)(t,"x")};tT(eF,{add:function(t){return eX.bind(this)(t,"x")},remove:function(t){return eN.bind(this)(t,!0)}});var eB=function(t){return e$.bind(this)(t,"y")};function eY(t,e){void 0===e&&(e=!1);var n=this.internal,i=n.config,r=i.transition_duration&&tP();return t?(i.regions=e?i.regions.concat(t):t,n.updateRegion(),n.redrawRegion(r),e?i.regions:t):i.regions}tT(eB,{add:function(t){return eX.bind(this)(t,"y")},remove:function(t){return eN.bind(this)(t,!1)}});var eU=function(t){return eY.bind(this)(t)};tT(eU,{add:function(t){return eY.bind(this)(t,!0)},remove:function(t){var e=this.internal,n=e.config,i=e.$T,r=t||{},a=td(r,"classes",[tq.region]),o=e.$el.main.select(".".concat(tq.regions)).selectAll(a.map(function(t){return".".concat(t)}));return i(o).style("opacity","0").remove(),o=n.regions,Object.keys(r).length?(o=o.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){a.indexOf(t)>=0&&(e=!0)}),!e)}),n.regions=o):n.regions=[],o}});var eV=function(){function t(t){var e=eA(),n=t.config,i=t.params;this.owner=t,this.config=n,this.scale=e,(n.noTransition||!i.config.transition_duration)&&(n.withoutTransition=!0),n.range=this.scaleExtent((i.orgXScale||e).range())}return t.getSizeFor1Char=function(t){var e={w:5.5,h:11.5};return t.empty()||t.select("text").text("0").call(function(t){try{var n=t.node().getBBox(),i=n.width,r=n.height;i&&r&&(e.w=i,e.h=r)}catch(t){}finally{t.text("")}}),this.getSizeFor1Char=function(){return e},e},t.prototype.getTickTransformSetter=function(t){var e=this.config,n="x"===t?function(t){return"translate(".concat(t+e.tickOffset,",0)")}:function(t){return"translate(0,".concat(t,")")};return function(t,e){t.attr("transform",function(t){return K(t)?n(Math.ceil(e(t))):null})}},t.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},t.prototype.generateTicks=function(t,e){var n=this.owner.params.tickStepSize,i=t.domain(),r=i[0],a=i[1],o=[];if(e&&n)for(var s=Math.round(r);s<=a;)o.push(s),s+=n;else if(t.ticks){var c=this.config.tickArguments;if("log"!==t.type||c)o=t.ticks.apply(t,this.config.tickArguments||[]);else{var l=eA("_log").domain([r>0?r:1,a]).range(t.range());o=l.ticks();for(var u=a.toFixed().length;o.length>15;u--)o=l.ticks(u);o.splice(0,1,r),o.splice(o.length-1,1,a)}o=o.map(function(t){return tt(t)&&te(t)&&!isNaN(t)&&Math.round(10*t)/10||t})}return o},t.prototype.copyScale=function(){var t=this.scale.copy();return t.domain().length||t.domain(this.scale.domain()),t.type=this.scale.type,t},t.prototype.textFormatted=function(t){var e=this.config.tickFormat,n=/\d+\.\d+0{5,}\d$/.test(t)?+String(t).replace(/0+\d$/,""):t,i=e?e(n):n;return ti(i)?i:""},t.prototype.transitionise=function(t){var e=this.config,n=t;if(e.withoutTransition)n=t.interrupt();else if(e.transition||!this.owner.params.noTransition)try{n=t.transition(e.transition)}catch(t){}return n},t}(),eH=function(){function t(t){void 0===t&&(t={});var e={innerTickSize:6,outerTickSize:t.outerTick?6:0,orient:"bottom",range:[],tickArguments:null,tickCentered:null,tickCulling:!0,tickFormat:null,tickLength:9,tickOffset:0,tickPadding:3,tickValues:null,transition:null,noTransition:t.noTransition};e.tickLength=Math.max(e.innerTickSize,0)+e.tickPadding,this.config=e,this.params=t,this.helper=new eV(this)}return t.prototype.create=function(t){var e,n=this,i=n.config,r=n.helper,a=n.params,o=r.scale,s=i.orient,c=this.splitTickText.bind(n),u=/^(left|right)$/.test(s),h=/^(top|bottom)$/.test(s),d=r.getTickTransformSetter(h?"x":"y"),f=d===r.axisX?"y":"x",g=/^(top|left)$/.test(s)?-1:1,p=a.tickTextRotate;this.config.range=o.rangeExtent?o.rangeExtent():r.scaleExtent((a.orgXScale||o).range());var v=i.innerTickSize,_=i.tickLength,x=i.range,y=a.id,m=y&&/^(x|y|y2)$/.test(y)?a.config["axis_".concat(y,"_tick_text_position")]:{x:0,y:0},b="subX"===y?"subchart_axis_x":"axis_".concat(y),T=a.config["".concat(b,"_show")],w={tick:!!T&&a.config["".concat(b,"_tick_show")],text:!!T&&a.config["".concat(b,"_tick_text_show")]};t.each(function(){var t=(0,l.Z)(this),y=this.__chart__||o,b=r.copyScale();e=t,this.__chart__=b,i.tickOffset=a.isCategory?Math.ceil((b(1)-b(0))/2):0;var T=t.selectAll(".domain").data([0]);if(T.enter().append("path").attr("class","domain").merge(T).attr("d",function(){var t=i.outerTickSize*g;return h?"M".concat(x[0],",").concat(t,"V0H").concat(x[1],"V").concat(t):"M".concat(t,",").concat(x[0],"H0V").concat(x[1],"H").concat(t)}),w.tick||w.text){var k,A=i.tickValues||r.generateTicks(b,u);n.generatedTicks=A;var Z=t.selectAll(".tick").data(A,b),S=Z.enter().insert("g",".domain").attr("class","tick"),C=Z.exit().remove();Z=S.merge(Z),w.tick&&S.append("line"),w.text&&S.append("text");var E=eV.getSizeFor1Char(Z),M=[],L=Z.select("text").selectAll("tspan").data(function(t,e){var n=a.tickMultiline?c(t,b,A,u,E.w):tu(r.textFormatted(t))?r.textFormatted(t).concat():[r.textFormatted(t)];return M[e]=n.length,n.map(function(t){return{index:e,splitted:t}})});L.exit().remove(),(L=L.enter().append("tspan").merge(L).text(function(t){return t.splitted})).attr("x",h?0:_*g).attr("dx",(k=0,/(top|bottom)/.test(s)&&p&&(k=8*Math.sin(p/180*Math.PI)*("top"===s?-1:1)),k+(m.x||0))).attr("dy",function(t,e){var n=".71em",i=0;return"top"!==s&&(i=E.h,0===e&&(i=u?-((M[t.index]-1)*(E.h/2)-3):0===m.y?n:0)),te(i)&&m.y?i+m.y:i||n});var R=Z.select("line"),D=Z.select("text");if(S.select("line").attr("".concat(f,"2"),v*g),S.select("text").attr(f,_*g),n.setTickLineTextPosition(R,D),a.tickTitle){var P=D.select("title");(P.empty()?D.append("title"):P).text(function(t){return a.tickTitle[t]})}if(b.bandwidth){var z=b,I=z.bandwidth()/2;b=y=function(t){return z(t)+I}}else y.bandwidth?y=b:d(C,b);Z=a.owner.state.flowing?r.transitionise(Z):a.owner.$T(Z),d(S,y),d(Z.style("opacity",null),b)}}),this.g=e},t.prototype.getGeneratedTicks=function(t){var e,n=(null===(e=this.generatedTicks)||void 0===e?void 0:e.length)-1,i=this.generatedTicks;if(n>t){var r=Math.round(n/t+.1);i=this.generatedTicks.map(function(t,e){return e%r==0?t:null}).filter(function(t){return null!==t}).splice(0,t)}return i},t.prototype.getTickXY=function(){var t=this.config,e={x:0,y:0};return this.params.isCategory&&(e.x=t.tickCentered?0:t.tickOffset,e.y=t.tickCentered?t.tickOffset:0),e},t.prototype.getTickSize=function(t){var e=this.helper.scale,n=this.config,i=n.innerTickSize,r=n.range,a=e(t)+(n.tickCentered?0:n.tickOffset);return r[0]<a&&a<r[1]?i:0},t.prototype.setTickLineTextPosition=function(t,e){var n=this.getTickXY(),i=this.config,r=i.innerTickSize,a=i.orient,o=i.tickLength,s=i.tickOffset,c=this.params.tickTextRotate,l=function(t){var e=["start","end"];return"top"===a&&e.reverse(),t?e[t>0?0:1]:"middle"},u=function(t){return t?"rotate(".concat(t,")"):null},h=function(t){return t?11.5-t/("bottom"===a?15:23)*2.5*(t>0?1:-1):o};switch(a){case"bottom":t.attr("x1",n.x).attr("x2",n.x).attr("y2",this.getTickSize.bind(this)),e.attr("x",0).attr("y",h(c)).style("text-anchor",l(c)).attr("transform",u(c));break;case"top":t.attr("x2",0).attr("y2",-r),e.attr("x",0).attr("y",-(2*h(c))).style("text-anchor",l(c)).attr("transform",u(c));break;case"left":t.attr("x2",-r).attr("y1",n.y).attr("y2",n.y),e.attr("x",-o).attr("y",s).style("text-anchor","end");break;case"right":t.attr("x2",r).attr("y2",0),e.attr("x",o).attr("y",0).style("text-anchor","start")}},t.prototype.splitTickText=function(t,e,n,i,r){var a=this.params,o=this.helper.textFormatted(t),s=tt(o)&&o.indexOf("\n")>-1?o.split("\n"):[];if(s.length)return s;if(tu(o))return o;var c=a.tickWidth;return(!c||c<=0)&&(c=i?95:a.isCategory?Math.ceil(a.isInverted?e(n[0])-e(n[1]):e(n[1])-e(n[0]))-12:110),function t(e,n){for(var i,a,o=1;o<n.length;o++)if(" "===n.charAt(o)&&(i=o),a=r*n.substr(0,o+1).length,c<a)return t(e.concat(n.substr(0,i||o)),n.slice(i?i+1:o));return e.concat(n)}(s,String(o))},t.prototype.scale=function(t){return arguments.length?(this.helper.scale=t,this):this.helper.scale},t.prototype.orient=function(t){return arguments.length?(this.config.orient=t in{top:1,right:1,bottom:1,left:1}?String(t):"bottom",this):this.config.orient},t.prototype.tickFormat=function(t){var e=this.config;return arguments.length?(e.tickFormat=t,this):e.tickFormat},t.prototype.tickCentered=function(t){var e=this.config;return arguments.length?(e.tickCentered=t,this):e.tickCentered},t.prototype.tickOffset=function(){return this.config.tickOffset},t.prototype.tickInterval=function(t){var e,n=this,i=this.config,r=i.outerTickSize,a=i.tickOffset,o=i.tickValues;if(this.params.isCategory)e=2*a;else{e=(this.g.select("path.domain").node().getTotalLength()-2*r)/(t||this.g.selectAll("line").size());var s=o?o.map(function(t,e,i){var r=e+1;return r<i.length?n.helper.scale(i[r])-n.helper.scale(t):null}).filter(Boolean):[];e=Math.min.apply(Math,J(J([],s,!1),[e],!1))}return e===1/0?0:e},t.prototype.ticks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.config;return t.length?(n.tickArguments=tk(t),this):n.tickArguments},t.prototype.tickCulling=function(t){var e=this.config;return arguments.length?(e.tickCulling=t,this):e.tickCulling},t.prototype.tickValues=function(t){var e=this,n=this.config;if(Q(t))n.tickValues=function(){return t(e.helper.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=t}return this},t.prototype.setTransition=function(t){return this.config.transition=t,this},t}(),ej=function(){function t(t){this.axesList={},this.tick={x:null,y:null,y2:null},this.xs=[],this.orient={x:"bottom",y:"left",y2:"right",subX:"bottom"},this.owner=t,this.setOrient()}return t.prototype.getAxisClassName=function(t){return"".concat(t$.axis," ").concat(t$["axis".concat(tw(t))])},t.prototype.isHorizontal=function(t,e){var n=t.config.axis_rotated;return e?n:!n},t.prototype.isCategorized=function(){var t=this.owner,e=t.config,n=t.state;return e.axis_x_type.indexOf("category")>=0||n.hasRadar},t.prototype.isCustomX=function(){var t=this.owner.config;return!this.isTimeSeries()&&(t.data_x||tl(t.data_xs))},t.prototype.isTimeSeries=function(t){return void 0===t&&(t="x"),"timeseries"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isLog=function(t){return void 0===t&&(t="x"),"log"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isTimeSeriesY=function(){return this.isTimeSeries("y")},t.prototype.getAxisType=function(t){void 0===t&&(t="x");var e="linear";return this.isTimeSeries(t)?e=this.owner.config.axis_x_localtime?"time":"utc":this.isLog(t)&&(e="log"),e},t.prototype.init=function(){var t=this,e=this.owner,n=e.config,i=e.$el,r=i.main,a=i.axis,o=e.state.clip,s=n.axis_rotated,c=["x","y"];n.axis_y2_show&&c.push("y2"),c.forEach(function(i){var c=t.getAxisClassName(i),l=t$["axis".concat(i.toUpperCase(),"Label")];a[i]=r.append("g").attr("class",c).attr("clip-path",function(){var t=null;return"x"===i?t=o.pathXAxis:"y"===i&&(t=o.pathYAxis),t}).attr("transform",e.getTranslate(i)).style("visibility",n["axis_".concat(i,"_show")]?null:"hidden"),a[i].append("text").attr("class",l).attr("transform",["rotate(-90)",null]["x"===i?+!s:+s]).style("text-anchor",function(){return t.textAnchorForAxisLabel(i)}),t.generateAxes(i)})},t.prototype.setOrient=function(){var t=this.owner.config,e=t.axis_rotated,n=t.axis_y_inner,i=t.axis_y2_inner;this.orient={x:e?"left":"bottom",y:e?n?"top":"bottom":n?"right":"left",y2:e?i?"bottom":"top":i?"left":"right",subX:e?"left":"bottom"}},t.prototype.generateAxes=function(t){var e,n=this.owner,i=n.config,r=[],a=i["axis_".concat(t,"_axes")],o=i.axis_rotated;"x"===t?e=o?X.y4:X.LL:"y"===t?e=o?X.LL:X.y4:"y2"===t&&(e=o?X.F5:X.Kh),a.length&&a.forEach(function(i){var a=i.tick||{},o=n.scale[t].copy();i.domain&&o.domain(i.domain),r.push(e(o).ticks(a.count).tickFormat(Q(a.format)?a.format.bind(n.api):function(t){return t}).tickValues(a.values).tickSizeOuter(!1===a.outer?0:6))}),this.axesList[t]=r},t.prototype.updateAxes=function(){var t=this,e=this.owner,n=e.config,i=e.$el.main,r=e.$T;Object.keys(this.axesList).forEach(function(a){var o=n["axis_".concat(a,"_axes")],s=e.scale[a].copy(),c=s.range();t.axesList[a].forEach(function(l,u){var h=l.scale().range();c.every(function(t,e){return t===h[e]})||l.scale().range(c);var d="".concat(t.getAxisClassName(a),"-").concat(u+1),f=i.select(".".concat(d.replace(/\s/,".")));f.empty()?f=i.append("g").attr("class",d).style("visibility",n["axis_".concat(a,"_show")]?null:"hidden").call(l):(o[u].domain&&s.domain(o[u].domain),r(f).call(l.scale(s))),f.attr("transform",e.getTranslate(a,u+1))})})},t.prototype.setAxis=function(t,e,n,i){var r=this.owner;"subX"!==t&&(this.tick[t]=this.getTickValues(t)),this[t]=this.getAxis(t,e,n,"x"===t&&(!!r.scale.zoom||!!r.config.subchart_show||!!r.state.resizing)||i)},t.prototype.getAxis=function(t,e,n,i,r){var a,o=this.owner,s=o.config,c=/^(x|subX)$/.test(t),l=c?"x":t,u=c&&this.isCategorized(),h=this.orient[t],d=r?0:o.getAxisTickRotate(l);if(c)a="subX"===t?o.format.subXAxisTick:o.format.xAxisTick;else{var f=s["axis_".concat(t,"_tick_format")];Q(f)&&(a=f.bind(o.api))}var g=this.tick[l],p=tC({outerTick:n,noTransition:i,config:s,id:t,tickTextRotate:d,owner:o},c&&{isCategory:u,isInverted:s.axis_x_inverted,tickMultiline:s.axis_x_tick_multiline,tickWidth:s.axis_x_tick_width,tickTitle:u&&s.axis_x_tick_tooltip&&o.api.categories(),orgXScale:o.scale.x});c||(p.tickStepSize=s["axis_".concat(l,"_tick_stepSize")]);var v=new eH(p).scale(c&&o.scale.zoom||e).orient(h);if(c&&this.isTimeSeries()&&g&&!Q(g)){var _=tD.bind(o);g=g.map(function(t){return _(t)})}else!c&&this.isTimeSeriesY()&&(v.ticks(s.axis_y_tick_time_value),g=null);g&&v.tickValues(g),v.tickFormat(a||!c&&o.isStackNormalized()&&function(t){return"".concat(t,"%")}),u&&(v.tickCentered(s.axis_x_tick_centered),tc(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1));var x=s["axis_".concat(l,"_tick_count")];return x&&v.ticks(x),v},t.prototype.updateXAxisTickValues=function(t,e){var n,i,r=this.owner,a=r.config,o=a.axis_x_tick_fit,s=a.axis_x_tick_count;return(o||s&&o)&&(i=r.mapTargetsToUniqueXs(t),this.isCategorized()&&s>i.length&&(s=i.length),i=this.generateTickValues(i,s,this.isTimeSeries())),e?e.tickValues(i):this.x&&(this.x.tickValues(i),null===(n=this.subX)||void 0===n||n.tickValues(i)),i},t.prototype.getId=function(t){var e=this.owner,n=e.config,i=e.scale,r=n.data_axes[t];return r&&i[r]||(r="y"),r},t.prototype.getXAxisTickFormat=function(t){var e,n=this.owner,i=n.config,r=n.format,a=t&&i.subchart_axis_x_tick_format||i.axis_x_tick_format,o=this.isTimeSeries(),s=this.isCategorized();return a?Q(a)?e=a.bind(n.api):o&&(e=function(t){return t?r.axisTime(a)(t):""}):e=o?r.defaultAxisTime:s?n.categoryName:function(t){return t<0?t.toFixed(0):t},Q(e)?function(t){return e.apply(n,s?[t,n.categoryName(t)]:[t])}:e},t.prototype.getTickValues=function(t){var e=this.owner,n=e.config["axis_".concat(t,"_tick_values")],i=e["".concat(t,"Axis")];return(Q(n)?n.call(e.api):n)||(i?i.tickValues():void 0)},t.prototype.getLabelOptionByAxisId=function(t){return this.owner.config["axis_".concat(t,"_label")]},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return tt(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);tt(i)?n["axis_".concat(t,"_label")]=e:i&&(i.text=e)},t.prototype.getLabelPosition=function(t,e){var n=this.owner.config.axis_rotated,i=this.getLabelOptionByAxisId(t),r=ts(i)&&i.position?i.position:e[+!n],a=function(t){return!!~r.indexOf(t)};return{isInner:a("inner"),isOuter:a("outer"),isLeft:a("left"),isCenter:a("center"),isRight:a("right"),isTop:a("top"),isMiddle:a("middle"),isBottom:a("bottom")}},t.prototype.getAxisLabelPosition=function(t){return this.getLabelPosition(t,"x"===t?["inner-top","inner-right"]:["inner-right","inner-top"])},t.prototype.getLabelPositionById=function(t){return this.getAxisLabelPosition(t)},t.prototype.xForAxisLabel=function(t){var e=this.owner,n=e.state,i=n.width,r=n.height,a=this.getAxisLabelPosition(t),o=a.isMiddle?-r/2:0;return this.isHorizontal(e,"x"!==t)?o=a.isLeft?0:a.isCenter?i/2:i:a.isBottom&&(o=-r),o},t.prototype.dxForAxisLabel=function(t){var e=this.owner,n=this.getAxisLabelPosition(t),i=n.isBottom?"0.5em":"0";return this.isHorizontal(e,"x"!==t)?i=n.isLeft?"0.5em":n.isRight?"-0.5em":"0":n.isTop&&(i="-0.5em"),i},t.prototype.textAnchorForAxisLabel=function(t){var e=this.owner,n=this.getAxisLabelPosition(t),i=n.isMiddle?"middle":"end";return this.isHorizontal(e,"x"!==t)?i=n.isLeft?"start":n.isCenter?"middle":"end":n.isBottom&&(i="start"),i},t.prototype.dyForAxisLabel=function(t){var e,n=this.owner,i=n.config,r=i.axis_rotated,a=this.getAxisLabelPosition(t).isInner,o=i["axis_".concat(t,"_tick_rotate")]?n.getHorizontalAxisHeight(t):0,s=this.getMaxTickSize(t).width;if("x"===t){var c=i.axis_x_height;e=r?a?"1.2em":-25-s:a?"-0.5em":c?c-10:o?o-10:"3em"}else e=({y:["-0.5em",10,"3em","1.2em",10],y2:["1.2em",-20,"-2.2em","-0.5em",15]})[t],e=r?a?e[0]:o?o*("y2"===t?-1:1)-e[1]:e[2]:a?e[3]:(e[4]+(i["axis_".concat(t,"_inner")]?0:s+e[4]))*("y"===t?-1:1);return e},t.prototype.getMaxTickSize=function(t,e){var n=this.owner,i=n.config,r=n.state.current,a=n.$el,o=a.svg,s=a.chart,c=r.maxTickSize[t],l="axis_".concat(t),u={width:0,height:0};if(e||!i["".concat(l,"_show")]||c.width>0&&0===n.filterTargetsToShow().length)return c;if(o){var h=/^y2?$/.test(t),d=n.filterTargetsToShow(n.data.targets),f=n.scale[t].copy().domain(n["get".concat(h?"Y":"X","Domain")](d,t)),g=f.domain(),p=g[0]===g[1]&&g.every(function(t){return t>0}),v=tu(c.domain)&&c.domain[0]===c.domain[1]&&c.domain.every(function(t){return t>0});if(p||v)return c.size;c.domain=g,h||c.ticks.splice(0);var _=this.getAxis(t,f,!1,!1,!0),x=i["".concat(l,"_tick_rotate")],y=i["".concat(l,"_tick_count")];!i["".concat(l,"_tick_values")]&&y&&_.tickValues(this.generateTickValues(g,y,h?this.isTimeSeriesY():this.isTimeSeries())),h||this.updateXAxisTickValues(d,_);var m=s.append("svg").style("visibility","hidden").style("position","fixed").style("top","0").style("left","0");_.create(m),m.selectAll("text").attr("transform",te(x)?"rotate(".concat(x,")"):null).each(function(t,e){var n=this.getBoundingClientRect(),i=n.width,r=n.height;u.width=Math.max(u.width,i),u.height=Math.max(u.height,r),h||(c.ticks[e]=i)}),m.remove()}return Object.keys(u).forEach(function(t){u[t]>0&&(c[t]=u[t])}),c},t.prototype.getXAxisTickTextY2Overflow=function(t){var e=this.owner,n=e.axis,i=e.config,r=e.state,a=e.getAxisTickRotate("x"),o=a>0&&a<90;if((n.isCategorized()||n.isTimeSeries())&&i.axis_x_tick_fit&&(!i.axis_x_tick_culling||tc(i.axis_x_tick_culling))&&!i.axis_x_tick_multiline&&o){var s=r.current.width-e.getCurrentPaddingByDirection("left");return Math.min(Math.max(0,this.getXAxisTickMaxOverflow(a,s-t))+t,s/2)}return 0},t.prototype.getXAxisTickMaxOverflow=function(t,e){for(var n=this.owner,i=n.axis,r=n.config,a=n.state,o=i.isTimeSeries(),s=a.current.maxTickSize.x.ticks,c=s.length,l=a.axis.x.padding,u=l.left,h=l.right,d=0,f=c-(o&&r.axis_x_tick_fit?.5:0),g=0;g<c;g++){var p=g+1,v=Math.cos(Math.PI*t/180)*s[g],_=p-(o?1:.5)+u;if(!(_<=0)){var x=(e-v)/_,y=h*x,m=(f-p)*x+y;d=Math.max(d,v-x/2-m)}}var b=n.filterTargetsToShow(n.data.targets),T=0;if(!o&&r.axis_x_tick_count<=b.length&&b[0].values.length){var w=eA(n.axis.getAxisType("x"),0,e-d).domain([-1*u,n.getXDomainMax(n.data.targets)+1+h]);T=Math.ceil((w(1)-w(0))/2)}return d+T},t.prototype.updateLabels=function(t){var e=this,n=this.owner,i=n.$el.main,r=n.$T,a={x:i.select(".".concat(t$.axisX," .").concat(t$.axisXLabel)),y:i.select(".".concat(t$.axisY," .").concat(t$.axisYLabel)),y2:i.select(".".concat(t$.axisY2," .").concat(t$.axisY2Label))};Object.keys(a).filter(function(t){return!a[t].empty()}).forEach(function(n){r(a[n],t).attr("x",function(){return e.xForAxisLabel(n)}).attr("dx",function(){return e.dxForAxisLabel(n)}).attr("dy",function(){return e.dyForAxisLabel(n)}).text(function(){return e.getLabelText(n)})})},t.prototype.getPadding=function(t,e,n,i){var r=te(t)?t:t[e];return K(r)?this.owner.convertPixelToScale(/(bottom|top)/.test(e)?"y":"x",r,i):n},t.prototype.generateTickValues=function(t,e,n){var i=t;if(e){var r=Q(e)?e():e;if(1===r)i=[t[0]];else if(2===r)i=[t[0],t[t.length-1]];else if(r>2){var a=this.isCategorized(),o=r-2,s=t[0],c=t[t.length-1],l=(c-s)/(o+1),u=void 0;i=[s];for(var h=0;h<o;h++)u=+s+l*(h+1),i.push(n?new Date(u):a?Math.round(u):u);i.push(c)}}return n||(i=i.sort(function(t,e){return t-e})),i},t.prototype.generateTransitions=function(t){var e=this.owner,n=e.$el.axis,i=e.$T,r=["x","y","y2","subX"].map(function(e){return i(n[e],t)});return{axisX:r[0],axisY:r[1],axisY2:r[2],axisSubX:r[3]}},t.prototype.redraw=function(t,e,n){var i=this,r=this.owner,a=r.config,o=r.$el,s=e?"0":null;["x","y","y2","subX"].forEach(function(e){var r=i[e],c=o.axis[e];r&&c&&(n||a.transition_duration||(r.config.withoutTransition=!0),c.style("opacity",s),r.create(t["axis".concat(tw(e))]))}),this.updateAxes()},t.prototype.redrawAxis=function(t,e,n,i,r){var a,o,s,c,l=this,u=this.owner,h=u.config,d=u.scale,f=u.$el,g=!!d.zoom;!g&&this.isCategorized()&&0===t.length&&d.x.domain([0,f.axis.x.selectAll(".tick").size()]),d.x&&t.length?(g||u.updateXDomain(t,e.UpdateXDomain,e.UpdateOrgXDomain,e.TrimXDomain),h.axis_x_tick_values||this.updateXAxisTickValues(t)):this.x&&(this.x.tickValues([]),null===(a=this.subX)||void 0===a||a.tickValues([])),h.zoom_rescale&&!i&&(c=d.x.orgDomain()),["y","y2"].forEach(function(e){var n="axis_".concat(e,"_"),i=d[e];if(i){var r=h["".concat(n,"tick_values")],a=h["".concat(n,"tick_count")];if(i.domain(u.getYDomain(t,e,c)),!r&&a){var o=u.axis[e],s=i.domain();o.tickValues(l.generateTickValues(s,s.every(function(t){return 0===t})?1:a,l.isTimeSeriesY()))}}}),this.redraw(n,u.hasArcType(),r),this.updateLabels(e.Transition),(e.UpdateXDomain||e.UpdateXAxis||e.Y)&&t.length&&this.setCulling(),e.Y&&(null===(o=d.subY)||void 0===o||o.domain(u.getYDomain(t,"y")),null===(s=d.subY2)||void 0===s||s.domain(u.getYDomain(t,"y2")))},t.prototype.setCulling=function(){var t=this.owner,e=t.config,n=t.state,i=n.clip,r=n.current,a=t.$el;["subX","x","y","y2"].forEach(function(t){var n=a.axis[t],o="axis_".concat("subX"===t?"x":t,"_tick_culling"),s=e[o];if(n&&s){var c,l=n.selectAll(".tick"),u=tE(l.data()),h=u.length,d=e["".concat(o,"_max")],f=e["".concat(o,"_lines")];if(h){for(var g=1;g<h;g++)if(h/g<d){c=g;break}l.each(function(t){var e=f?this.querySelector("text"):this;e&&(e.style.display=u.indexOf(t)%c?"none":null)})}else l.style("display",null);if("x"===t){var p=r.maxTickSize.x.clipPath?i.pathXAxisTickTexts:null;a.svg.selectAll(".".concat(t$.axisX," .tick text")).attr("clip-path",p)}}})},t}(),eG=function(t){return K(t.position)||"end"},eW=function(t){return"start"===t.position?4:"middle"===t.position?0:-4};function eq(t,e,n){return function(i){var r=t?0:e;return"start"===i.position?r=t?-n:0:"middle"===i.position&&(r=(t?-n:e)/2),r}}function eJ(t,e){"grid"===e&&t.each(function(){var t=(0,l.Z)(this);["x1","x2","y1","y2"].forEach(function(e){return t.attr(e,Math.ceil(+t.attr(e)))})})}var eK=q(q(q({axis_rotated:!1},{axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_culling_lines:!0,axis_x_tick_count:void 0,axis_x_tick_show:!0,axis_x_tick_text_show:!0,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_autorotate:!1,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:void 0,axis_x_min:void 0,axis_x_inverted:!1,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_axes:[]}),{axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:"indexed",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_culling:!1,axis_y_tick_culling_max:5,axis_y_tick_culling_lines:!0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_show:!0,axis_y_tick_stepSize:null,axis_y_tick_text_show:!0,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y_axes:[]}),{axis_y2_show:!1,axis_y2_type:"indexed",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_culling:!1,axis_y2_tick_culling_max:5,axis_y2_tick_culling_lines:!0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_rotate:0,axis_y2_tick_count:void 0,axis_y2_tick_show:!0,axis_y2_tick_stepSize:null,axis_y2_tick_text_show:!0,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:void 0,axis_y2_axes:[]}),eQ=[{axis:{labels:function(t){var e,n=this.internal;return t&&(Object.keys(t).forEach(function(e){n.axis.setLabelText(e,t[e])}),n.axis.updateLabels()),["x","y","y2"].forEach(function(t){var i=n.axis.getLabelText(t);i&&(e||(e={}),e[t]=i)}),e},min:function(t){var e=this.internal;return K(t)||!1===t?eI(e,"min",t):eO(e,"min")},max:function(t){var e=this.internal;return K(t)||!1===t?eI(e,"max",t):eO(e,"max")},range:function(t){var e=this.axis;if(!arguments.length)return{max:e.max(),min:e.min()};var n=t.min,i=t.max;ti(i)&&e.max(i),ti(n)&&e.min(n)}}},{category:function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},categories:function(t){var e=this.internal,n=e.config;if(!t||!Array.isArray(t)){var i=n.axis_x_categories;return tc(i)?Object.values(e.data.xs)[0]:i}return n.axis_x_categories=t,e.redraw(),n.axis_x_categories}},{flow:function(t){var e,n=this.internal;(t.json||t.rows||t.columns)&&n.convertData(t,function(i){e=i,function(){var i,r,a,o=0,s=0;if(!n.state.redrawing&&e&&tP()){var c=[],l=n.getMaxDataCount(),u=n.convertDataToTargets(e,!0),h=n.axis.isTimeSeries();n.data.targets.forEach(function(t){for(var e=!1,n=0;n<u.length;n++)if(t.id===u[n].id){e=!0,t.values[t.values.length-1]&&(s=t.values[t.values.length-1].index+1),o=u[n].values.length;for(var i=0;i<o;i++)u[n].values[i].index=s+i,h||(u[n].values[i].x=s+i);t.values=t.values.concat(u[n].values),u.splice(n,1);break}e||c.push(t.id)}),n.data.targets.forEach(function(t){for(var e=0;e<c.length;e++)if(t.id===c[e]){s=t.values[t.values.length-1].index+1;for(var i=0;i<o;i++)t.values.push({id:t.id,index:s+i,x:h?n.getOtherTargetX(s+i):s+i,value:null})}}),n.data.targets.length&&u.forEach(function(t){for(var e=[],i=n.data.targets[0].values[0].index;i<s;i++)e.push({id:t.id,index:i,x:h?n.getOtherTargetX(i):i,value:null});t.values.forEach(function(t){t.index+=s,h||(t.x+=s)}),t.values=e.concat(t.values)}),n.data.targets=n.data.targets.concat(u);var d=n.data.targets[0],f=d.values[0];ti(t.to)?(o=0,a=h?tD.call(n,t.to):t.to,d.values.forEach(function(t){t.x<a&&o++})):ti(t.length)&&(o=t.length),l?1===l&&h&&(r=(d.values[d.values.length-1].x-f.x)/2,i=[new Date(+f.x-r),new Date(+f.x+r)]):(r=h?d.values.length>1?d.values[d.values.length-1].x-f.x:f.x-n.getXDomain(n.data.targets)[0]:1,i=[f.x-r,f.x]),i&&n.updateXDomain(null,!0,!0,!1,i),n.updateTargets(n.data.targets),n.redraw({flow:{index:f.index,length:o,duration:K(t.duration)?t.duration:n.config.transition_duration,done:t.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})}}()})}},{xgrids:eF,ygrids:eB},{groups:function(t){var e=this.internal,n=e.config;return tn(t)||(n.data_groups=t,e.redraw()),n.data_groups}},{regions:eU},{x:function(t){var e=this.internal,n=e.axis,i=e.data,r=n.isCustomX()&&n.isCategorized();return tu(t)&&(r?this.categories(t):(e.updateTargetX(i.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))),r?this.categories():i.xs},xs:function(t){var e=this.internal;return th(t)&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}}],e0=[{getAxisInstance:function(){return this.axis||new ej(this)}},{initClip:function(){var t=this.state,e=t.clip,n=t.datetimeId;e.id="".concat(n,"-clip"),e.idXAxis="".concat(e.id,"-xaxis"),e.idYAxis="".concat(e.id,"-yaxis"),e.idGrid="".concat(e.id,"-grid"),e.path=this.getClipPath(e.id),e.pathXAxis=this.getClipPath(e.idXAxis),e.pathYAxis=this.getClipPath(e.idYAxis),e.pathGrid=this.getClipPath(e.idGrid)},getClipPath:function(t){var e=this.config;if(!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t))return null;var n=!!B.navigator&&B.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url(".concat(n?"":Y.URL.split("#")[0],"#").concat(t,")")},appendClip:function(t,e){e&&t.append("clipPath").attr("id",e).append("rect")},setXAxisClipPath:function(t){var e=this.config,n=this.state,i=n.margin,r=n.width,a=n.height,o=e.axis_rotated,s=Math.max(30,i.left)-(o?0:20),c=(o?i.top+a+10:i.bottom)+20,l=o?i.left+20:r+10+s;t.attr("x",o?-(1+s):-(s-1)).attr("y",-15).attr("width",l).attr("height",c)},setYAxisClipPath:function(t){var e=this.config,n=this.state,i=n.margin,r=n.width,a=n.height,o=e.axis_rotated,s=Math.max(30,i.left)-(o?20:0),c=e.axis_y_inner,l=c&&!o?e.axis_y_label.text?-20:-1:o?-(1+s):-(s-1),u=-(o?20:i.top),h=(o?r+15+s:i.left+20)+(c?20:0),d=(o?i.bottom+10:i.top+a)+10;t.attr("x",l).attr("y",u).attr("width",h).attr("height",d)},updateXAxisTickClip:function(){var t=this.config,e=this.state,n=e.clip,i=e.xAxisHeight,r=this.$el.defs,a=this.getHorizontalAxisHeight("x");if(r&&!n.idXAxisTickTexts){var o="".concat(n.id,"-xaxisticktexts");this.appendClip(r,o),n.pathXAxisTickTexts=this.getClipPath(n.idXAxisTickTexts),n.idXAxisTickTexts=o}!t.axis_x_tick_multiline&&this.getAxisTickRotate("x")&&a!==i&&(this.setXAxisTickClipWidth(),this.setXAxisTickTextClipPathWidth()),this.state.xAxisHeight=a},setXAxisTickClipWidth:function(){var t=this.config,e=this.state.current.maxTickSize,n=this.getAxisTickRotate("x");if(!t.axis_x_tick_multiline&&n){var i=Math.sin(Math.PI/180*Math.abs(n));e.x.clipPath=(this.getHorizontalAxisHeight("x")-20)/i}else e.x.clipPath=null},setXAxisTickTextClipPathWidth:function(){var t=this.state,e=t.clip,n=t.current,i=this.$el.svg;i&&i.select("#".concat(e.idXAxisTickTexts," rect")).attr("width",n.maxTickSize.x.clipPath).attr("height",30)}},{initEventRect:function(){this.$el.main.select(".".concat(tz.chart)).append("g").attr("class",tj.eventRects).style("fill-opacity","0")},redrawEventRect:function(){var t,e=this.config,n=this.state,i=this.$el,r=this.isMultipleX(),a=e.axis_x_inverted;if(i.eventRect)this.updateEventRect(i.eventRect,!0);else if(this.data.targets.length){var o=this.$el.main.select(".".concat(tj.eventRects)).style("cursor",e.zoom_enabled&&"drag"!==e.zoom_type?e.axis_rotated?"ns-resize":"ew-resize":null).classed(tj.eventRectsMultiple,r).classed(tj.eventRectsSingle,!r).selectAll(".".concat(tj.eventRect)).data([0]).enter().append("rect");this.updateEventRect(o),r?this.generateEventRectsForMultipleXs(o):this.generateEventRectsForSingleX(o),o.call(this.getDraggableSelection()),i.eventRect=o,"touch"!==this.state.inputType||i.svg.on("touchstart.eventRect")||this.hasArcType()||this.bindTouchOnEventRect(),n.rendered&&this.updateEventRect(i.eventRect,!0)}if(!r){var s=this.getMaxDataCountTarget();(!e.data_xSort||a)&&s.sort(function(t,e){return a?e.x-t.x:t.x-e.x}),this.updateDataIndexByX(s),this.updateXs(s),null===(t=this.updatePointClass)||void 0===t||t.call(this,!0),n.eventReceiver.data=s}this.updateEventRectData()},bindTouchOnEventRect:function(){var t,e=this,n=e.config,i=e.state,r=e.$el,a=r.eventRect,o=r.svg,s=function(t){if(e.isMultipleX())e.selectRectForMultipleXs(t);else{var n=e.getDataIndexFromEvent(i.event);e.callOverOutForTouch(n),-1===n?e.unselectRect():e.selectRectForSingle(t,n)}},c=function(){e.unselectRect(),e.callOverOutForTouch()},l=n.interaction_inputType_touch.preventDefault,u=tr(l)&&l||!1,h=!isNaN(l)&&l||null,d=function(e){var i=e.type,r=e.changedTouches[0]["client".concat(n.axis_rotated?"Y":"X")];"touchstart"===i?u?e.preventDefault():null!==h&&(t=r):"touchmove"===i&&(u||!0===t||null!==h&&Math.abs(t-r)>=h)&&(t=!0,e.preventDefault())};a.on("touchstart",function(t){i.event=t,e.updateEventRect()}).on("touchstart.eventRect touchmove.eventRect",function(t){(i.event=t,!a.empty()&&a.classed(tj.eventRect))?i.dragging||i.flowing||e.hasArcType()||t.touches.length>1||(d(t),s(a.node())):c()},!0).on("touchend.eventRect",function(t){i.event=t,!a.empty()&&a.classed(tj.eventRect)&&(e.hasArcType()||!e.toggleShape||i.cancelClick)&&i.cancelClick&&(i.cancelClick=!1)},!0),o.on("touchstart",function(t){i.event=t;var e=t.target;e&&e!==a.node()&&c()})},updateEventRect:function(t,e){void 0===e&&(e=!1);var n=this.state,i=this.$el,r=n.eventReceiver,a=n.width,o=n.height,s=n.rendered,c=n.resizing,l=t||i.eventRect;(!s||c||e)&&(l.attr("x",0).attr("y",0).attr("width",a).attr("height",o),(!s||e)&&l.classed(tj.eventRect,!0)),r&&(r.rect=l.node().getBoundingClientRect())},updateEventRectData:function(){var t=this,e=t.config,n=t.scale,i=t.state,r=n.zoom||n.x,a=e.axis_rotated;if(t.isMultipleX())o=0,s=0,c=i.width,l=i.height;else{var o,s,c,l,u,h=void 0;if(t.axis.isCategorized())u=t.getEventRectWidth(),h=function(t){return r(t.x)-u/2};else{var d=function(e){var n=e.index;return{prev:t.getPrevX(n),next:t.getNextX(n)}};u=function(t){var e,n=d(t),o=r.domain();return null===n.prev&&null===n.next?e=a?i.height:i.width:null===n.prev?e=(r(n.next)+r(t.x))/2:null===n.next?e=r(o[1])-(r(n.prev)+r(t.x))/2:(Object.keys(n).forEach(function(t,e){var i;n[t]=null!==(i=n[t])&&void 0!==i?i:o[e]}),e=Math.max(0,(r(n.next)-r(n.prev))/2)),e},h=function(t){var e=d(t);return null===e.prev&&null===e.next?0:null===e.prev?r(r.domain()[0]):(r(t.x)+r(e.prev))/2}}o=a?0:h,s=a?h:0,c=a?i.width:u,l=a?u:i.height}var f=i.eventReceiver,g=function(t,e){return Q(t)?t(e):t};f.coords.splice(f.data.length),f.data.forEach(function(t,e){f.coords[e]={x:g(o,t),y:g(s,t),w:g(c,t),h:g(l,t)}})},selectRectForSingle:function(t,e){var n,i,r=this,a=r.config,o=r.$el,s=o.main,c=o.circle,l=a.data_selection_enabled,u=a.data_selection_grouped,h=a.data_selection_isselectable,d=a.tooltip_grouped,f=r.getAllValuesOnIndex(e);if(!d||(r.showTooltip(f,t),null===(n=r.showGridFocus)||void 0===n||n.call(r,f),l&&!u)){c||s.selectAll(".".concat(tz.EXPANDED,":not(.").concat(tK.shape,"-").concat(e,")")).classed(tz.EXPANDED,!1);var g=s.selectAll(".".concat(tK.shape,"-").concat(e)).classed(tz.EXPANDED,!0).style("cursor",h?"pointer":null).filter(function(t){return r.isWithinShape(this,t)});g.empty()&&!d&&(null===(i=r.hideGridFocus)||void 0===i||i.call(r),r.hideTooltip(),u||r.setExpand(e)),g.call(function(n){var i,a,o=n.data();l&&(u||(null==h?void 0:h.bind(r.api)(o)))&&(t.style.cursor="pointer"),d||(r.showTooltip(o,t),null===(i=r.showGridFocus)||void 0===i||i.call(r,o),null===(a=r.unexpandCircles)||void 0===a||a.call(r),n.each(function(t){return r.setExpand(e,t.id)}))})}},selectRectForMultipleXs:function(t,e){void 0===e&&(e=!0);var n=this,i=n.config,r=n.state,a=n.filterTargetsToShow(n.data.targets);if(!(r.dragging||n.hasArcType(a))){var o=tx(r.event,t),s=n.findClosestFromTargets(a,o);if(e&&r.mouseover&&(!s||s.id!==r.mouseover.id)&&(i.data_onout.call(n.api,r.mouseover),r.mouseover=void 0),!s){n.unselectRect();return}var c=(n.isBubbleType(s)||n.isScatterType(s)||!i.tooltip_grouped?[s]:n.filterByX(a,s.x)).map(function(t){return n.addName(t)});n.showTooltip(c,t),n.setExpand(s.index,s.id,!0),n.showGridFocus(c);var l=n.dist(s,o);(n.isBarType(s.id)||l<n.getPointSensitivity(s))&&(n.$el.svg.select(".".concat(tj.eventRect)).style("cursor","pointer"),e&&!r.mouseover&&(i.data_onover.call(n.api,s),r.mouseover=s))}},unselectRect:function(){var t=this.$el,e=t.circle,n=t.tooltip;this.$el.svg.select(".".concat(tj.eventRect)).style("cursor",null),this.hideGridFocus(),n&&(this.hideTooltip(),this._handleLinkedCharts(!1)),e&&!this.isPointFocusOnly()&&this.unexpandCircles(),this.expandBarTypeShapes(!1)},generateEventRectsForSingleX:function(t){var e=this,n=e.config,i=e.state,r=i.eventReceiver,a=t.style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("click",function(t){i.event=t;var n=r.currentIdx,a=r.data[-1===n?e.getDataIndexFromEvent(t):n];e.clickHandlerForSingleX.bind(this)(a,e)});if("mouse"===i.inputType){var o=function(t){var n=t?e.getDataIndexFromEvent(t):r.currentIdx;return n>-1?r.data[n]:null};a.on("mouseover",function(t){i.event=t,e.updateEventRect()}).on("mousemove",function(t){var a=o(t);if(i.event=t,a){var s=a.index,c=n.line_step_type;if(n.line_step_tooltipMatch&&e.hasType("step")&&/^step\-(before|after)$/.test(c)){var l=e.scale.zoom||e.scale.x,u=e.axis.xs[s],h=l.invert(tx(t,this)[0]);"step-after"===c&&h<u?s-=1:"step-before"===c&&h>u&&(s+=1)}var d=n.tooltip_grouped&&s===r.currentIdx;if(i.dragging||i.flowing||e.hasArcType()||d){n.tooltip_show&&d&&e.setTooltipPosition();return}s!==r.currentIdx&&(e.setOverOut(!1,r.currentIdx),r.currentIdx=s),-1===s?e.unselectRect():e.selectRectForSingle(this,s),e.setOverOut(-1!==s,s)}}).on("mouseout",function(t){i.event=t,!n||e.hasArcType()||-1===r.currentIdx||(e.unselectRect(),e.setOverOut(!1,r.currentIdx),r.currentIdx=-1)})}return a},clickHandlerForSingleX:function(t,e){var n=e.config,i=e.state,r=e.$el.main;if(!t||e.hasArcType()||i.cancelClick){i.cancelClick&&(i.cancelClick=!1);return}var a=t.index;r.selectAll(".".concat(tK.shape,"-").concat(a)).each(function(t){var i;(n.data_selection_grouped||e.isWithinShape(this,t))&&(null===(i=e.toggleShape)||void 0===i||i.call(e,this,t,a),n.data_onclick.bind(e.api)(t,this))})},generateEventRectsForMultipleXs:function(t){var e=this,n=e.state;t.on("click",function(t){n.event=t,e.clickHandlerForMultipleXS.bind(this)(e)}),"mouse"===n.inputType&&t.on("mouseover mousemove",function(t){n.event=t,e.selectRectForMultipleXs(this)}).on("mouseout",function(t){n.event=t,!e.config||e.hasArcType()||e.unselectRect()})},clickHandlerForMultipleXS:function(t){var e=t.config,n=t.state,i=t.filterTargetsToShow(t.data.targets);if(!t.hasArcType(i)){var r=tx(n.event,this),a=t.findClosestFromTargets(i,r),o="radius"===e.point_sensitivity?a.r:e.point_sensitivity;a&&(t.isBarType(a.id)||t.dist(a,r)<o)&&t.$el.main.selectAll(".".concat(tK.shapes).concat(t.getTargetSelectorSuffix(a.id))).selectAll(".".concat(tK.shape,"-").concat(a.index)).each(function(){var n;(e.data_selection_grouped||t.isWithinShape(this,a))&&(null===(n=t.toggleShape)||void 0===n||n.call(t,this,a,a.index),e.data_onclick.bind(t.api)(a,this))})}}},{generateFlow:function(t){var e=this,n=e.data,i=e.state,r=e.$el;return function(){var a=t.flow.length;i.flowing=!0,n.targets.forEach(function(t){t.values.splice(0,a)}),e.updateXGrid&&e.updateXGrid(!0);var o={};["axis.x","grid.x","gridLines.x","region.list","text","bar","line","area","circle"].forEach(function(t){var e=t.split("."),n=r[e[0]];n&&e.length>1&&(n=n[e[1]]),(null==n?void 0:n.size())&&(o[t]=n)}),e.hideGridFocus(),e.setFlowList(o,t)}},setFlowList:function(t,e){var n,i=this,r=e.flow,a=e.targets,o=r.duration,s=void 0===o?e.duration:o,c=r.index,l=r.length,u=r.orgDataCount,h=i.getFlowTransform(a,u,c,l),d=eu();d.add(Object.keys(t).map(function(e){return n=t[e].transition().ease(N.G).duration(s),n="axis.x"===e?n.call(function(t){i.axis.x.setTransition(t).create(t)}):"region.list"===e?n.filter(i.isRegionOnX).attr("transform",h):n.attr("transform",h)})),n.call(d,function(){i.cleanUpFlow(t,e)})},cleanUpFlow:function(t,e){var n=this,i=n.config,r=n.state,a=n.$el.svg,o=i.axis_rotated,s=e.flow,c=e.shape,l=e.xv,u=c.pos,h=u.cx,d=u.cy,f=u.xForText,g=u.yForText,p=s.done,v=s.length;v&&(["circle","text","shape","eventRect"].forEach(function(t){for(var e=[],n=0;n<v;n++)e.push(".".concat(t5[t],"-").concat(n));a.selectAll(".".concat(t5["".concat(t,"s")])).selectAll(e).remove()}),a.select(".".concat(t5.xgrid)).remove()),Object.keys(t).forEach(function(e){var a=t[e];"axis.x"!==e&&a.attr("transform",null),"grid.x"===e?a.attr(r.xgridAttr):"gridLines.x"===e?(a.attr("x1",o?0:l).attr("x2",o?r.width:l),a.select("text").attr("x",o?r.width:0).attr("y",l)):/^(area|bar|line)$/.test(e)?a.attr("d",c.type[e]):"text"===e?a.attr("x",f).attr("y",g).style("fill-opacity",n.opacityForText.bind(n)):"circle"===e?n.isCirclePoint()?a.attr("cx",h).attr("cy",d):a.attr("x",function(t){return h(t)-i.point_r}).attr("y",function(t){return d(t)-i.point_r}):"region.list"===e&&a.select("rect").filter(n.isRegionOnX).attr("x",n.regionX.bind(n)).attr("width",n.regionWidth.bind(n))}),i.interaction_enabled&&n.redrawEventRect(),(void 0===p?function(){}:p).call(n.api),r.flowing=!1},getFlowTransform:function(t,e,n,i){var r,a=this.data,o=this.scale.x,s=a.targets[0].values,c=this.getValueOnIndex(s,n),l=this.getValueOnIndex(s,n+i),u=o.domain(),h=this.updateXDomain(t,!0,!0);e?r=1===e||(null==c?void 0:c.x)===(null==l?void 0:l.x)?o(u[0])-o(h[0]):this.axis.isTimeSeries()?o(u[0])-o(h[0]):o((null==c?void 0:c.x)||0)-o(l.x):1!==s.length?r=o(u[0])-o(h[0]):this.axis.isTimeSeries()?(c=this.getValueOnIndex(s,0),l=this.getValueOnIndex(s,s.length-1),r=o(c.x)-o(l.x)):r=to(h)/2;var d=to(u)/to(h);return"translate(".concat(r,",0) scale(").concat(d,",1)")}},{hasGrid:function(){var t=this.config;return["x","y"].some(function(e){return t["grid_".concat(e,"_show")]||t["grid_".concat(e,"_lines")].length})},initGrid:function(){this.hasGrid()&&this.initGridLines(),this.initFocusGrid()},initGridLines:function(){var t=this.config,e=this.state.clip,n=this.$el;(t.grid_x_lines.length||t.grid_y_lines.length)&&(n.gridLines.main=n.main.insert("g",".".concat(tz.chart).concat(t.grid_lines_front?" + *":"")).attr("clip-path",e.pathGrid).attr("class","".concat(tW.grid," ").concat(tW.gridLines)),n.gridLines.main.append("g").attr("class",tW.xgridLines),n.gridLines.main.append("g").attr("class",tW.ygridLines),n.gridLines.x=(0,h.Z)([]))},updateXGrid:function(t){var e=this.config,n=this.scale,i=this.state,r=this.$el,a=r.main,o=r.grid,s=e.axis_rotated,c=this.generateGridData(e.grid_x_type,n.x),u=this.axis.isCategorized()?this.axis.x.tickOffset():0,h=function(t){return(n.zoom||n.x)(t)+u*(s?-1:1)};i.xgridAttr=s?{x1:0,x2:i.width,y1:h,y2:h}:{x1:h,x2:h,y1:0,y2:i.height},o.x=a.select(".".concat(tW.xgrids)).selectAll(".".concat(tW.xgrid)).data(c),o.x.exit().remove(),o.x=o.x.enter().append("line").attr("class",tW.xgrid).merge(o.x),t||o.x.each(function(){var t=(0,l.Z)(this);Object.keys(i.xgridAttr).forEach(function(e){t.attr(e,i.xgridAttr[e]).style("opacity",function(){return t.attr(s?"y1":"x1")===(s?i.height:0)?"0":null})})})},updateYGrid:function(){var t=this.axis,e=this.config,n=this.scale,i=this.state,r=this.$el,a=r.grid,o=r.main,s=e.axis_rotated,c=function(t){return Math.ceil(n.y(t))},l=t.y.getGeneratedTicks(e.grid_y_ticks)||this.scale.y.ticks(e.grid_y_ticks);a.y=o.select(".".concat(tW.ygrids)).selectAll(".".concat(tW.ygrid)).data(l),a.y.exit().remove(),a.y=a.y.enter().append("line").attr("class",tW.ygrid).merge(a.y),a.y.attr("x1",s?c:0).attr("x2",s?c:i.width).attr("y1",s?0:c).attr("y2",s?i.height:c),eJ(a.y,"grid")},updateGrid:function(){var t=this.$el,e=t.grid;t.gridLines.main||this.initGridLines(),e.main.style("visibility",this.hasArcType()?"hidden":null),this.hideGridFocus(),this.updateGridLines("x"),this.updateGridLines("y")},updateGridLines:function(t){var e=this.config,n=this.$el,i=n.gridLines,r=n.main,a=this.$T,o=e.axis_rotated,s="x"===t;e["grid_".concat(t,"_show")]&&this["update".concat(t.toUpperCase(),"Grid")]();var c=r.select(".".concat(tW["".concat(t,"gridLines")])).selectAll(".".concat(tW["".concat(t,"gridLine")])).data(e["grid_".concat(t,"_lines")]);a(c.exit()).style("opacity","0").remove();var u=c.enter().append("g");u.append("line").style("opacity","0"),(c=u.merge(c)).each(function(t){var e=(0,l.Z)(this);e.select("text").empty()&&t.text&&e.append("text").style("opacity","0")}),a(c.attr("class",function(e){return"".concat(tW["".concat(t,"gridLine")]," ").concat(e.class||"").trim()}).select("text").attr("text-anchor",eG).attr("transform",function(){return s?o?null:"rotate(-90)":o?"rotate(-90)":null}).attr("dx",eW).attr("dy",-5)).text(function(t){var e;return null!==(e=t.text)&&void 0!==e?e:this.remove()}),i[t]=c},redrawGrid:function(t){var e=this.config.axis_rotated,n=this.state,i=n.width,r=n.height,a=this.$el.gridLines,o=this.$T,s=this.xv.bind(this),c=this.yv.bind(this),l=a.x.select("line"),u=a.x.select("text"),h=a.y.select("line"),d=a.y.select("text");return l=o(l,t).attr("x1",e?0:s).attr("x2",e?i:s).attr("y1",e?s:0).attr("y2",e?s:r),u=o(u,t).attr("x",eq(!e,i,r)).attr("y",s),h=o(h,t).attr("x1",e?c:0).attr("x2",e?c:i).attr("y1",e?0:c).attr("y2",e?r:c),d=o(d,t).attr("x",eq(e,i,r)).attr("y",c),[l.style("opacity",null),u.style("opacity",null),h.style("opacity",null),d.style("opacity",null)]},initFocusGrid:function(){var t=this.config,e=this.state.clip,n=this.$el,i=t.grid_front,r=".".concat(i&&n.gridLines.main?tW.gridLines:tz.chart).concat(i?" + *":""),a=n.main.insert("g",r).attr("clip-path",e.pathGrid).attr("class",tW.grid);n.grid.main=a,t.grid_x_show&&a.append("g").attr("class",tW.xgrids),t.grid_y_show&&a.append("g").attr("class",tW.ygrids),t.interaction_enabled&&t.grid_focus_show&&(a.append("g").attr("class",tG.xgridFocus).append("line").attr("class",tG.xgridFocus),t.grid_focus_y&&!t.tooltip_grouped&&a.append("g").attr("class",tG.ygridFocus).append("line").attr("class",tG.ygridFocus))},showGridFocus:function(t){var e,n=this,i=n.config,r=n.state,a=r.width,o=r.height,s=i.axis_rotated,c=n.$el.main.selectAll("line.".concat(tG.xgridFocus,", line.").concat(tG.ygridFocus)),u=(t||[c.datum()]).filter(function(t){return t&&K(n.getBaseValue(t))});if(!(!i.tooltip_show||0===u.length||n.hasType("bubble")||n.hasArcType())){var h=i.grid_focus_edge&&!i.tooltip_grouped,d=n.xx.bind(n);c.style("visibility",null).data(u.concat(u)).each(function(t){var e,i=(0,l.Z)(this),r={x:d(t),y:n.getYScaleById(t.id)(t.value)};if(i.classed(tG.xgridFocus))e=s?[null,r.x,h?r.y:a,r.x]:[r.x,h?r.y:null,r.x,o];else{var c="y2"===n.axis.getId(t.id);e=s?[r.y,h&&!c?r.x:null,r.y,h&&c?r.x:o]:[h&&c?r.x:null,r.y,h&&!c?r.x:a,r.y]}["x1","y1","x2","y2"].forEach(function(t,n){return i.attr(t,e[n])})}),eJ(c,"grid"),null===(e=n.showCircleFocus)||void 0===e||e.call(n,t)}},hideGridFocus:function(){var t,e=this.state,n=e.inputType,i=e.resizing,r=this.$el.main;"mouse"!==n&&i||(r.selectAll("line.".concat(tG.xgridFocus,", line.").concat(tG.ygridFocus)).style("visibility","hidden"),null===(t=this.hideCircleFocus)||void 0===t||t.call(this))},updateGridFocus:function(){var t,e=this.state,n=e.inputType,i=e.width,r=e.height,a=e.resizing,o=this.$el.grid.main.select("line.".concat(tG.xgridFocus));if("touch"===n)o.empty()?a&&(null===(t=this.showCircleFocus)||void 0===t||t.call(this)):this.showGridFocus();else{var s=this.config.axis_rotated;o.attr("x1",s?0:-10).attr("x2",s?i:-10).attr("y1",s?-10:0).attr("y2",s?-10:r)}return!0},generateGridData:function(t,e){var n=this.$el.main.select(".".concat(t$.axisX)).selectAll(".tick").size(),i=[];if("year"===t)for(var r=this.getXDomain().map(function(t){return t.getFullYear()}),a=r[0],o=r[1],s=a;s<=o;s++)i.push(new Date("".concat(s,"-01-01 00:00:00")));else(i=e.ticks(10)).length>n&&(i=i.filter(function(t){return 0>String(t).indexOf(".")}));return i},getGridFilterToRemove:function(t){return t?function(e){var n=!1;return(tu(t)?t.concat():[t]).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},removeGridLines:function(t,e){var n=this.config,i=this.$T,r=this.getGridFilterToRemove(t),a=e?tW.xgridLines:tW.ygridLines,o=e?tW.xgridLine:tW.ygridLine;i(this.$el.main.select(".".concat(a)).selectAll(".".concat(o)).filter(r)).style("opacity","0").remove();var s="grid_".concat(e?"x":"y","_lines");n[s]=n[s].filter(function(t){return!r(t)})}},{initRegion:function(){var t=this.$el;t.region.main=t.main.insert("g",":first-child").attr("clip-path",this.state.clip.path).attr("class",tq.regions)},updateRegion:function(){var t=this.config,e=this.$el.region,n=this.$T;e.main||this.initRegion(),e.main.style("visibility",this.hasArcType()?"hidden":null);var i=e.main.selectAll(".".concat(tq.region)).data(t.regions);n(i.exit()).style("opacity","0").remove();var r=i.enter().append("g");r.append("rect").style("fill-opacity","0"),e.list=r.merge(i).attr("class",this.classRegion.bind(this)),e.list.each(function(t){var e;(0,l.Z)(this).select("text").empty()&&(null===(e=t.label)||void 0===e?void 0:e.text)&&(0,l.Z)(this).append("text").style("opacity","0")})},redrawRegion:function(t){var e=this,n=e.$el.region,i=e.$T,r=n.list.select("rect"),a=n.list.selectAll("text");return r=i(r,t).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)),a=i(a,t).attr("transform",function(t){var n,i=null!==(n=t.label)&&void 0!==n?n:{},r=i.x,a=i.y,o=i.rotated;return"translate(".concat(e.regionX.bind(e)(t)+(void 0===r?0:r),", ").concat(e.regionY.bind(e)(t)+(void 0===a?0:a),")").concat(void 0!==o&&o?" rotate(-90)":"")}).attr("text-anchor",function(t){var e;return(null===(e=t.label)||void 0===e?void 0:e.rotated)?"end":null}).attr("dy","1em").style("fill",function(t){var e,n;return null!==(n=null===(e=t.label)||void 0===e?void 0:e.color)&&void 0!==n?n:null}).text(function(t){var e;return null===(e=t.label)||void 0===e?void 0:e.text}),[r.style("fill-opacity",function(t){return K(t.opacity)?t.opacity:null}).on("end",function(){(0,l.Z)(this.parentNode).selectAll("rect:not([x])").remove()}),a.style("opacity",null)]},getRegionXY:function(t,e){var n=this.config,i=this.scale,r=n.axis_rotated,a="x"===t,o="start",s=0;return"y"===e.axis||"y2"===e.axis?(a||(o="end"),(a?r:!r)&&o in e&&(s=(0,i[e.axis])(e[o]))):(a?!r:r)&&o in e&&(s=(i.zoom||i.x)(this.axis.isTimeSeries()?tD.call(this,e[o]):e[o])),s},regionX:function(t){return this.getRegionXY("x",t)},regionY:function(t){return this.getRegionXY("y",t)},getRegionSize:function(t,e){var n=this.config,i=this.scale,r=this.state,a=n.axis_rotated,o="width"===t,s=this[o?"regionX":"regionY"](e),c="end",l=r[t];return"y"===e.axis||"y2"===e.axis?(o||(c="start"),(o?a:!a)&&c in e&&(l=(0,i[e.axis])(e[c]))):(o?!a:a)&&c in e&&(l=(i.zoom||i.x)(this.axis.isTimeSeries()?tD.call(this,e[c]):e[c])),l<s?0:l-s},regionWidth:function(t){return this.getRegionSize("width",t)},regionHeight:function(t){return this.getRegionSize("height",t)},isRegionOnX:function(t){return!t.axis||"x"===t.axis}},{getAxisSize:function(t){var e=this.config.axis_rotated;return e&&"x"===t||!e&&/y2?/.test(t)?this.getAxisWidthByAxisId(t,!0):this.getHorizontalAxisHeight(t)},getAxisWidthByAxisId:function(t,e){if(!this.axis)return 40;var n,i,r=null===(n=this.axis)||void 0===n?void 0:n.getLabelPositionById(t),a=this.axis.getMaxTickSize(t,e).width,o=0===a?.5:0;return a+((null===(i=this.config.padding)||void 0===i?void 0:i.mode)==="fit"?r.isInner?10+o:10:r.isInner?20+o:40)},getHorizontalAxisHeight:function(t){var e,n,i=this.config,r=this.state,a=r.rotatedPadding,o=r.isLegendRight,s=r.isLegendInset,c=i.axis_rotated,l=(null===(e=i.padding)||void 0===e?void 0:e.mode)==="fit",u=i["axis_".concat(t,"_inner")],h=i["axis_".concat(t,"_label")].text,d=(null===(n=i.padding)||void 0===n?void 0:n.mode)==="fit"?u&&!h?"y"===t?1:0:20:30;if("x"===t&&!i.axis_x_show)return 8;if("x"===t&&te(i.axis_x_height))return i.axis_x_height;if("y"===t&&!i.axis_y_show)return!i.legend_show||o||s?1:10;if("y2"===t&&!i.axis_y2_show)return l?0:a.top;var f=this.axis.getMaxTickSize(t);return f.height>13&&(d+=f.height-13),d+(this.axis.getLabelPositionById(t).isInner?0:10)+("y2"!==t||c?0:-10)},getEventRectWidth:function(){var t=this.config,e=this.axis,n=t.axis_x_inverted,i=e.x.tickInterval();return Math.max(0,n?Math.abs(i):i)},getAxisTickRotate:function(t){var e=this.axis,n=this.config,i=this.state,r=this.$el,a=n["axis_".concat(t,"_tick_rotate")];if("x"===t){var o=e.isCategorized()||e.isTimeSeries();if(n.axis_x_tick_fit&&o){var s=n.axis_x_tick_count,c=i.current.maxTickSize.x.ticks.length,l=0;if(s?l=s>c?c:s:c&&(l=c),l!==i.axis.x.tickCount){var u=this.data.targets;i.axis.x.padding=this.getXDomainPadding([this.getXDomainMinMax(u,"min"),this.getXDomainMinMax(u,"max")],l)}i.axis.x.tickCount=l}r.svg&&n.axis_x_tick_autorotate&&n.axis_x_tick_fit&&!n.axis_x_tick_multiline&&!n.axis_x_tick_culling&&o&&(a=this.needToRotateXAxisTickTexts()?n.axis_x_tick_rotate:0)}return a},needToRotateXAxisTickTexts:function(){var t=this.state,e=t.axis,n=t.current.width-this.getCurrentPaddingByDirection("left")-this.getCurrentPaddingByDirection("right"),i=e.x.tickCount+e.x.padding.left+e.x.padding.right;return this.axis.getMaxTickSize("x").width>(i?n/i:0)}}],e1=[{data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_axes:{},data_regions:{},data_stack_normalize:!1},eK,{grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:void 0,grid_focus_edge:!1,grid_focus_show:!0,grid_focus_y:!1,grid_front:!1,grid_lines_front:!0}],e2={initLine:function(){var t=this.$el;t.line=t.main.select(".".concat(tz.chart)).append("g").attr("class",tH.chartLines).call(this.setCssRule(!1,".".concat(tH.chartLines),["pointer-events:none"]))},updateTargetsForLine:function(t){var e=this,n=e.$el,i=n.area,r=n.line,a=n.main,o=e.getChartClass("Line"),s=e.getClass("lines",!0),c=e.classFocus.bind(e);r||e.initLine();var l=t.filter(function(t){return!(e.isScatterType(t)||e.isBubbleType(t))}),u=a.select(".".concat(tH.chartLines)).selectAll(".".concat(tH.chartLine)).data(l).attr("class",function(t){return o(t)+c(t)}),h=u.enter().append("g").attr("class",o).style("opacity","0").style("pointer-events",e.getStylePropValue("none"));if(h.append("g").attr("class",s),e.hasTypeOf("Area")){var d=(!i&&h.empty()?u:h).filter(e.isAreaType.bind(e));e.initArea(d)}e.updateTargetForCircle(l,h)},updateLine:function(t,e){void 0===e&&(e=!1);var n=this,i=n.format.extraLineClasses,r=n.$el,a=n.$T,o=e?r.subchart:r,s=o.main.selectAll(".".concat(tH.lines)).selectAll(".".concat(tH.line)).data(n.lineData.bind(n));a(s.exit(),t).style("opacity","0").remove(),o.line=s.enter().append("path").attr("class",function(t){return"".concat(n.getClass("line",!0)(t)," ").concat(i(t)||"")}).style("stroke",n.color).merge(s).style("opacity",n.initialOpacity.bind(n)).attr("transform",null)},redrawLine:function(t,e,n){void 0===n&&(n=!1);var i=this.$el;return[(0,this.$T)((n?i.subchart:i).line,e,tb()).attr("d",t).style("stroke",this.color).style("opacity",null)]},getCurve:function(t){var e=this;return e.config.axis_rotated&&e.isStepType(t)?function(n){var i=e.getInterpolate(t)(n);return i.orgPoint=i.point,i.pointRotated=function(t,e){1===this._point&&(this._point=2);var n=this._y*(1-this._t)+e*this._t;this._context.lineTo(this._x,n),this._context.lineTo(t,n),this._x=t,this._y=e},i.point=function(t,e){0===this._point?this.orgPoint(t,e):this.pointRotated(t,e)},i}:e.getInterpolate(t)},generateDrawLine:function(t,e){var n=this,i=n.config,r=n.scale,a=i.line_connectNull,o=i.axis_rotated,s=n.generateGetLinePoints(t,e),c=n.getYScaleById.bind(n),l=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,i){return n.isGrouped(t.id)?s(t,i)[0][1]:c(t.id,e)(n.getBaseValue(t))},h=(0,$.Z)();h=o?h.x(u).y(l):h.x(l).y(u),a||(h=h.defined(function(t){return null!==n.getBaseValue(t)}));var d=e?r.subX:r.x;return function(t){var s,l=c(t.id,e),u=a?n.filterRemoveNull(t.values):t.values,f=0,g=0;if(n.isLineType(t)){var p=i.data_regions[t.id];p?s=n.lineWithRegions(u,r.zoom||d,l,p):(n.isStepType(t)&&(u=n.convertValuesToStep(u)),s=h.curve(n.getCurve(t))(u))}else u[0]&&(f=d(u[0].x),g=l(u[0].value)),s=o?"M ".concat(g," ").concat(f):"M ".concat(f," ").concat(g);return s||"M 0 0"}},lineWithRegions:function(t,e,n,i){var r,a,o,s,c=this,l=c.config.axis_rotated,u=c.axis.isTimeSeries(),h=[];if(ti(i))for(var d=function(t,e){return tn(t)?e:u?tD.call(c,t):t},f=0,g=void 0;g=i[f];f++){var p=d(g.start,t[0].x),v=d(g.end,t[t.length-1].x),_=g.style||{dasharray:"2 2"};h[f]={start:p,end:v,style:_}}for(var x=l?function(t){return n(t.value)}:function(t){return e(t.x)},y=l?function(t){return e(t.x)}:function(t){return n(t.value)},m=function(t){return"M".concat(t[0][0],",").concat(t[0][1],"L").concat(t[1][0],",").concat(t[1][1])},b=u?function(t,i,r,s){var c=t.x.getTime(),u=i.x-t.x,h=new Date(c+u*r),d=new Date(c+u*(r+s));return m(l?[[n(a(r)),e(h)],[n(a(r+o)),e(d)]]:[[e(h),n(a(r))],[e(d),n(a(r+o))]])}:function(t,i,o,s){return m(l?[[n(a(o),!0),e(r(o))],[n(a(o+s),!0),e(r(o+s))]]:[[e(r(o),!0),n(a(o))],[e(r(o+s),!0),n(a(o+s))]])},T={x:c.axis.getAxisType("x"),y:c.axis.getAxisType("y")},w="",f=0,k=void 0;k=t[f];f++){var A=t[f-1],Z=A&&K(A.value),_=c.isWithinRegions(k.x,h);if(K(k.value)){if(!tn(h)&&_&&Z){if(Z){try{_=_.dasharray.split(" ")}catch(t){_="2 2".split(" ")}r=eA(T.x,A.x,k.x),a=eA(T.y,A.value,k.value);var S=Math.sqrt(Math.pow(e(k.x)-e(A.x),2)+Math.pow(n(k.value)-n(A.value),2));s=(o=_[0]/S)*_[1];for(var C=o;C<=1;C+=s)w+=b(A,k,C,o),C+s>=1&&(w+=b(A,k,1,0))}}else w+="".concat(f&&Z?"L":"M").concat(x(k),",").concat(y(k))}}return w},isWithinRegions:function(t,e){for(var n=0,i=void 0;i=e[n];n++)if(i.start<t&&t<=i.end)return i.style;return!1},isWithinStep:function(t,e){return 30>Math.abs(e-tx(this.state.event,t)[1])},shouldDrawPointsForLine:function(t){var e=this.config.line_point;return!0===e||tu(e)&&-1!==e.indexOf(t.id)}},e3=function(){return tb()},e5={hasValidPointType:function(t){return/^(circle|rect(angle)?|polygon|ellipse|use)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function(t){var e=t||this.config.point_type;return ts(e)&&Q(e.create)&&Q(e.update)},initialOpacityForCircle:function(t){var e=this.config,n=this.state.withoutFadeIn,i=e.point_opacity;return tn(i)&&(i=null!==this.getBaseValue(t)&&n[t.id]?this.opacityForCircle(t):"0"),i},opacityForCircle:function(t){var e,n=this.config,i=n.point_opacity;return tn(i)&&(i=!n.point_show||(null===(e=this.isPointFocusOnly)||void 0===e?void 0:e.call(this))?"0":null,i=K(this.getBaseValue(t))?this.isBubbleType(t)||this.isScatterType(t)?"0.5":i:"0"),i},initCircle:function(){var t=this.$el.main;this.point=this.generatePoint(),(this.hasType("bubble")||this.hasType("scatter"))&&t.select(".".concat(tF.chartCircles)).empty()&&t.select(".".concat(tz.chart)).append("g").attr("class",tF.chartCircles)},updateTargetForCircle:function(t,e){var n=this,i=this,r=i.config,a=i.data,o=i.$el,s=r.interaction_enabled&&r.data_selection_enabled,c=s&&r.data_selection_isselectable,u=i.getClass("circles",!0);if(r.point_show){o.circle||i.initCircle();var h=t,d=e;if(!h){h=a.targets.filter(function(t){return n.isScatterType(t)||n.isBubbleType(t)});var f=o.main.select(".".concat(tF.chartCircles)).style("pointer-events","none").selectAll(".".concat(tF.circles)).data(h);f.exit().remove(),d=f.enter()}s&&d.append("g").attr("class",function(t){return i.generateClass(tJ.selectedCircles,t.id)}),d.append("g").attr("class",u).call(function(t){i.setCssRule(!0,".".concat(tF.circles),["cursor:pointer"],c)(t),i.setCssRule(!0," .".concat(tF.circle),["fill","stroke"],i.color)(t)}).style("opacity",function(){return(0,l.Z)(this.parentNode).attr("class").indexOf(tF.chartCircles)>-1?"0":null}),s&&h.forEach(function(t){o.main.selectAll(".".concat(tJ.selectedCircles).concat(i.getTargetSelectorSuffix(t.id))).selectAll("".concat(tJ.selectedCircle)).each(function(e){e.value=t.values[e.index].value})})}},updateCircle:function(t){void 0===t&&(t=!1);var e=this,n=e.config,i=e.state,r=e.$el,a=e.isPointFocusOnly(),o=t?r.subchart:r;if(n.point_show&&!i.toggling){n.point_radialGradient&&e.updateLinearGradient();var s=o.main.selectAll(".".concat(tF.circles)).selectAll(".".concat(tF.circle)).data(function(t){return e.isLineType(t)&&e.shouldDrawPointsForLine(t)||e.isBubbleType(t)||e.isRadarType(t)||e.isScatterType(t)?a?[t.values[0]]:t.values:[]});s.exit().remove(),s.enter().filter(Boolean).append(e.point("create",this,e.pointR.bind(e),e.updateCircleColor.bind(e))),o.circle=o.main.selectAll(".".concat(tF.circles," .").concat(tF.circle)).style("stroke",e.getStylePropValue(e.color)).style("opacity",e.initialOpacityForCircle.bind(e))}},updateCircleColor:function(t){var e=this.getStylePropValue(this.color);return this.config.point_radialGradient?this.getGradienColortUrl(t.id):e?e(t):null},redrawCircle:function(t,e,n,i,r){void 0===r&&(r=!1);var a=this.state.rendered,o=this.$el,s=this.$T,c=r?o.subchart:o,l=c.main.selectAll(".".concat(tJ.selectedCircle));if(!this.config.point_show)return[];var u=this.point("update",this,t,e,this.updateCircleColor.bind(this),n,i,l),h=this.isCirclePoint()?"c":"",d=tb(),f=this.opacityForCircle.bind(this),g=[];return c.circle.each(function(t){var e=u.bind(this)(t);e=s(e,n||!a,d).style("opacity",f),g.push(e)}),[g,s(l,n).attr("".concat(h,"x"),t).attr("".concat(h,"y"),e)]},showCircleFocus:function(t){var e=this,n=e.state,i=n.hasRadar,r=n.resizing,a=n.toggling,o=n.transiting,s=e.$el.circle;if(!1===o&&s&&e.isPointFocusOnly()){var c=(i?e.radarCircleX:e.circleX).bind(e),u=(i?e.radarCircleY:e.circleY).bind(e),h=a||tn(t),d=e.point("update",e,c,u,e.getStylePropValue(e.color),!r&&h);t&&(s=s.filter(function(e){var n,i=null===(n=t.filter)||void 0===n?void 0:n.call(t,function(t){return t.id===e.id});return!!i.length&&(0,l.Z)(this).datum(i[0])})),s.attr("class",this.updatePointClass.bind(this)).style("opacity",null).each(function(t){var n=t.id,i=t.index,r=t.value,a="hidden";K(r)&&(d.bind(this)(t),e.expandCircles(i,n),a=""),this.style.visibility=a})}},hideCircleFocus:function(){var t=this.$el.circle;this.isPointFocusOnly()&&t&&(this.unexpandCircles(),t.style("visibility","hidden"))},circleX:function(t){return this.xx(t)},updateCircleY:function(t){void 0===t&&(t=!1);var e=this,n=e.generateGetLinePoints(e.getShapeIndices(e.isLineType),t);return function(i,r){var a=i.id;return e.isGrouped(a)?n(i,r)[0][1]:e.getYScaleById(a,t)(e.getBaseValue(i))}},expandCircles:function(t,e,n){var i=this.pointExpandedR.bind(this);n&&this.unexpandCircles();var r=this.getShapeByIndex("circle",t,e).classed(tz.EXPANDED,!0),a=i(r)/this.config.point_r,o=1-a;this.isCirclePoint()?r.attr("r",i):r.each(function(){var t=(0,l.Z)(this);if("circle"===this.tagName)t.attr("r",i);else{var e=this.getBBox(),n=e.width,r=e.height,s=o*(+t.attr("x")+n/2),c=o*(+t.attr("y")+r/2);t.attr("transform","translate(".concat(s," ").concat(c,") scale(").concat(a,")"))}})},unexpandCircles:function(t){var e=this.pointR.bind(this),n=this.getShapeByIndex("circle",t).filter(function(){return(0,l.Z)(this).classed(tz.EXPANDED)}).classed(tz.EXPANDED,!1);if(n.attr("r",e),!this.isCirclePoint()){var i=e(n)/this.config.point_r;n.attr("transform",1!==i?"scale(".concat(i,")"):null)}},pointR:function(t){var e=this.config.point_r,n=e;return this.isBubbleType(t)?n=this.getBubbleR(t):Q(e)&&(n=e.bind(this.api)(t)),t.r=n,n},pointExpandedR:function(t){var e=this.config,n=this.isBubbleType(t)?1.15:1.75;return e.point_focus_expand_enabled?e.point_focus_expand_r||this.pointR(t)*n:this.pointR(t)},pointSelectR:function(t){var e=this.config.point_select_r;return Q(e)?e(t):e||4*this.pointR(t)},isPointFocusOnly:function(){return this.config.point_focus_only&&!this.hasType("bubble")&&!this.hasType("scatter")&&!this.hasArcType(null,["radar"])},isWithinCircle:function(t,e){var n=this.config,i=tx(this.state.event,t),r=(0,l.Z)(t),a=this.isCirclePoint(t)?"c":"",o="radius"===n.point_sensitivity?t.getAttribute("r"):n.point_sensitivity,s=+r.attr("".concat(a,"x")),c=+r.attr("".concat(a,"y"));if(!(s||c)&&1===t.nodeType){var u=tm(t),h=u.x,d=u.y;s=h,c=d}return Math.sqrt(Math.pow(s-i[0],2)+Math.pow(c-i[1],2))<(e||o)},getPointSensitivity:function(t){var e=this.config.point_sensitivity;return Q(e)?e=e.call(this.api,t):"radius"===e&&(e=t.r),e},insertPointInfoDefs:function(t,e){var n,i=function(t,e){for(var n,i=t.attributes,r=0;n=i[r];r++)n=n.name,e.setAttribute(n,t.getAttribute(n))},r=new DOMParser().parseFromString(t,"image/svg+xml").documentElement,a=Y.createElementNS(u.Z.svg,r.nodeName.toLowerCase());if(a.id=e,a.style.fill="inherit",a.style.stroke="inherit",i(r,a),null===(n=r.childNodes)||void 0===n?void 0:n.length){var o=(0,l.Z)(a);"innerHTML"in a?o.html(r.innerHTML):tk(r.childNodes).forEach(function(t){i(t,o.append(t.tagName).node())})}this.$el.defs.node().appendChild(a)},pointFromDefs:function(t){return this.$el.defs.select("#".concat(t))},updatePointClass:function(t){var e=this,n=e.$el.circle,i=!1;return(th(t)||n)&&(i=!0===t?n.each(function(t){var n=e.getClass("circle",!0)(t);this.getAttribute("class").indexOf(tz.EXPANDED)>-1&&(n+=" ".concat(tz.EXPANDED)),this.setAttribute("class",n)}):e.getClass("circle",!0)(t)),i},generateGetLinePoints:function(t,e){var n=this,i=n.config,r=n.getShapeX(0,t,e),a=n.getShapeY(e),o=n.getShapeOffset(n.isLineType,t,e),s=n.getYScaleById.bind(n);return function(t,c){var l=s.call(n,t.id,e)(n.getShapeYMin(t.id)),u=o(t,c)||l,h=r(t),d=a(t);i.axis_rotated&&(t.value>0&&d<l||t.value<0&&l<d)&&(d=l);var f=[h,d-(l-u)];return[f,f,f,f]}},generatePoint:function(){var t=this,e=t.config,n=t.state.datetimeId,i=[],r=tl(e.point_pattern)?e.point_pattern:[e.point_type];return function(e,a){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];return function(s){var c,u=t.getTargetSelectorSuffix(s.id||(null===(c=s.data)||void 0===c?void 0:c.id)||s),h=(0,l.Z)(this);0>i.indexOf(u)&&i.push(u);var d=r[i.indexOf(u)%r.length];if(t.hasValidPointType(d))d=t[d];else if(!t.hasValidPointDrawMethods(d)){var f="".concat(n,"-point").concat(u);if(1>t.pointFromDefs(f).size()&&t.insertPointInfoDefs(d,f),"create"===e)return t.custom.create.bind(a).apply(void 0,J([h,f],o,!1));if("update"===e)return t.custom.update.bind(a).apply(void 0,J([h],o,!1))}return d[e].bind(a).apply(void 0,J([h],o,!1))}}},custom:{create:function(t,e,n){return t.append("use").attr("xlink:href","#".concat(e)).attr("class",this.updatePointClass.bind(this)).style("fill",n).node()},update:function(t,e,n,i,r,a,o){var s=t.node().getBBox(),c=s.width,l=s.height,u=function(t){return K(t.value)?e(t)-c/2:0},h=t;return r&&(a&&h.attr("x",u),h=this.$T(h,r,e3()),o&&this.$T(o,r,e3())),h.attr("x",u).attr("y",function(t){return K(t.value)?n(t)-l/2:0}).style("fill",i)}},circle:{create:function(t,e,n){return t.append("circle").attr("class",this.updatePointClass.bind(this)).attr("r",e).style("fill",n).node()},update:function(t,e,n,i,r,a,o){var s=t;return this.hasType("bubble")&&s.attr("r",this.pointR.bind(this)),r&&(a&&s.attr("cx",e),s.attr("cx")&&(s=this.$T(s,r,e3())),o&&this.$T(s,r,e3())),s.attr("cx",e).attr("cy",n).style("fill",i)}},rectangle:{create:function(t,e,n){var i=function(t){return 2*e(t)};return t.append("rect").attr("class",this.updatePointClass.bind(this)).attr("width",i).attr("height",i).style("fill",n).node()},update:function(t,e,n,i,r,a,o){var s=this.config.point_r,c=function(t){return e(t)-s},l=t;return r&&(a&&l.attr("x",c),l=this.$T(l,r,e3()),o&&this.$T(o,r,e3())),l.attr("x",c).attr("y",function(t){return n(t)-s}).style("fill",i)}}};eo.radarPoints;var e4={point_show:!0,point_r:2.5,point_radialGradient:!1,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_focus_only:!1,point_opacity:void 0,point_pattern:[],point_select_r:void 0,point_type:"circle"},e7={line_connectNull:!1,line_step_type:"step",line_step_tooltipMatch:!1,line_zerobased:!1,line_classes:void 0,line_point:!0},e8={spline_interpolation_type:"cardinal"},e6=function(){var t;return t=[e5,e2].concat([]),tT(eM.prototype,e0.concat(t)),tT(ez.prototype,eQ),ea.setOptions(e1.concat([])),ea.setOptions([e4,e7].concat([e8])),(e6=function(){return j.SPLINE})()};function e9(t,e,n,i){void 0===t&&(t=!1);var r=this,a=r.config,o=r.$el.main,s=a.data_selection_grouped,c=a.data_selection_isselectable.bind(r.api);a.data_selection_enabled&&o.selectAll(".".concat(tK.shapes)).selectAll(".".concat(tK.shape)).each(function(a){var o=(0,l.Z)(this),u=a.data?a.data:a,h=u.id,d=u.index,f=r.getToggle(this,a).bind(r),g=s||!e||e.indexOf(h)>=0,p=!n||n.indexOf(d)>=0,v=o.classed(tJ.SELECTED);!(o.classed(tH.line)||o.classed(tO.area))&&(t?g&&p&&c(a)&&!v?f(!0,o.classed(tJ.SELECTED,!0),a,d):ti(i)&&i&&v&&f(!1,o.classed(tJ.SELECTED,!1),a,d):g&&p&&c(a)&&v&&f(!1,o.classed(tJ.SELECTED,!1),a,d))})}var nt={selected:function(t){var e=this.internal,n=[];return e.$el.main.selectAll(".".concat(tK.shapes+e.getTargetSelectorSuffix(t))).selectAll(".".concat(tK.shape)).filter(function(){return(0,l.Z)(this).classed(tJ.SELECTED)}).each(function(t){return n.push(t)}),n},select:function(t,e,n){var i=this.internal;e9.bind(i)(!0,t,e,n)},unselect:function(t,e){var n=this.internal;e9.bind(n)(!1,t,e)}};tT(function(t){var e,n,i=this.internal,r=i.axis,a=i.brush,o=i.config,s=i.scale,c=s.x,l=s.subX,u=i.state;return o.subchart_show&&(Array.isArray(n=t)?(r.isTimeSeries()&&(n=n.map(function(t){return tD.bind(i)(t)})),i.withinRange(n,i.getZoomDomain("subX",!0),i.getZoomDomain("subX"))&&(u.domain=n,a.move(a.getSelection(),n.map(l)))):n=null!==(e=u.domain)&&void 0!==e?e:c.orgDomain()),n},{show:function(){var t,e,n=this.internal,i=n.$el.subchart,r=n.config,a=r.subchart_show;if(!a){n.unbindZoomEvent(),r.subchart_show=!a,i.main||n.initSubchart();var o=i.main.selectAll(".".concat(tz.target));n.data.targets.length!==o.size()&&(n.updateSizes(),n.updateTargetsForSubchart(n.data.targets),o=null===(t=i.main)||void 0===t?void 0:t.selectAll(".".concat(tz.target))),null==o||o.style("opacity",null),null===(e=i.main)||void 0===e||e.style("display",null),this.resize()}},hide:function(){var t=this.internal,e=t.$el.subchart.main,n=t.config;n.subchart_show&&(null==e?void 0:e.style("display"))!=="none"&&(n.subchart_show=!1,e.style("display","none"),this.resize())},toggle:function(){var t=this.internal.config;this.subchart[t.subchart_show?"hide":"show"]()},reset:function(){var t=this.internal.brush;t.clear(t.getSelection())}});var ne=function(t){var e,n,i,r=this.internal,a=r.$el,o=r.axis,s=r.config,c=r.org,l=r.scale,u=r.state,h=s.axis_rotated,d=o.isCategorized();if(s.zoom_enabled){if(Array.isArray(i=t)){if(o.isTimeSeries()&&(i=i.map(function(t){return tD.bind(r)(t)})),r.withinRange(i,r.getZoomDomain("zoom",!0),r.getZoomDomain("zoom"))){if(u.domain=i,d&&(i=i.map(function(t,e){return Number(t)+(0===e?0:1)})),r.api.tooltip.hide(),s.subchart_show){var f=l.zoom||l.x;r.brush.getSelection().call(r.brush.move,i.map(f))}else{var f=d?l.x.orgScale():c.xScale||l.x,g=[-f(i[0]),0],p=(e=F.CR.scale(f.range()[1]/(f(i[1])-f(i[0])))).translate.apply(e,h?g.reverse():g);a.eventRect.call(r.zoom.transform,p)}r.setZoomResetButton()}}else i=r.zoom.getDomain()}return null!==(n=u.domain)&&void 0!==n?n:i};tT(ne,{enable:function(t){var e=this.internal,n=e.config;/^(drag|wheel)$/.test(t)&&(n.zoom_type=t),n.zoom_enabled=!!t,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.bindZoomEvent()),e.updateAndRedraw()},max:function(t){var e=this.internal,n=e.config,i=e.org.xDomain;return(0===t||t)&&(n.zoom_x_max=tM("max",[i[1],t])),n.zoom_x_max},min:function(t){var e=this.internal,n=e.config,i=e.org.xDomain;return(0===t||t)&&(n.zoom_x_min=tM("min",[i[0],t])),n.zoom_x_min},range:function(t){var e=this.zoom;if(th(t)){var n=t.min,i=t.max;ti(n)&&e.min(n),ti(i)&&e.max(i)}return{min:e.min(),max:e.max()}}});var nn={zoom:ne,unzoom:function(){var t=this.internal,e=t.config,n=t.$el,i=n.eventRect,r=n.zoomResetBtn,a=t.state;t.scale.zoom&&(e.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(F.CR),t.updateZoom(!0),null==r||r.style("display","none"),(0,F.P2)(i.node())!==F.CR&&t.zoom.transform(i,F.CR),a.domain=void 0)}},ni=q(q({},{drag:function(t){var e=this,n=e.config,i=e.state,r=e.$el.main,a=n.data_selection_grouped,o=n.interaction_enabled&&n.data_selection_isselectable;if(!e.hasArcType()&&n.data_selection_enabled&&(!n.zoom_enabled||e.zoom.altDomain)&&n.data_selection_multiple){var s=i.dragStart||[0,0],c=s[0],u=s[1],h=t[0],d=t[1],f=Math.min(c,h),g=Math.max(c,h),p=a?i.margin.top:Math.min(u,d),v=a?i.height:Math.max(u,d);r.select(".".concat(tY.dragarea)).attr("x",f).attr("y",p).attr("width",g-f).attr("height",v-p),r.selectAll(".".concat(tK.shapes)).selectAll(".".concat(tK.shape)).filter(function(t){return null==o?void 0:o.bind(e.api)(t)}).each(function(t,n){var i,r=(0,l.Z)(this),a=r.classed(tJ.SELECTED),o=r.classed(tY.INCLUDED),s=!1;if(r.classed(tF.circle)){var c=1*+r.attr("cx"),u=1*+r.attr("cy");i=e.togglePoint,s=f<c&&c<g&&p<u&&u<v}else{if(!r.classed(tX.bar))return;var h,d,_,x,y=(d=(h=this.getBoundingClientRect()).width,_=h.height,{x:(x=t_(this))[0].x,y:Math.min(x[0].y,x[1].y),width:d,height:_}),c=y.x,u=y.y,m=y.width,b=y.height;i=e.togglePath,s=!(g<c||c+m<f)&&!(v<u||u+b<p)}s^o&&(r.classed(tY.INCLUDED,!o),r.classed(tJ.SELECTED,!a),i.call(e,!a,r,t,n))})}},dragstart:function(t){var e=this.config,n=this.state,i=this.$el.main;!this.hasArcType()&&e.data_selection_enabled&&(n.dragStart=t,i.select(".".concat(tz.chart)).append("rect").attr("class",tY.dragarea).style("opacity","0.1"),this.setDragStatus(!0))},dragend:function(){var t=this.config,e=this.$el.main,n=this.$T;!this.hasArcType()&&t.data_selection_enabled&&(n(e.select(".".concat(tY.dragarea))).style("opacity","0").remove(),e.selectAll(".".concat(tK.shape)).classed(tY.INCLUDED,!1),this.setDragStatus(!1))}}),{selectPoint:function(t,e,n){var i=this,r=i.config,a=i.$el.main,o=i.$T,s=r.axis_rotated,c=(s?i.circleY:i.circleX).bind(i),l=(s?i.circleX:i.circleY).bind(i),u=i.pointSelectR.bind(i);tf(r.data_onselected,i.api,e,t.node()),o(a.select(".".concat(tJ.selectedCircles).concat(i.getTargetSelectorSuffix(e.id))).selectAll(".".concat(tJ.selectedCircle,"-").concat(n)).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(tJ.selectedCircle,n)}).attr("cx",c).attr("cy",l).attr("stroke",i.color).attr("r",function(t){return 1.4*i.pointSelectR(t)})).attr("r",u)},unselectPoint:function(t,e,n){var i=this.config,r=this.$el.main,a=this.$T;tf(i.data_onunselected,this.api,e,null==t?void 0:t.node()),a(r.select(".".concat(tJ.selectedCircles).concat(this.getTargetSelectorSuffix(e.id))).selectAll(".".concat(tJ.selectedCircle,"-").concat(n))).attr("r",0).remove()},togglePoint:function(t,e,n,i){this["".concat(t?"":"un","selectPoint")](e,n,i)},selectPath:function(t,e){var n=this.config;tf(n.data_onselected,this.api,e,t.node()),n.interaction_brighten&&t.style("filter","brightness(1.25)")},unselectPath:function(t,e){var n=this.config;tf(n.data_onunselected,this.api,e,t.node()),n.interaction_brighten&&t.style("filter",null)},togglePath:function(t,e,n,i){this["".concat(t?"":"un","selectPath")](e,n,i)},getToggle:function(t,e){return"path"===t.nodeName?this.togglePath:this.isStepType(e)?function(){}:this.togglePoint},toggleShape:function(t,e,n){var i=this.config,r=this.$el.main;if(i.data_selection_enabled&&i.data_selection_isselectable.bind(this.api)(e)){var a,o,s=(0,l.Z)(t),c=s.classed(tJ.SELECTED),u=this.getToggle(t,e).bind(this);if(!i.data_selection_multiple){var h=null===(a=this.isPointFocusOnly)||void 0===a?void 0:a.call(this),d=".".concat(h?tJ.selectedCircles:tK.shapes);i.data_selection_grouped&&(d+=this.getTargetSelectorSuffix(e.id)),r.selectAll(d).selectAll(h?".".concat(tJ.selectedCircle):".".concat(tK.shape,".").concat(tJ.SELECTED)).classed(tJ.SELECTED,!1).each(function(t){var e=(0,l.Z)(this);o=e,u(!1,e,t,t.index)})}o&&o.node()===s.node()||(s.classed(tJ.SELECTED,!c),u(!c,s,e,n))}}}),nr={initZoom:function(){this.scale.zoom=null,this.generateZoom(),this.initZoomBehaviour()},bindZoomEvent:function(t){void 0===t&&(t=!0);var e=this.config;e.zoom_enabled&&t?e.subchart_show||this.bindZoomOnEventRect():!1===t&&(this.api.unzoom(),this.unbindZoomEvent())},generateZoom:function(){var t=this,e=t.config,n=t.org,i=t.scale,r=(0,F.sP)().duration(0).on("start",t.onZoomStart.bind(t)).on("zoom",t.onZoom.bind(t)).on("end",t.onZoomEnd.bind(t));r.orgScaleExtent=function(){var n=e.zoom_extent||[1,10];return[n[0],Math.max(t.getMaxDataCount()/n[1],n[1])]},r.updateScaleExtent=function(){var e=to(t.scale.x.orgDomain())/to(t.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this},r.updateTransformScale=function(r,a){var o,s=e.axis_rotated;null===(o=n.xScale)||void 0===o||o.range(i.x.range());var c=r[s?"rescaleY":"rescaleX"](n.xScale||i.x),l=t.trimXDomain(c.domain()),u=e.zoom_rescale;if(c.domain(l,n.xDomain),a){var h=c(i.x.domain()[0]),d=s?r.x:h,f=s?h:r.y;t.$el.eventRect.property("__zoom",F.CR.translate(d,f).scale(r.k))}t.state.xTickOffset||(t.state.xTickOffset=t.axis.x.tickOffset()),i.zoom=t.getCustomizedXScale(c),t.axis.x.scale(i.zoom),u&&(n.xScale||(n.xScale=i.x.copy()),i.x.domain(l))},r.getDomain=function(){var e=i[i.zoom?"zoom":"subX"].domain();return t.axis.isCategorized()&&(e[1]-=2),e},t.zoom=r},onZoomStart:function(t){var e=t.sourceEvent;e&&(this.zoom.startEvent=e,this.state.zooming=!0,tf(this.config.zoom_onzoomstart,this.api,t))},onZoom:function(t){var e,n=this.config,i=this.scale,r=this.state,a=this.org,o=t.sourceEvent,s=(null==t?void 0:t.transform)===F.CR;if(!(!n.zoom_enabled||0===this.filterTargetsToShow(this.data.targets).length||!i.zoom&&(null==o?void 0:o.type.indexOf("touch"))>-1&&(null==o?void 0:o.touches.length)===1)){t.sourceEvent&&(r.zooming=!0,r.domain=void 0);var c=(null==o?void 0:o.type)==="mousemove",l=(null==o?void 0:o.wheelDelta)<0,u=t.transform;!c&&l&&i.x.domain().every(function(t,e){return t!==a.xDomain[e]})&&i.x.domain(a.xDomain),this.zoom.updateTransformScale(u,"wheel"===n.zoom_type&&o);var h=n.transition_duration>0&&!n.subchart_show&&(r.dragging||s||!t.sourceEvent);this.redraw({withTransition:h,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),this.state.cancelClick=c,s||tf(n.zoom_onzoom,this.api,null!==(e=this.state.domain)&&void 0!==e?e:this.zoom.getDomain())}},onZoomEnd:function(t){var e,n,i=this.config,r=this.state,a=this.zoom.startEvent,o=null==t?void 0:t.sourceEvent,s=(null==t?void 0:t.transform)===F.CR;(null==a?void 0:a.type.indexOf("touch"))>-1&&(a=a.changedTouches[0],o=null===(e=null==o?void 0:o.changedTouches)||void 0===e?void 0:e[0]),("drag"!==i.zoom_type||!o||a.clientX!==o.clientX||a.clientY!==o.clientY)&&(this.redrawEventRect(),this.updateZoom(),r.zooming=!1,!s&&(o||r.dragging)&&tf(i.zoom_onzoomend,this.api,null!==(n=this.state.domain)&&void 0!==n?n:this.zoom.getDomain()))},updateZoom:function(t){var e=this.scale,n=e.subX,i=e.x,r=e.zoom;if(r){var a=r.domain(),o=n.domain(),s=this.config.axis_x_inverted?(a[0]>=o[0]||a[0]+.015>=o[0])&&(o[1]>=a[1]||o[1]>=a[1]+.015):(a[0]<=o[0]||a[0]-.015<=o[0])&&(o[1]<=a[1]||o[1]<=a[1]-.015);(t||s)&&(this.axis.x.scale(n),i.domain(n.orgDomain()),this.scale.zoom=null)}},bindZoomOnEventRect:function(){var t=this.config,e=this.$el.eventRect,n="drag"===t.zoom_type?this.zoomBehaviour:this.zoom;this.$el.svg.on("wheel",function(){}),null==e||e.call(n).on("dblclick.zoom",null)},initZoomBehaviour:function(){var t,e=this,n=e.config,i=e.state,r=n.axis_rotated,a=0,o=0,s={axis:r?"y":"x",attr:r?"height":"width",index:r?1:0};e.zoomBehaviour=(0,p.Z)().clickDistance(4).on("start",function(n){i.event=n,e.setDragStatus(!0),e.unselectRect(),t||(t=e.$el.main.append("rect").attr("clip-path",i.clip.path).attr("class",t3.zoomBrush).attr("width",r?i.width:0).attr("height",r?0:i.height)),o=a=tx(n,this)[s.index],t.attr(s.axis,a).attr(s.attr,0),e.onZoomStart(n)}).on("drag",function(e){o=tx(e,this)[s.index],t.attr(s.axis,Math.min(a,o)).attr(s.attr,Math.abs(o-a))}).on("end",function(n){var r,c=e.scale.zoom||e.scale.x;i.event=n,t.attr(s.axis,0).attr(s.attr,0),a>o&&(a=(r=[o,a])[0],o=r[1]),a<0&&(o+=Math.abs(a),a=0),a!==o&&e.api.zoom([a,o].map(function(t){return c.invert(t)})),e.setDragStatus(!1)})},setZoomResetButton:function(){var t=this,e=t.config,n=t.$el,i=e.zoom_resetButton;i&&"drag"===e.zoom_type&&(n.zoomResetBtn?n.zoomResetBtn.style("display",null):n.zoomResetBtn=t.$el.chart.append("div").classed(tz.button,!0).append("span").on("click",function(){Q(i.onclick)&&i.onclick.bind(t.api)(this),t.api.unzoom()}).classed(t3.buttonZoomReset,!0).text(i.text||"Reset Zoom"))}},na={data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onselected:function(){},data_onunselected:function(){}},no={zoom_enabled:!1,zoom_type:"wheel",zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:void 0,zoom_onzoomstart:void 0,zoom_onzoomend:void 0,zoom_resetButton:!0,zoom_x_min:void 0,zoom_x_max:void 0},ns=function(){return tT(eM.prototype,ni),tT(ez.prototype,nt),ea.setOptions([na]),(ns=function(){return!0})()},nc=function(){return tT(eM.prototype,nr),tT(ez.prototype,nn),ea.setOptions([no]),(nc=function(){return!0})()},nl={},nu={version:"3.10.3",generate:function(t){var e=new ez(tC({},nl,t));return e.internal.charts=this.instance,this.instance.push(e),e},defaults:function(t){return th(t)&&(nl=t),nl},instance:[],plugin:{}}},4647:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}},7544:(t,e,n)=>{n.d(e,{ZP:()=>c});var i=n(4647),r=n(349),a=n(3537);let o=(0,r.Z)(i.Z),s=o.right;o.left,(0,r.Z)(a.Z).center;let c=s},349:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(4647),r=n(6837);function a(t){let e,n,a;function s(t,i,r=0,a=t.length){if(r<a){if(0!==e(i,i))return a;do{let e=r+a>>>1;0>n(t[e],i)?r=e+1:a=e}while(r<a)}return r}return 2!==t.length?(e=i.Z,n=(e,n)=>(0,i.Z)(t(e),n),a=(e,n)=>t(e)-n):(e=t===i.Z||t===r.Z?t:o,n=t,a=t),{left:s,center:function(t,e,n=0,i=t.length){let r=s(t,e,n,i-1);return r>n&&a(t[r-1],e)>-a(t[r],e)?r-1:r},right:function(t,i,r=0,a=t.length){if(r<a){if(0!==e(i,i))return a;do{let e=r+a>>>1;0>=n(t[e],i)?r=e+1:a=e}while(r<a)}return r}}}function o(){return 0}},6837:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}},3537:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return null===t?NaN:+t}},1440:(t,e,n)=>{n.d(e,{G9:()=>c,ZP:()=>s,ly:()=>l});let i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(t,e,n){let s,c,l;let u=(e-t)/Math.max(0,n),h=Math.floor(Math.log10(u)),d=u/Math.pow(10,h),f=d>=i?10:d>=r?5:d>=a?2:1;return(h<0?(s=Math.round(t*(l=Math.pow(10,-h)/f)),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(s=Math.round(t/(l=Math.pow(10,h)*f)),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2)?o(t,e,2*n):[s,c,l]}function s(t,e,n){if(e=+e,t=+t,!((n=+n)>0))return[];if(t===e)return[t];let i=e<t,[r,a,s]=i?o(e,t,n):o(t,e,n);if(!(a>=r))return[];let c=a-r+1,l=Array(c);if(i){if(s<0)for(let t=0;t<c;++t)l[t]=-((a-t)/s);else for(let t=0;t<c;++t)l[t]=(a-t)*s}else if(s<0)for(let t=0;t<c;++t)l[t]=-((r+t)/s);else for(let t=0;t<c;++t)l[t]=(r+t)*s;return l}function c(t,e,n){return o(t=+t,e=+e,n=+n)[2]}function l(t,e,n){e=+e,t=+t,n=+n;let i=e<t,r=i?c(e,t,n):c(t,e,n);return(i?-1:1)*(r<0?-(1/r):r)}},337:(t,e,n)=>{n.d(e,{F5:()=>c,Kh:()=>l,LL:()=>u,y4:()=>h});var i=n(651);function r(t){return"translate("+t+",0)"}function a(t){return"translate(0,"+t+")"}function o(){return!this.__axis}function s(t,e){var n=[],s=null,c=null,l=6,u=6,h=3,d="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,f=1===t||4===t?-1:1,g=4===t||2===t?"x":"y",p=1===t||3===t?r:a;function v(r){var a=null==s?e.ticks?e.ticks.apply(e,n):e.domain():s,v=null==c?e.tickFormat?e.tickFormat.apply(e,n):i.Z:c,_=Math.max(l,0)+h,x=e.range(),y=+x[0]+d,m=+x[x.length-1]+d,b=(e.bandwidth?function(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}:function(t){return e=>+t(e)})(e.copy(),d),T=r.selection?r.selection():r,w=T.selectAll(".domain").data([null]),k=T.selectAll(".tick").data(a,e).order(),A=k.exit(),Z=k.enter().append("g").attr("class","tick"),S=k.select("line"),C=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(Z),S=S.merge(Z.append("line").attr("stroke","currentColor").attr(g+"2",f*l)),C=C.merge(Z.append("text").attr("fill","currentColor").attr(g,f*_).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),r!==T&&(w=w.transition(r),k=k.transition(r),S=S.transition(r),C=C.transition(r),A=A.transition(r).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=b(t))?p(t+d):this.getAttribute("transform")}),Z.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return p((e&&isFinite(e=e(t))?e:b(t))+d)})),A.remove(),w.attr("d",4===t||2===t?u?"M"+f*u+","+y+"H"+d+"V"+m+"H"+f*u:"M"+d+","+y+"V"+m:u?"M"+y+","+f*u+"V"+d+"H"+m+"V"+f*u:"M"+y+","+d+"H"+m),k.attr("opacity",1).attr("transform",function(t){return p(b(t)+d)}),S.attr(g+"2",f*l),C.attr(g,f*_).text(v),T.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),T.each(function(){this.__axis=b})}return v.scale=function(t){return arguments.length?(e=t,v):e},v.ticks=function(){return n=Array.from(arguments),v},v.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),v):n.slice()},v.tickValues=function(t){return arguments.length?(s=null==t?null:Array.from(t),v):s&&s.slice()},v.tickFormat=function(t){return arguments.length?(c=t,v):c},v.tickSize=function(t){return arguments.length?(l=u=+t,v):l},v.tickSizeInner=function(t){return arguments.length?(l=+t,v):l},v.tickSizeOuter=function(t){return arguments.length?(u=+t,v):u},v.tickPadding=function(t){return arguments.length?(h=+t,v):h},v.offset=function(t){return arguments.length?(d=+t,v):d},v}function c(t){return s(1,t)}function l(t){return s(2,t)}function u(t){return s(3,t)}function h(t){return s(4,t)}},651:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return t}},9410:(t,e,n)=>{n.d(e,{L:()=>z,Yu:()=>P,mN:()=>D});var i=n(7657),r=n(1821),a=n(2517),o=n(8869),s=n(3968),c=n(7039),l=n(3800),u=n(5913),h=n(2074),d={name:"drag"},f={name:"space"},g={name:"handle"},p={name:"center"};let{abs:v,max:_,min:x}=Math;function y(t){return[+t[0],+t[1]]}function m(t){return[y(t[0]),y(t[1])]}var b={name:"x",handles:["w","e"].map(C),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},T={name:"y",handles:["n","s"].map(C),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}};["n","w","e","s","nw","ne","sw","se"].map(C);var w={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Z={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},S={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function C(t){return{type:t}}function E(t){return!t.ctrlKey&&!t.button}function M(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function L(){return navigator.maxTouchPoints||"ontouchstart"in this}function R(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function D(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function P(){return I(b)}function z(){return I(T)}function I(t){var e,n=M,y=E,D=L,P=!0,z=(0,i.Z)("start","brush","end"),I=6;function O(e){var n=e.property("__brush",U).selectAll(".overlay").data([C("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",w.overlay).merge(n).each(function(){var t=R(this).extent;(0,o.Z)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([C("selection")]).enter().append("rect").attr("class","selection").attr("cursor",w.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return w[t.type]}),e.each($).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",F).filter(D).on("touchstart.brush",F).on("touchmove.brush",B).on("touchend.brush touchcancel.brush",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function $(){var t=(0,o.Z)(this),e=R(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-I/2:e[0][0]-I/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-I/2:e[0][1]-I/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+I:I}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+I:I})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function X(t,e,n){var i=t.__brush.emitter;return!i||n&&i.clean?new N(t,e,n):i}function N(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function F(n){if((!e||n.touches)&&y.apply(this,arguments)){var i,a,l,u,m,C,E,M,L,D,z,I=this,O=n.target.__data__.type,N=(P&&n.metaKey?O="overlay":O)==="selection"?d:P&&n.altKey?p:g,F=t===T?null:Z[O],B=t===b?null:S[O],Y=R(I),U=Y.extent,V=Y.selection,H=U[0][0],j=U[0][1],G=U[1][0],W=U[1][1],q=0,J=0,K=F&&B&&P&&n.shiftKey,Q=Array.from(n.touches||[n],t=>{let e=t.identifier;return(t=(0,s.Z)(t,I)).point0=t.slice(),t.identifier=e,t});(0,c.e1)(I);var tt=X(I,arguments,!0).beforestart();if("overlay"===O){V&&(L=!0);let e=[Q[0],Q[1]||Q[0]];Y.selection=V=[[i=t===T?H:x(e[0][0],e[1][0]),l=t===b?j:x(e[0][1],e[1][1])],[m=t===T?G:_(e[0][0],e[1][0]),E=t===b?W:_(e[0][1],e[1][1])]],Q.length>1&&ta(n)}else i=V[0][0],l=V[0][1],m=V[1][0],E=V[1][1];a=i,u=l,C=m,M=E;var te=(0,o.Z)(I).attr("pointer-events","none"),tn=te.selectAll(".overlay").attr("cursor",w[O]);if(n.touches)tt.moved=tr,tt.ended=to;else{var ti=(0,o.Z)(n.view).on("mousemove.brush",tr,!0).on("mouseup.brush",to,!0);P&&ti.on("keydown.brush",function(t){switch(t.keyCode){case 16:K=F&&B;break;case 18:N===g&&(F&&(m=C-q*F,i=a+q*F),B&&(E=M-J*B,l=u+J*B),N=p,ta(t));break;case 32:(N===g||N===p)&&(F<0?m=C-q:F>0&&(i=a-q),B<0?E=M-J:B>0&&(l=u-J),N=f,tn.attr("cursor",w.selection),ta(t));break;default:return}(0,h.Z)(t)},!0).on("keyup.brush",function(t){switch(t.keyCode){case 16:K&&(D=z=K=!1,ta(t));break;case 18:N===p&&(F<0?m=C:F>0&&(i=a),B<0?E=M:B>0&&(l=u),N=g,ta(t));break;case 32:N===f&&(t.altKey?(F&&(m=C-q*F,i=a+q*F),B&&(E=M-J*B,l=u+J*B),N=p):(F<0?m=C:F>0&&(i=a),B<0?E=M:B>0&&(l=u),N=g),tn.attr("cursor",w[O]),ta(t));break;default:return}(0,h.Z)(t)},!0),(0,r.Z)(n.view)}$.call(I),tt.start(n,N.name)}function tr(t){for(let e of t.changedTouches||[t])for(let t of Q)t.identifier===e.identifier&&(t.cur=(0,s.Z)(e,I));if(K&&!D&&!z&&1===Q.length){let t=Q[0];v(t.cur[0]-t[0])>v(t.cur[1]-t[1])?z=!0:D=!0}for(let t of Q)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);L=!0,(0,h.Z)(t),ta(t)}function ta(t){var e;let n=Q[0],r=n.point0;switch(q=n[0]-r[0],J=n[1]-r[1],N){case f:case d:F&&(q=_(H-i,x(G-m,q)),a=i+q,C=m+q),B&&(J=_(j-l,x(W-E,J)),u=l+J,M=E+J);break;case g:Q[1]?(F&&(a=_(H,x(G,Q[0][0])),C=_(H,x(G,Q[1][0])),F=1),B&&(u=_(j,x(W,Q[0][1])),M=_(j,x(W,Q[1][1])),B=1)):(F<0?(q=_(H-i,x(G-i,q)),a=i+q,C=m):F>0&&(q=_(H-m,x(G-m,q)),a=i,C=m+q),B<0?(J=_(j-l,x(W-l,J)),u=l+J,M=E):B>0&&(J=_(j-E,x(W-E,J)),u=l,M=E+J));break;case p:F&&(a=_(H,x(G,i-q*F)),C=_(H,x(G,m+q*F))),B&&(u=_(j,x(W,l-J*B)),M=_(j,x(W,E+J*B)))}C<a&&(F*=-1,e=i,i=m,m=e,e=a,a=C,C=e,O in k&&tn.attr("cursor",w[O=k[O]])),M<u&&(B*=-1,e=l,l=E,E=e,e=u,u=M,M=e,O in A&&tn.attr("cursor",w[O=A[O]])),Y.selection&&(V=Y.selection),D&&(a=V[0][0],C=V[1][0]),z&&(u=V[0][1],M=V[1][1]),(V[0][0]!==a||V[0][1]!==u||V[1][0]!==C||V[1][1]!==M)&&(Y.selection=[[a,u],[C,M]],$.call(I),tt.brush(t,N.name))}function to(t){var n;if((0,h.r)(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else(0,r.D)(t.view,L),ti.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);te.attr("pointer-events","all"),tn.attr("cursor",w.overlay),Y.selection&&(V=Y.selection),((n=V)[0][0]===n[1][0]||n[0][1]===n[1][1])&&(Y.selection=null,$.call(I)),tt.end(t,N.name)}}function B(t){X(this,arguments).moved(t)}function Y(t){X(this,arguments).ended(t)}function U(){var e=this.__brush||{selection:null};return e.extent=m(n.apply(this,arguments)),e.dim=t,e}return O.move=function(e,n,i){e.tween?e.on("start.brush",function(t){X(this,arguments).beforestart().start(t)}).on("interrupt.brush end.brush",function(t){X(this,arguments).end(t)}).tween("brush",function(){var e=this,i=e.__brush,r=X(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),c=(0,a.Z)(o,s);function l(t){i.selection=1===t&&null===s?null:c(t),$.call(e),r.brush()}return null!==o&&null!==s?l:l(1)}):e.each(function(){var e=arguments,r=this.__brush,a=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=X(this,e).beforestart();(0,c.e1)(this),r.selection=null===a?null:a,$.call(this),o.start(i).brush(i).end(i)})},O.clear=function(t,e){O.move(t,null,e)},N.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,i){var r=(0,o.Z)(this.that).datum();z.call(e,this.that,new u.Z(e,{sourceEvent:n,target:O,selection:t.output(this.state.selection),mode:i,dispatch:z}),r)}},O.extent=function(t){return arguments.length?(n="function"==typeof t?t:(0,l.Z)(m(t)),O):n},O.filter=function(t){return arguments.length?(y="function"==typeof t?t:(0,l.Z)(!!t),O):y},O.touchable=function(t){return arguments.length?(D="function"==typeof t?t:(0,l.Z)(!!t),O):D},O.handleSize=function(t){return arguments.length?(I=+t,O):I},O.keyModifiers=function(t){return arguments.length?(P=!!t,O):P},O.on=function(){var t=z.on.apply(z,arguments);return t===z?O:t},O}},3800:(t,e,n)=>{n.d(e,{Z:()=>i});let i=t=>()=>t},5913:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,{sourceEvent:e,target:n,selection:i,mode:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}},3882:(t,e,n)=>{n.d(e,{L:()=>i.L,Yu:()=>i.Yu,mN:()=>i.mN});var i=n(9410)},2074:(t,e,n)=>{function i(t){t.stopImmediatePropagation()}function r(t){t.preventDefault(),t.stopImmediatePropagation()}n.d(e,{Z:()=>r,r:()=>i})},1387:(t,e,n)=>{n.d(e,{B8:()=>b,ZP:()=>x});var i=n(4210);function r(){}var a="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,l=RegExp(`^rgb\\(${a},${a},${a}\\)$`),u=RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=RegExp(`^rgba\\(${a},${a},${a},${o}\\)$`),d=RegExp(`^rgba\\(${s},${s},${s},${o}\\)$`),f=RegExp(`^hsl\\(${o},${s},${s}\\)$`),g=RegExp(`^hsla\\(${o},${s},${s},${o}\\)$`),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function x(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?y(e):3===n?new T(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?m(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?m(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=l.exec(t))?new T(e[1],e[2],e[3],1):(e=u.exec(t))?new T(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?m(e[1],e[2],e[3],e[4]):(e=d.exec(t))?m(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=f.exec(t))?C(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?C(e[1],e[2]/100,e[3]/100,e[4]):p.hasOwnProperty(t)?y(p[t]):"transparent"===t?new T(NaN,NaN,NaN,0):null}function y(t){return new T(t>>16&255,t>>8&255,255&t,1)}function m(t,e,n,i){return i<=0&&(t=e=n=NaN),new T(t,e,n,i)}function b(t,e,n,i){var a;return 1==arguments.length?((a=t)instanceof r||(a=x(a)),a)?new T((a=a.rgb()).r,a.g,a.b,a.opacity):new T:new T(t,e,n,null==i?1:i)}function T(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function w(){return`#${S(this.r)}${S(this.g)}${S(this.b)}`}function k(){let t=A(this.opacity);return`${1===t?"rgb(":"rgba("}${Z(this.r)}, ${Z(this.g)}, ${Z(this.b)}${1===t?")":`, ${t})`}`}function A(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Z(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function S(t){return((t=Z(t))<16?"0":"")+t.toString(16)}function C(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new M(t,e,n,i)}function E(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=x(t)),!t)return new M;if(t instanceof M)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,c=o-a,l=(o+a)/2;return c?(s=e===o?(n-i)/c+(n<i)*6:n===o?(i-e)/c+2:(e-n)/c+4,c/=l<.5?o+a:2-o-a,s*=60):c=l>0&&l<1?0:s,new M(s,c,l,t.opacity)}function M(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function L(t){return(t=(t||0)%360)<0?t+360:t}function R(t){return Math.max(0,Math.min(1,t||0))}function D(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}(0,i.Z)(r,x,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return E(this).formatHsl()},formatRgb:_,toString:_}),(0,i.Z)(T,b,(0,i.l)(r,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new T(Z(this.r),Z(this.g),Z(this.b),A(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w,formatHex:w,formatHex8:function(){return`#${S(this.r)}${S(this.g)}${S(this.b)}${S((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:k,toString:k})),(0,i.Z)(M,function(t,e,n,i){return 1==arguments.length?E(t):new M(t,e,n,null==i?1:i)},(0,i.l)(r,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new M(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new T(D(t>=240?t-240:t+120,r,i),D(t,r,i),D(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new M(L(this.h),R(this.s),R(this.l),A(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=A(this.opacity);return`${1===t?"hsl(":"hsla("}${L(this.h)}, ${100*R(this.s)}%, ${100*R(this.l)}%${1===t?")":`, ${t})`}`}}))},4210:(t,e,n)=>{function i(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}n.d(e,{Z:()=>i,l:()=>r})},7657:(t,e,n)=>{n.d(e,{Z:()=>s});var i={value:()=>{}};function r(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw Error("illegal type: "+t);i[t]=[]}return new a(i)}function a(t){this._=t}function o(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=r.prototype={constructor:a,on:function(t,e){var n,i=this._,r=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((n=(t=r[a]).type)&&(n=function(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}(i[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++a<s;)if(n=(t=r[a]).type)i[n]=o(i[n],t.name,e);else if(null==e)for(n in i)i[n]=o(i[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(i=this._[t],a=0,n=i.length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};let s=r},6327:(t,e,n)=>{n.d(e,{Z:()=>i});let i=t=>()=>t},7685:(t,e,n)=>{n.d(e,{Z:()=>g});var i=n(7657),r=n(8869),a=n(3968),o=n(1821),s=n(6895),c=n(6327),l=n(2940);function u(t){return!t.ctrlKey&&!t.button}function h(){return this.parentNode}function d(t,e){return null==e?{x:t.x,y:t.y}:e}function f(){return navigator.maxTouchPoints||"ontouchstart"in this}function g(){var t,e,n,g,p=u,v=h,_=d,x=f,y={},m=(0,i.Z)("start","drag","end"),b=0,T=0;function w(t){t.on("mousedown.drag",k).filter(x).on("touchstart.drag",S).on("touchmove.drag",C,s.Q7).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(i,a){if(!g&&p.call(this,i,a)){var c=M(this,v.call(this,i,a),i,a,"mouse");c&&((0,r.Z)(i.view).on("mousemove.drag",A,s.Dd).on("mouseup.drag",Z,s.Dd),(0,o.Z)(i.view),(0,s.rG)(i),n=!1,t=i.clientX,e=i.clientY,c("start",i))}}function A(i){if((0,s.ZP)(i),!n){var r=i.clientX-t,a=i.clientY-e;n=r*r+a*a>T}y.mouse("drag",i)}function Z(t){(0,r.Z)(t.view).on("mousemove.drag mouseup.drag",null),(0,o.D)(t.view,n),(0,s.ZP)(t),y.mouse("end",t)}function S(t,e){if(p.call(this,t,e)){var n,i,r=t.changedTouches,a=v.call(this,t,e),o=r.length;for(n=0;n<o;++n)(i=M(this,a,t,e,r[n].identifier,r[n]))&&((0,s.rG)(t),i("start",t,r[n]))}}function C(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=y[i[e].identifier])&&((0,s.ZP)(t),n("drag",t,i[e]))}function E(t){var e,n,i=t.changedTouches,r=i.length;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),e=0;e<r;++e)(n=y[i[e].identifier])&&((0,s.rG)(t),n("end",t,i[e]))}function M(t,e,n,i,r,o){var s,c,u,h=m.copy(),d=(0,a.Z)(o||n,e);if(null!=(u=_.call(t,new l.Z("beforestart",{sourceEvent:n,target:w,identifier:r,active:b,x:d[0],y:d[1],dx:0,dy:0,dispatch:h}),i)))return s=u.x-d[0]||0,c=u.y-d[1]||0,function n(o,f,g){var p,v=d;switch(o){case"start":y[r]=n,p=b++;break;case"end":delete y[r],--b;case"drag":d=(0,a.Z)(g||f,e),p=b}h.call(o,t,new l.Z(o,{sourceEvent:f,subject:u,target:w,identifier:r,active:p,x:d[0]+s,y:d[1]+c,dx:d[0]-v[0],dy:d[1]-v[1],dispatch:h}),i)}}return w.filter=function(t){return arguments.length?(p="function"==typeof t?t:(0,c.Z)(!!t),w):p},w.container=function(t){return arguments.length?(v="function"==typeof t?t:(0,c.Z)(t),w):v},w.subject=function(t){return arguments.length?(_="function"==typeof t?t:(0,c.Z)(t),w):_},w.touchable=function(t){return arguments.length?(x="function"==typeof t?t:(0,c.Z)(!!t),w):x},w.on=function(){var t=m.on.apply(m,arguments);return t===m?w:t},w.clickDistance=function(t){return arguments.length?(T=(t=+t)*t,w):Math.sqrt(T)},w}},2940:(t,e,n)=>{function i(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:a,x:o,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}n.d(e,{Z:()=>i}),i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},1821:(t,e,n)=>{n.d(e,{D:()=>o,Z:()=>a});var i=n(8869),r=n(6895);function a(t){var e=t.document.documentElement,n=(0,i.Z)(t).on("dragstart.drag",r.ZP,r.Dd);"onselectstart"in e?n.on("selectstart.drag",r.ZP,r.Dd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function o(t,e){var n=t.document.documentElement,a=(0,i.Z)(t).on("dragstart.drag",null);e&&(a.on("click.drag",r.ZP,r.Dd),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},6895:(t,e,n)=>{n.d(e,{Dd:()=>r,Q7:()=>i,ZP:()=>o,rG:()=>a});let i={passive:!1},r={capture:!0,passive:!1};function a(t){t.stopImmediatePropagation()}function o(t){t.preventDefault(),t.stopImmediatePropagation()}},5602:(t,e,n)=>{n.d(e,{Bj:()=>a,ue:()=>r});var i=(0,n(3619).Z)(","),r=i.parse,a=i.parseRows;i.format,i.formatBody,i.formatRows,i.formatRow,i.formatValue},3619:(t,e,n)=>{n.d(e,{Z:()=>c});var i={},r={};function a(t){return Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function o(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function s(t,e){var n=t+"",i=n.length;return i<e?Array(e-i+1).join(0)+n:n}function c(t){var e=RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function c(t,e){var a,o=[],s=t.length,c=0,l=0,u=s<=0,h=!1;function d(){if(u)return r;if(h)return h=!1,i;var e,a,o=c;if(34===t.charCodeAt(o)){for(;c++<s&&34!==t.charCodeAt(c)||34===t.charCodeAt(++c););return(e=c)>=s?u=!0:10===(a=t.charCodeAt(c++))?h=!0:13===a&&(h=!0,10===t.charCodeAt(c)&&++c),t.slice(o+1,e-1).replace(/""/g,'"')}for(;c<s;){if(10===(a=t.charCodeAt(e=c++)))h=!0;else if(13===a)h=!0,10===t.charCodeAt(c)&&++c;else if(a!==n)continue;return t.slice(o,e)}return u=!0,t.slice(o,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(a=d())!==r;){for(var f=[];a!==i&&a!==r;)f.push(a),a=d();e&&null==(f=e(f,l++))||o.push(f)}return o}function l(e,n){return e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})}function u(e){return e.map(h).join(t)}function h(t){var n,i,r,a,o,c;return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),r=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((c=n.getUTCFullYear())<0?"-"+s(-c,6):c>9999?"+"+s(c,6):s(c,4))+"-"+s(n.getUTCMonth()+1,2)+"-"+s(n.getUTCDate(),2)+(o?"T"+s(i,2)+":"+s(r,2)+":"+s(a,2)+"."+s(o,3)+"Z":a?"T"+s(i,2)+":"+s(r,2)+":"+s(a,2)+"Z":r||i?"T"+s(i,2)+":"+s(r,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,r=c(t,function(t,r){var o;if(n)return n(t,r-1);i=t,n=e?(o=a(t),function(n,i){return e(o(n),i,t)}):a(t)});return r.columns=i||[],r},parseRows:c,format:function(e,n){return null==n&&(n=o(e)),[n.map(h).join(t)].concat(l(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=o(t)),l(t,e).join("\n")},formatRows:function(t){return t.map(u).join("\n")},formatRow:u,formatValue:h}}},4689:(t,e,n)=>{n.d(e,{E0:()=>a,tJ:()=>r});var i=(0,n(3619).Z)("	"),r=i.parse,a=i.parseRows;i.format,i.formatBody,i.formatRows,i.formatRow,i.formatValue},6685:(t,e,n)=>{n.d(e,{tw:()=>i});function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},2302:(t,e,n)=>{n.d(e,{G:()=>i});let i=t=>+t},4037:(t,e,n)=>{var i,r,a;n.d(e,{WU:()=>r,jH:()=>a}),r=(i=(0,n(407).Z)({thousands:",",grouping:[3],currency:["$",""]})).format,a=i.formatPrefix},5857:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1765);function r(t){return(t=(0,i.V)(Math.abs(t)))?t[1]:NaN}},1765:(t,e,n)=>{function i(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}n.d(e,{V:()=>r,Z:()=>i})},3897:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return function(n,i){for(var r=n.length,a=[],o=0,s=t[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),a.push(n.substring(r-=s,r+s)),!((c+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}},7798:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},7123:(t,e,n)=>{n.d(e,{Z:()=>a,y:()=>i});var i,r=n(1765);function a(t,e){var n=(0,r.V)(t,e);if(!n)return t+"";var a=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,c=a.length;return s===c?a:s>c?a+Array(s-c+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+Array(1-s).join("0")+(0,r.V)(t,Math.max(0,e+s-1))[0]}},5776:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1765);function r(t,e){var n=(0,i.V)(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+Array(a-r.length+2).join("0")}},2844:(t,e,n)=>{n.d(e,{Z:()=>r});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(t){var e;if(!(e=i.exec(t)))throw Error("invalid format: "+t);return new a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}r.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},7919:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}},9412:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(1765),r=n(7123),a=n(5776);let o={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i.Z,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>(0,a.Z)(100*t,e),r:a.Z,s:r.Z,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}},3953:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return t}},407:(t,e,n)=>{n.d(e,{Z:()=>f});var i=n(5857),r=n(3897),a=n(7798),o=n(2844),s=n(7919),c=n(9412),l=n(7123),u=n(3953),h=Array.prototype.map,d=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function f(t){var e=void 0===t.grouping||void 0===t.thousands?u.Z:(0,r.Z)(h.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",f=void 0===t.currency?"":t.currency[1]+"",g=void 0===t.decimal?".":t.decimal+"",p=void 0===t.numerals?u.Z:(0,a.Z)(h.call(t.numerals,String)),v=void 0===t.percent?"%":t.percent+"",_=void 0===t.minus?"":t.minus+"",x=void 0===t.nan?"NaN":t.nan+"";function y(t){var i=(t=(0,o.Z)(t)).fill,r=t.align,a=t.sign,u=t.symbol,h=t.zero,y=t.width,m=t.comma,b=t.precision,T=t.trim,w=t.type;"n"===w?(m=!0,w="g"):c.Z[w]||(void 0===b&&(b=12),T=!0,w="g"),(h||"0"===i&&"="===r)&&(h=!0,i="0",r="=");var k="$"===u?n:"#"===u&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A="$"===u?f:/[%p]/.test(w)?v:"",Z=c.Z[w],S=/[defgprs%]/.test(w);function C(t){var n,o,c,u=k,f=A;if("c"===w)f=Z(t)+f,t="";else{var v=(t=+t)<0||1/t<0;if(t=isNaN(t)?x:Z(Math.abs(t),b),T&&(t=(0,s.Z)(t)),v&&0==+t&&"+"!==a&&(v=!1),u=(v?"("===a?a:_:"-"===a||"("===a?"":a)+u,f=("s"===w?d[8+l.y/3]:"")+f+(v&&"("===a?")":""),S){for(n=-1,o=t.length;++n<o;)if(48>(c=t.charCodeAt(n))||c>57){f=(46===c?g+t.slice(n+1):t.slice(n))+f,t=t.slice(0,n);break}}}m&&!h&&(t=e(t,1/0));var C=u.length+t.length+f.length,E=C<y?Array(y-C+1).join(i):"";switch(m&&h&&(t=e(E+t,E.length?y-f.length:1/0),E=""),r){case"<":t=u+t+f+E;break;case"=":t=u+E+t+f;break;case"^":t=E.slice(0,C=E.length>>1)+u+t+f+E.slice(C);break;default:t=E+u+t+f}return p(t)}return b=void 0===b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),C.toString=function(){return t+""},C}return{format:y,formatPrefix:function(t,e){var n=y(((t=(0,o.Z)(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor((0,i.Z)(e)/3))),a=Math.pow(10,-r),s=d[8+r/3];return function(t){return n(a*t)+s}}}}},6067:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5857);function r(t){return Math.max(0,-(0,i.Z)(Math.abs(t)))}},5480:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5857);function r(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,i.Z)(e)/3)))-(0,i.Z)(Math.abs(t)))}},5042:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5857);function r(t,e){return e=Math.abs(e)-(t=Math.abs(t)),Math.max(0,(0,i.Z)(e)-(0,i.Z)(t))+1}},666:(t,e,n)=>{n.d(e,{C:()=>i});function i(t){if("function"!=typeof t)throw Error();return t}},6178:(t,e,n)=>{function i(){return 0}function r(t){return function(){return t}}n.d(e,{G:()=>i,Z:()=>r})},3592:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},6877:(t,e,n)=>{function i(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function r(){return this.eachAfter(i)}n.d(e,{Z:()=>r})},6915:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){return Array.from(this)}},980:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){let n=-1;for(let i of this)t.call(e,i,++n,this);return this}},6796:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){for(var n,i,r,a=this,o=[a],s=[],c=-1;a=o.pop();)if(s.push(a),n=a.children)for(i=0,r=n.length;i<r;++i)o.push(n[i]);for(;a=s.pop();)t.call(e,a,++c,this);return this}},3152:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){for(var n,i,r=this,a=[r],o=-1;r=a.pop();)if(t.call(e,r,++o,this),n=r.children)for(i=n.length-1;i>=0;--i)a.push(n[i]);return this}},9489:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){let n=-1;for(let i of this)if(t.call(e,i,++n,this))return i}},6731:(t,e,n)=>{n.d(e,{ZP:()=>v});var i=n(6877),r=n(980),a=n(3152),o=n(6796),s=n(9489),c=n(833),l=n(8142),u=n(972),h=n(3592),d=n(6915),f=n(7381),g=n(4855),p=n(8409);function v(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=x)):void 0===e&&(e=_);for(var n,i,r,a,o,s=new b(t),c=[s];n=c.pop();)if((r=e(n.data))&&(o=(r=Array.from(r)).length))for(n.children=r,a=o-1;a>=0;--a)c.push(i=r[a]=new b(r[a])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(m)}function _(t){return t.children}function x(t){return Array.isArray(t)?t[1]:null}function y(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function m(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function b(t){this.data=t,this.depth=this.height=0,this.parent=null}b.prototype=v.prototype={constructor:b,count:i.Z,each:r.Z,eachAfter:o.Z,eachBefore:a.Z,find:s.Z,sum:c.Z,sort:l.Z,path:u.Z,ancestors:h.Z,descendants:d.Z,leaves:f.Z,links:g.Z,copy:function(){return v(this).eachBefore(y)},[Symbol.iterator]:p.Z}},8409:(t,e,n)=>{n.d(e,{Z:()=>i});function*i(){var t,e,n,i,r=this,a=[r];do for(t=a.reverse(),a=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)a.push(e[n]);while(a.length)}},7381:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}},4855:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}},972:(t,e,n)=>{function i(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}n.d(e,{Z:()=>i})},8142:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}},833:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}},2897:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e,n,i,r){var a,o,s=t.children,c=s.length,l=Array(c+1);for(l[0]=o=a=0;a<c;++a)l[a+1]=o+=s[a].value;!function t(e,n,i,r,a,o,c){if(e>=n-1){var u=s[e];u.x0=r,u.y0=a,u.x1=o,u.y1=c;return}for(var h=l[e],d=i/2+h,f=e+1,g=n-1;f<g;){var p=f+g>>>1;l[p]<d?f=p+1:g=p}d-l[f-1]<l[f]-d&&e+1<f&&--f;var v=l[f]-h,_=i-v;if(o-r>c-a){var x=i?(r*_+o*v)/i:o;t(e,f,v,r,a,x,c),t(f,n,_,x,a,o,c)}else{var y=i?(a*_+c*v)/i:c;t(e,f,v,r,a,o,y),t(f,n,_,r,y,o,c)}}(0,c,t.value,e,n,i,r)}},1677:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e,n,i,r){for(var a,o=t.children,s=-1,c=o.length,l=t.value&&(i-e)/t.value;++s<c;)(a=o[s]).y0=n,a.y1=r,a.x0=e,a.x1=e+=a.value*l}},8655:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(6378),r=n(3062),a=n(666),o=n(6178);function s(){var t=r.ZP,e=!1,n=1,s=1,c=[0],l=o.G,u=o.G,h=o.G,d=o.G,f=o.G;function g(t){return t.x0=t.y0=0,t.x1=n,t.y1=s,t.eachBefore(p),c=[0],e&&t.eachBefore(i.Z),t}function p(e){var n=c[e.depth],i=e.x0+n,r=e.y0+n,a=e.x1-n,o=e.y1-n;a<i&&(i=a=(i+a)/2),o<r&&(r=o=(r+o)/2),e.x0=i,e.y0=r,e.x1=a,e.y1=o,e.children&&(n=c[e.depth+1]=l(e)/2,i+=f(e)-n,r+=u(e)-n,a-=h(e)-n,o-=d(e)-n,a<i&&(i=a=(i+a)/2),o<r&&(r=o=(r+o)/2),t(e,i,r,a,o))}return g.round=function(t){return arguments.length?(e=!!t,g):e},g.size=function(t){return arguments.length?(n=+t[0],s=+t[1],g):[n,s]},g.tile=function(e){return arguments.length?(t=(0,a.C)(e),g):t},g.padding=function(t){return arguments.length?g.paddingInner(t).paddingOuter(t):g.paddingInner()},g.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:(0,o.Z)(+t),g):l},g.paddingOuter=function(t){return arguments.length?g.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):g.paddingTop()},g.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:(0,o.Z)(+t),g):u},g.paddingRight=function(t){return arguments.length?(h="function"==typeof t?t:(0,o.Z)(+t),g):h},g.paddingBottom=function(t){return arguments.length?(d="function"==typeof t?t:(0,o.Z)(+t),g):d},g.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:(0,o.Z)(+t),g):f},g}},3906:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(1677),r=n(5408),a=n(3062);let o=function t(e){function n(t,n,o,s,c){if((l=t._squarify)&&l.ratio===e)for(var l,u,h,d,f,g=-1,p=l.length,v=t.value;++g<p;){for(h=(u=l[g]).children,d=u.value=0,f=h.length;d<f;++d)u.value+=h[d].value;u.dice?(0,i.Z)(u,n,o,s,v?o+=(c-o)*u.value/v:c):(0,r.Z)(u,n,o,v?n+=(s-n)*u.value/v:s,c),v-=u.value}else t._squarify=l=(0,a.DD)(e,t,n,o,s,c),l.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a.Sk)},6378:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},5408:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e,n,i,r){for(var a,o=t.children,s=-1,c=o.length,l=t.value&&(r-n)/t.value;++s<c;)(a=o[s]).x0=e,a.x1=i,a.y0=n,a.y1=n+=a.value*l}},3578:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(1677),r=n(5408);function a(t,e,n,a,o){(1&t.depth?r.Z:i.Z)(t,e,n,a,o)}},3062:(t,e,n)=>{n.d(e,{DD:()=>o,Sk:()=>a,ZP:()=>s});var i=n(1677),r=n(5408),a=(1+Math.sqrt(5))/2;function o(t,e,n,a,o,s){for(var c,l,u,h,d,f,g,p,v,_,x,y=[],m=e.children,b=0,T=0,w=m.length,k=e.value;b<w;){u=o-n,h=s-a;do d=m[T++].value;while(!d&&T<w)for(f=g=d,v=Math.max(g/(x=d*d*(_=Math.max(h/u,u/h)/(k*t))),x/f);T<w;++T){if(d+=l=m[T].value,l<f&&(f=l),l>g&&(g=l),(p=Math.max(g/(x=d*d*_),x/f))>v){d-=l;break}v=p}y.push(c={value:d,dice:u<h,children:m.slice(b,T)}),c.dice?(0,i.Z)(c,n,a,o,k?a+=h*d/k:s):(0,r.Z)(c,n,a,k?n+=u*d/k:o,s),k-=d,b=T}return y}let s=function t(e){function n(t,n,i,r,a){o(e,t,n,i,r,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(a)},3421:(t,e,n)=>{n.d(e,{M:()=>r});var i=n(2517);function r(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,o=Array(a),s=Array(r);for(n=0;n<a;++n)o[n]=(0,i.Z)(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<a;++n)s[n]=o[n](t);return s}}},5183:(t,e,n)=>{function i(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}function r(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],o=t[r+1],s=r>0?t[r-1]:2*a-o,c=r<e-1?t[r+2]:2*o-a;return i((n-r/e)*e,s,a,o,c)}}n.d(e,{Z:()=>r,t:()=>i})},965:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5183);function r(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],c=t[(r+2)%e];return(0,i.t)((n-r/e)*e,a,o,s,c)}}},1971:(t,e,n)=>{n.d(e,{ZP:()=>a,yi:()=>r});var i=n(9307);function r(t){return 1==(t=+t)?a:function(e,n){var r,a,o;return n-e?(r=e,a=n,r=Math.pow(r,o=t),a=Math.pow(a,o)-r,o=1/o,function(t){return Math.pow(r+t*a,o)}):(0,i.Z)(isNaN(e)?n:e)}}function a(t,e){var n=e-t;return n?function(e){return t+e*n}:(0,i.Z)(isNaN(t)?e:t)}},9307:(t,e,n)=>{n.d(e,{Z:()=>i});let i=t=>()=>t},4308:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}},9485:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},1395:(t,e,n)=>{function i(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.d(e,{Z:()=>i,v:()=>r})},4241:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(2517);function r(t,e){var n,r={},a={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=(0,i.Z)(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}},1983:(t,e,n)=>{n.d(e,{ZP:()=>s});var i=n(1387),r=n(5183),a=n(965),o=n(1971);let s=function t(e){var n=(0,o.yi)(e);function r(t,e){var r=n((t=(0,i.B8)(t)).r,(e=(0,i.B8)(e)).r),a=n(t.g,e.g),s=n(t.b,e.b),c=(0,o.ZP)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=s(e),t.opacity=c(e),t+""}}return r.gamma=t,r}(1);function c(t){return function(e){var n,r,a=e.length,o=Array(a),s=Array(a),c=Array(a);for(n=0;n<a;++n)r=(0,i.B8)(e[n]),o[n]=r.r||0,s[n]=r.g||0,c[n]=r.b||0;return o=t(o),s=t(s),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=c(t),r+""}}}c(r.Z),c(a.Z)},7351:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}},9893:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(9485),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=RegExp(r.source,"g");function o(t,e){var n,o,s,c,l,u=r.lastIndex=a.lastIndex=0,h=-1,d=[],f=[];for(t+="",e+="";(s=r.exec(t))&&(c=a.exec(e));)(l=c.index)>u&&(l=e.slice(u,l),d[h]?d[h]+=l:d[++h]=l),(s=s[0])===(c=c[0])?d[h]?d[h]+=c:d[++h]=c:(d[++h]=null,f.push({i:h,x:(0,i.Z)(s,c)})),u=a.lastIndex;return u<e.length&&(l=e.slice(u),d[h]?d[h]+=l:d[++h]=l),d.length<2?f[0]?(n=f[0].x,function(t){return n(t)+""}):(o=e,function(){return o}):(e=f.length,function(t){for(var n,i=0;i<e;++i)d[(n=f[i]).i]=n.x(t);return d.join("")})}},9243:(t,e,n)=>{n.d(e,{Z:()=>a,y:()=>r});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(t,e,n,r,a,o){var s,c,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(e,t)*i,skewX:Math.atan(l)*i,scaleX:s,scaleY:c}}},3828:(t,e,n)=>{n.d(e,{Y:()=>o,w:()=>s});var i=n(9485),r=n(3157);function a(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(o,s){var c,l,u,h,d=[],f=[];return o=t(o),s=t(s),!function(t,r,a,o,s,c){if(t!==a||r!==o){var l=s.push("translate(",null,e,null,n);c.push({i:l-4,x:(0,i.Z)(t,a)},{i:l-2,x:(0,i.Z)(r,o)})}else(a||o)&&s.push("translate("+a+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,d,f),(c=o.rotate)!==(l=s.rotate)?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:d.push(a(d)+"rotate(",null,r)-2,x:(0,i.Z)(c,l)})):l&&d.push(a(d)+"rotate("+l+r),(u=o.skewX)!==(h=s.skewX)?f.push({i:d.push(a(d)+"skewX(",null,r)-2,x:(0,i.Z)(u,h)}):h&&d.push(a(d)+"skewX("+h+r),!function(t,e,n,r,o,s){if(t!==n||e!==r){var c=o.push(a(o)+"scale(",null,",",null,")");s.push({i:c-4,x:(0,i.Z)(t,n)},{i:c-2,x:(0,i.Z)(e,r)})}else(1!==n||1!==r)&&o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,d,f),o=s=null,function(t){for(var e,n=-1,i=f.length;++n<i;)d[(e=f[n]).i]=e.x(t);return d.join("")}}}var o=a(r.z,"px, ","px)","deg)"),s=a(r.X,", ",")",")")},3157:(t,e,n)=>{n.d(e,{X:()=>o,z:()=>a});var i,r=n(9243);function a(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?r.y:(0,r.Z)(e.a,e.b,e.c,e.d,e.e,e.f)}function o(t){return null==t?r.y:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",t),t=i.transform.baseVal.consolidate())?(t=t.matrix,(0,r.Z)(t.a,t.b,t.c,t.d,t.e,t.f)):r.y}},2517:(t,e,n)=>{n.d(e,{Z:()=>d});var i=n(1387),r=n(1983),a=n(3421),o=n(4308),s=n(9485),c=n(4241),l=n(9893),u=n(9307),h=n(1395);function d(t,e){var n,d=typeof e;return null==e||"boolean"===d?(0,u.Z)(e):("number"===d?s.Z:"string"===d?(n=(0,i.ZP)(e))?(e=n,r.ZP):l.Z:e instanceof i.ZP?r.ZP:e instanceof Date?o.Z:(0,h.v)(e)?h.Z:Array.isArray(e)?a.M:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?c.Z:s.Z)(t,e)}},7173:(t,e,n)=>{function i(t){return((t=Math.exp(t))+1/t)/2}n.d(e,{Z:()=>r});let r=function t(e,n,r){function a(t,a){var o,s,c=t[0],l=t[1],u=t[2],h=a[0],d=a[1],f=a[2],g=h-c,p=d-l,v=g*g+p*p;if(v<1e-12)s=Math.log(f/u)/e,o=function(t){return[c+t*g,l+t*p,u*Math.exp(e*t*s)]};else{var _=Math.sqrt(v),x=(f*f-u*u+r*v)/(2*u*n*_),y=(f*f-u*u-r*v)/(2*f*n*_),m=Math.log(Math.sqrt(x*x+1)-x);s=(Math.log(Math.sqrt(y*y+1)-y)-m)/e,o=function(t){var r,a,o=t*s,h=i(m),d=u/(n*_)*(((r=Math.exp(2*(r=e*o+m)))-1)/(r+1)*h-((a=Math.exp(a=m))-1/a)/2);return[c+d*g,l+d*p,u*h/i(e*o+m)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return a.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},a}(Math.SQRT2,2,4)},963:(t,e,n)=>{n.d(e,{y$:()=>s});let i=Math.PI,r=2*i,a=r-1e-6;function o(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class s{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?o:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return o;let n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,r,a){this._append`C${+t},${+e},${+n},${+i},${this._x1=+r},${this._y1=+a}`}arcTo(t,e,n,r,a){if(t=+t,e=+e,n=+n,r=+r,(a=+a)<0)throw Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,l=r-e,u=o-t,h=s-e,d=u*u+h*h;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(d>1e-6){if(Math.abs(h*c-l*u)>1e-6&&a){let f=n-o,g=r-s,p=c*c+l*l,v=Math.sqrt(p),_=Math.sqrt(d),x=a*Math.tan((i-Math.acos((p+d-(f*f+g*g))/(2*v*_)))/2),y=x/_,m=x/v;Math.abs(y-1)>1e-6&&this._append`L${t+y*u},${e+y*h}`,this._append`A${a},${a},0,0,${+(h*f>u*g)},${this._x1=t+m*c},${this._y1=e+m*l}`}else this._append`L${this._x1=t},${this._y1=e}`}}arc(t,e,n,o,s,c){if(t=+t,e=+e,c=!!c,(n=+n)<0)throw Error(`negative radius: ${n}`);let l=n*Math.cos(o),u=n*Math.sin(o),h=t+l,d=e+u,f=1^c,g=c?o-s:s-o;null===this._x1?this._append`M${h},${d}`:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-d)>1e-6)&&this._append`L${h},${d}`,n&&(g<0&&(g=g%r+r),g>a?this._append`A${n},${n},0,1,${f},${t-l},${e-u}A${n},${n},0,1,${f},${this._x1=h},${this._y1=d}`:g>1e-6&&this._append`A${n},${n},0,${+(g>=i)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=e+n*Math.sin(s)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}s.prototype},3082:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return function(){return t}}},7118:(t,e,n)=>{n.d(e,{JG:()=>g,ZP:()=>v,l4:()=>p});var i=n(7544),r=n(2517),a=n(9485),o=n(7351),s=n(3082),c=n(7749),l=[0,1];function u(t){return t}function h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(0,s.Z)(isNaN(e)?NaN:.5)}function d(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=h(r,i),a=n(o,a)):(i=h(i,r),a=n(a,o)),function(t){return a(i(t))}}function f(t,e,n){var r=Math.min(t.length,e.length)-1,a=Array(r),o=Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=h(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=(0,i.ZP)(t,e,1,r)-1;return o[n](a[n](e))}}function g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function p(){var t,e,n,i,s,h,g=l,p=l,v=r.Z,_=u;function x(){var t,e,n,r=Math.min(g.length,p.length);return _!==u&&(t=g[0],e=g[r-1],t>e&&(n=t,t=e,e=n),_=function(n){return Math.max(t,Math.min(e,n))}),i=r>2?f:d,s=h=null,y}function y(e){return null==e||isNaN(e=+e)?n:(s||(s=i(g.map(t),p,v)))(t(_(e)))}return y.invert=function(n){return _(e((h||(h=i(p,g.map(t),a.Z)))(n)))},y.domain=function(t){return arguments.length?(g=Array.from(t,c.Z),x()):g.slice()},y.range=function(t){return arguments.length?(p=Array.from(t),x()):p.slice()},y.rangeRound=function(t){return p=Array.from(t),v=o.Z,x()},y.clamp=function(t){return arguments.length?(_=!!t||u,x()):_!==u},y.interpolate=function(t){return arguments.length?(v=t,x()):v},y.unknown=function(t){return arguments.length?(n=t,y):n},function(n,i){return t=n,e=i,x()}}function v(){return p()(u,u)}},1047:(t,e,n)=>{n.d(e,{o:()=>i});function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}},8363:(t,e,n)=>{n.d(e,{Q:()=>s,Z:()=>function t(){var e=(0,r.ZP)();return e.copy=function(){return(0,r.JG)(e,t())},a.o.apply(e,arguments),s(e)}});var i=n(1440),r=n(7118),a=n(1047),o=n(7617);function s(t){var e=t.domain;return t.ticks=function(t){var n=e();return(0,i.ZP)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return(0,o.Z)(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a,o=e(),s=0,c=o.length-1,l=o[s],u=o[c],h=10;for(u<l&&(a=l,l=u,u=a,a=s,s=c,c=a);h-- >0;){if((a=(0,i.G9)(l,u,n))===r)return o[s]=l,o[c]=u,e(o);if(a>0)l=Math.floor(l/a)*a,u=Math.ceil(u/a)*a;else if(a<0)l=Math.ceil(l*a)/a,u=Math.floor(u*a)/a;else break;r=a}return t},t}},8851:(t,e,n)=>{n.d(e,{Z:()=>function t(){let e=(function(t){let e,n;let s=t(l,u),c=s.domain,p=10;function v(){var i,r;return e=(i=p)===Math.E?Math.log:10===i&&Math.log10||2===i&&Math.log2||(i=Math.log(i),t=>Math.log(t)/i),n=10===(r=p)?f:r===Math.E?Math.exp:t=>Math.pow(r,t),c()[0]<0?(e=g(e),n=g(n),t(h,d)):t(l,u),s}return s.base=function(t){return arguments.length?(p=+t,v()):p},s.domain=function(t){return arguments.length?(c(t),v()):c()},s.ticks=t=>{let r,a;let o=c(),s=o[0],l=o[o.length-1],u=l<s;u&&([s,l]=[l,s]);let h=e(s),d=e(l),f=null==t?10:+t,g=[];if(!(p%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(r=1;r<p;++r)if(!((a=h<0?r/n(-h):r*n(h))<s)){if(a>l)break;g.push(a)}}else for(;h<=d;++h)for(r=p-1;r>=1;--r)if(!((a=h>0?r/n(-h):r*n(h))<s)){if(a>l)break;g.push(a)}2*g.length<f&&(g=(0,i.ZP)(s,l,f))}else g=(0,i.ZP)(h,d,Math.min(d-h,f)).map(n);return u?g.reverse():g},s.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===p?"s":","),"function"!=typeof i&&(p%1||null!=(i=(0,r.Z)(i)).precision||(i.trim=!0),i=(0,a.WU)(i)),t===1/0)return i;let o=Math.max(1,p*t/s.ticks().length);return t=>{let r=t/n(Math.round(e(t)));return r*p<p-.5&&(r*=p),r<=o?i(t):""}},s.nice=()=>c((0,o.Z)(c(),{floor:t=>n(Math.floor(e(t))),ceil:t=>n(Math.ceil(e(t)))})),s})((0,s.l4)()).domain([1,10]);return e.copy=()=>(0,s.JG)(e,t()).base(e.base()),c.o.apply(e,arguments),e}});var i=n(1440),r=n(2844),a=n(4037),o=n(4184),s=n(7118),c=n(1047);function l(t){return Math.log(t)}function u(t){return Math.exp(t)}function h(t){return-Math.log(-t)}function d(t){return-Math.exp(-t)}function f(t){return isFinite(t)?+("1e"+t):t<0?0:t}function g(t){return(e,n)=>-t(-e,n)}},4184:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){t=t.slice();var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}},7749:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return+t}},5021:(t,e,n)=>{n.d(e,{Z:()=>function t(){var e=new i.L,n=[],o=[],s=a;function c(t){let i=e.get(t);if(void 0===i){if(s!==a)return s;e.set(t,i=n.push(t)-1)}return o[i%o.length]}return c.domain=function(t){if(!arguments.length)return n.slice();for(let r of(n=[],e=new i.L,t))e.has(r)||e.set(r,n.push(r)-1);return c},c.range=function(t){return arguments.length?(o=Array.from(t),c):o.slice()},c.unknown=function(t){return arguments.length?(s=t,c):s},c.copy=function(){return t(n,o).unknown(s)},r.o.apply(c,arguments),c}});var i=n(1025),r=n(1047);let a=Symbol("implicit")},180:(t,e,n)=>{n.d(e,{Z:()=>function t(){var e,n,c,l=(e=(0,r.l4)(),n=1,(c=e(o(1),s(n))).constant=function(t){return arguments.length?e(o(n=+t),s(n)):n},(0,i.Q)(c));return l.copy=function(){return(0,r.JG)(l,t()).constant(l.constant())},a.o.apply(l,arguments)}});var i=n(8363),r=n(7118),a=n(1047);function o(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function s(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}},7617:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(1440),r=n(2844),a=n(5480),o=n(4037),s=n(5042),c=n(6067);function l(t,e,n,l){var u,h=(0,i.ly)(t,e,n);switch((l=(0,r.Z)(null==l?",f":l)).type){case"s":var d=Math.max(Math.abs(t),Math.abs(e));return null!=l.precision||isNaN(u=(0,a.Z)(h,d))||(l.precision=u),(0,o.jH)(l,d);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(u=(0,s.Z)(h,Math.max(Math.abs(t),Math.abs(e))))||(l.precision=u-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(u=(0,c.Z)(h))||(l.precision=u-("%"===l.type)*2)}return(0,o.WU)(l)}},6195:(t,e,n)=>{n.d(e,{Y:()=>_,Z:()=>x});var i=n(2384),r=n(7911),a=n(2990),o=n(1473),s=n(2466),c=n(3430),l=n(9501),u=n(6241),h=n(5891),d=n(7118),f=n(1047),g=n(4184);function p(t){return new Date(t)}function v(t){return t instanceof Date?+t:+new Date(+t)}function _(t,e,n,i,r,a,o,s,c,l){var u=(0,d.ZP)(),h=u.invert,f=u.domain,x=l(".%L"),y=l(":%S"),m=l("%I:%M"),b=l("%I %p"),T=l("%a %d"),w=l("%b %d"),k=l("%B"),A=l("%Y");function Z(t){return(c(t)<t?x:s(t)<t?y:o(t)<t?m:a(t)<t?b:i(t)<t?r(t)<t?T:w:n(t)<t?k:A)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(Array.from(t,v)):f().map(p)},u.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?Z:l(e)},u.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f((0,g.Z)(n,t)):u},u.copy=function(){return(0,d.JG)(u,_(t,e,n,i,r,a,o,s,c,l))},u}function x(){return f.o.apply(_(i.jK,i._g,r.jB,a.F0,o.Zy,s.rr,c.WQ,l.Z_,u.E,h.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},6751:(t,e,n)=>{n.d(e,{Z:()=>g});var i=n(2384),r=n(7911),a=n(2990),o=n(1473),s=n(2466),c=n(3430),l=n(9501),u=n(6241),h=n(5891),d=n(6195),f=n(1047);function g(){return f.o.apply((0,d.Y)(i.WG,i.jo,r.ol,a.me,o.pI,s.AN,c.lM,l.rz,u.E,h.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},3187:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}},2081:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return function(){return t}}},7217:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(5766),r=n(775);function a(t){var e=(0,i.Z)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r.P&&e.documentElement.namespaceURI===r.P?e.createElement(t):e.createElementNS(n,t)}})(e)}},1314:(t,e,n)=>{function i(t){return function(){return this.matches(t)}}function r(t){return function(e){return e.matches(t)}}n.d(e,{P:()=>r,Z:()=>i})},5766:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(775);function r(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.Z.hasOwnProperty(e)?{space:i.Z[e],local:t}:t}},775:(t,e,n)=>{n.d(e,{P:()=>i,Z:()=>r});var i="http://www.w3.org/1999/xhtml";let r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},3968:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8825);function r(t,e){if(t=(0,i.Z)(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}},8869:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(3212);function r(t){return"string"==typeof t?new i.Y1([[document.querySelector(t)]],[document.documentElement]):new i.Y1([[t]],i.Jz)}},2781:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(3187),r=n(3212);function a(t){return"string"==typeof t?new r.Y1([document.querySelectorAll(t)],[document.documentElement]):new r.Y1([(0,i.Z)(t)],r.Jz)}},7908:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(7217);function r(t){var e="function"==typeof t?t:(0,i.Z)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},9779:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5766);function r(t,e){var n=(0,i.Z)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},168:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},150:(t,e,n)=>{function i(t){return t.trim().split(/^|\s+/)}function r(t){return t.classList||new a(t)}function a(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function o(t,e){for(var n=r(t),i=-1,a=e.length;++i<a;)n.add(e[i])}function s(t,e){for(var n=r(t),i=-1,a=e.length;++i<a;)n.remove(e[i])}function c(t,e){var n=i(t+"");if(arguments.length<2){for(var a=r(this.node()),c=-1,l=n.length;++c<l;)if(!a.contains(n[c]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?o:s)(this,t)}}:e?function(t){return function(){o(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}n.d(e,{Z:()=>c}),a.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}},4823:(t,e,n)=>{function i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function a(t){return this.select(t?r:i)}n.d(e,{Z:()=>a})},5064:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(3212),r=n(5043),a=n(2081);function o(t,e,n,i,a,o){for(var s,c=0,l=e.length,u=o.length;c<u;++c)(s=e[c])?(s.__data__=o[c],i[c]=s):n[c]=new r.F(t,o[c]);for(;c<l;++c)(s=e[c])&&(a[c]=s)}function s(t,e,n,i,a,o,s){var c,l,u,h=new Map,d=e.length,f=o.length,g=Array(d);for(c=0;c<d;++c)(l=e[c])&&(g[c]=u=s.call(l,l.__data__,c,e)+"",h.has(u)?a[c]=l:h.set(u,l));for(c=0;c<f;++c)u=s.call(t,o[c],c,o)+"",(l=h.get(u))?(i[c]=l,l.__data__=o[c],h.delete(u)):n[c]=new r.F(t,o[c]);for(c=0;c<d;++c)(l=e[c])&&h.get(g[c])===l&&(a[c]=l)}function c(t){return t.__data__}function l(t,e){if(!arguments.length)return Array.from(this,c);var n=e?s:o,r=this._parents,l=this._groups;"function"!=typeof t&&(t=(0,a.Z)(t));for(var u=l.length,h=Array(u),d=Array(u),f=Array(u),g=0;g<u;++g){var p=r[g],v=l[g],_=v.length,x="object"==typeof(T=t.call(p,p&&p.__data__,g,r))&&"length"in T?T:Array.from(T),y=x.length,m=d[g]=Array(y),b=h[g]=Array(y);n(p,v,m,b,f[g]=Array(_),x,e);for(var T,w,k,A=0,Z=0;A<y;++A)if(w=m[A]){for(A>=Z&&(Z=A+1);!(k=b[Z])&&++Z<y;);w._next=k||null}}return(h=new i.Y1(h,r))._enter=d,h._exit=f,h}},9095:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return arguments.length?this.property("__data__",t):this.node().__data__}},1552:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(8057);function r(t,e,n){var r=(0,i.Z)(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function a(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return r(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return r(this,t,e)}})(t,e))}},2267:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this}},1319:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){return!this.node()}},5043:(t,e,n)=>{n.d(e,{F:()=>o,Z:()=>a});var i=n(8131),r=n(3212);function a(){return new r.Y1(this._enter||this._groups.map(i.Z),this._parents)}function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},7314:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(8131),r=n(3212);function a(){return new r.Y1(this._exit||this._groups.map(i.Z),this._parents)}},8500:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(3212),r=n(1314);function a(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,a=Array(n),o=0;o<n;++o)for(var s,c=e[o],l=c.length,u=a[o]=[],h=0;h<l;++h)(s=c[h])&&t.call(s,s.__data__,h,c)&&u.push(s);return new i.Y1(a,this._parents)}},692:(t,e,n)=>{function i(){this.innerHTML=""}function r(t){return arguments.length?this.each(null==t?i:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}n.d(e,{Z:()=>r})},3212:(t,e,n)=>{n.d(e,{Jz:()=>O,Y1:()=>$,ZP:()=>N});var i=n(5698),r=n(9253),a=n(4438),o=n(3657),s=n(8500),c=n(5064),l=n(5043),u=n(7314),h=n(715),d=n(9450),f=n(6521),g=n(9013),p=n(168),v=n(1753),_=n(8450),x=n(9876),y=n(1319),m=n(2267),b=n(9779),T=n(8505),w=n(7406),k=n(150),A=n(118),Z=n(692),S=n(772),C=n(4788),E=n(7908),M=n(4589),L=n(4378),R=n(4823),D=n(9095),P=n(8948),z=n(1552),I=n(6925),O=[null];function $(t,e){this._groups=t,this._parents=e}function X(){return new $([[document.documentElement]],O)}$.prototype=X.prototype={constructor:$,select:i.Z,selectAll:r.Z,selectChild:a.Z,selectChildren:o.Z,filter:s.Z,data:c.Z,enter:l.Z,exit:u.Z,join:h.Z,merge:d.Z,selection:function(){return this},order:f.Z,sort:g.Z,call:p.Z,nodes:v.Z,node:_.Z,size:x.Z,empty:y.Z,each:m.Z,attr:b.Z,style:T.Z,property:w.Z,classed:k.Z,text:A.Z,html:Z.Z,raise:S.Z,lower:C.Z,append:E.Z,insert:M.Z,remove:L.Z,clone:R.Z,datum:D.Z,on:P.Z,dispatch:z.Z,[Symbol.iterator]:I.Z};let N=X},4589:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(7217),r=n(5419);function a(){return null}function o(t,e){var n="function"==typeof t?t:(0,i.Z)(t),o=null==e?a:"function"==typeof e?e:(0,r.Z)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}},6925:(t,e,n)=>{n.d(e,{Z:()=>i});function*i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,o=r.length;a<o;++a)(i=r[a])&&(yield i)}},715:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r}},4788:(t,e,n)=>{function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},9450:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(3212);function r(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,o=r.length,s=Math.min(a,o),c=Array(a),l=0;l<s;++l)for(var u,h=n[l],d=r[l],f=h.length,g=c[l]=Array(f),p=0;p<f;++p)(u=h[p]||d[p])&&(g[p]=u);for(;l<a;++l)c[l]=n[l];return new i.Y1(c,this._parents)}},8450:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}},1753:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){return Array.from(this)}},8948:(t,e,n)=>{function i(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)(n=e[i],t.type&&n.type!==t.type||n.name!==t.name)?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function r(t,e,n){return function(){var i,r=this.__on,a=function(t){e.call(this,t,this.__data__)};if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function a(t,e,n){var a,o,s=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),c=s.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var u,h=0,d=l.length;h<d;++h)for(a=0,u=l[h];a<c;++a)if((o=s[a]).type===u.type&&o.name===u.name)return u.value}return}for(a=0,l=e?r:i;a<c;++a)this.each(l(s[a],e,n));return this}n.d(e,{Z:()=>a})},6521:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this}},7406:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},772:(t,e,n)=>{function i(){this.nextSibling&&this.parentNode.appendChild(this)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},4378:(t,e,n)=>{function i(){var t=this.parentNode;t&&t.removeChild(this)}function r(){return this.each(i)}n.d(e,{Z:()=>r})},5698:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(3212),r=n(5419);function a(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,a=Array(n),o=0;o<n;++o)for(var s,c,l=e[o],u=l.length,h=a[o]=Array(u),d=0;d<u;++d)(s=l[d])&&(c=t.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c);return new i.Y1(a,this._parents)}},9253:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(3212),r=n(3187),a=n(4869);function o(t){if("function"==typeof t){var e;e=t,t=function(){return(0,r.Z)(e.apply(this,arguments))}}else t=(0,a.Z)(t);for(var n=this._groups,o=n.length,s=[],c=[],l=0;l<o;++l)for(var u,h=n[l],d=h.length,f=0;f<d;++f)(u=h[f])&&(s.push(t.call(u,u.__data__,f,h)),c.push(u));return new i.Y1(s,c)}},4438:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(1314),r=Array.prototype.find;function a(){return this.firstElementChild}function o(t){var e;return this.select(null==t?a:(e="function"==typeof t?t:(0,i.P)(t),function(){return r.call(this.children,e)}))}},3657:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(1314),r=Array.prototype.filter;function a(){return Array.from(this.children)}function o(t){var e;return this.selectAll(null==t?a:(e="function"==typeof t?t:(0,i.P)(t),function(){return r.call(this.children,e)}))}},9876:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){let t=0;for(let e of this)++t;return t}},9013:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(3212);function r(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=a);for(var n=this._groups,r=n.length,o=Array(r),s=0;s<r;++s){for(var c,l=n[s],u=l.length,h=o[s]=Array(u),d=0;d<u;++d)(c=l[d])&&(h[d]=c);h.sort(e)}return new i.Y1(o,this._parents).order()}function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},8131:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return Array(t.length)}},8505:(t,e,n)=>{n.d(e,{S:()=>a,Z:()=>r});var i=n(8057);function r(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):a(this.node(),t)}function a(t,e){return t.style.getPropertyValue(e)||(0,i.Z)(t).getComputedStyle(t,null).getPropertyValue(e)}},118:(t,e,n)=>{function i(){this.textContent=""}function r(t){return arguments.length?this.each(null==t?i:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}n.d(e,{Z:()=>r})},5419:(t,e,n)=>{function i(){}function r(t){return null==t?i:function(){return this.querySelector(t)}}n.d(e,{Z:()=>r})},4869:(t,e,n)=>{function i(){return[]}function r(t){return null==t?i:function(){return this.querySelectorAll(t)}}n.d(e,{Z:()=>r})},8825:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){let e;for(;e=t.sourceEvent;)t=e;return t}},8057:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},8537:(t,e,n)=>{n.d(e,{Z:()=>d});var i=n(244),r=n(3037),a=n(8488);function o(t){return t.innerRadius}function s(t){return t.outerRadius}function c(t){return t.startAngle}function l(t){return t.endAngle}function u(t){return t&&t.padAngle}function h(t,e,n,i,a,o,s){var c=t-n,l=e-i,u=(s?o:-o)/(0,r._b)(c*c+l*l),h=u*l,d=-u*c,f=t+h,g=e+d,p=n+h,v=i+d,_=(f+p)/2,x=(g+v)/2,y=p-f,m=v-g,b=y*y+m*m,T=a-o,w=f*v-p*g,k=(m<0?-1:1)*(0,r._b)((0,r.Fp)(0,T*T*b-w*w)),A=(w*m-y*k)/b,Z=(-w*y-m*k)/b,S=(w*m+y*k)/b,C=(-w*y+m*k)/b,E=A-_,M=Z-x,L=S-_,R=C-x;return E*E+M*M>L*L+R*R&&(A=S,Z=C),{cx:A,cy:Z,x01:-h,y01:-d,x11:A*(a/T-1),y11:Z*(a/T-1)}}function d(){var t=o,e=s,n=(0,i.Z)(0),d=null,f=c,g=l,p=u,v=null,_=(0,a.d)(x);function x(){var i,a,o=+t.apply(this,arguments),s=+e.apply(this,arguments),c=f.apply(this,arguments)-r.ou,l=g.apply(this,arguments)-r.ou,u=(0,r.Wn)(l-c),x=l>c;if(v||(v=i=_()),s<o&&(a=s,s=o,o=a),s>r.Ho){if(u>r.BZ-r.Ho)v.moveTo(s*(0,r.mC)(c),s*(0,r.O$)(c)),v.arc(0,0,s,c,l,!x),o>r.Ho&&(v.moveTo(o*(0,r.mC)(l),o*(0,r.O$)(l)),v.arc(0,0,o,l,c,x));else{var y,m,b=c,T=l,w=c,k=l,A=u,Z=u,S=p.apply(this,arguments)/2,C=S>r.Ho&&(d?+d.apply(this,arguments):(0,r._b)(o*o+s*s)),E=(0,r.VV)((0,r.Wn)(s-o)/2,+n.apply(this,arguments)),M=E,L=E;if(C>r.Ho){var R=(0,r.ZR)(C/o*(0,r.O$)(S)),D=(0,r.ZR)(C/s*(0,r.O$)(S));(A-=2*R)>r.Ho?(R*=x?1:-1,w+=R,k-=R):(A=0,w=k=(c+l)/2),(Z-=2*D)>r.Ho?(D*=x?1:-1,b+=D,T-=D):(Z=0,b=T=(c+l)/2)}var P=s*(0,r.mC)(b),z=s*(0,r.O$)(b),I=o*(0,r.mC)(k),O=o*(0,r.O$)(k);if(E>r.Ho){var $,X=s*(0,r.mC)(T),N=s*(0,r.O$)(T),F=o*(0,r.mC)(w),B=o*(0,r.O$)(w);if(u<r.pi){if($=function(t,e,n,i,a,o,s,c){var l=n-t,u=i-e,h=s-a,d=c-o,f=d*l-h*u;if(!(f*f<r.Ho))return f=(h*(e-o)-d*(t-a))/f,[t+f*l,e+f*u]}(P,z,F,B,X,N,I,O)){var Y=P-$[0],U=z-$[1],V=X-$[0],H=N-$[1],j=1/(0,r.O$)((0,r.Kh)((Y*V+U*H)/((0,r._b)(Y*Y+U*U)*(0,r._b)(V*V+H*H)))/2),G=(0,r._b)($[0]*$[0]+$[1]*$[1]);M=(0,r.VV)(E,(o-G)/(j-1)),L=(0,r.VV)(E,(s-G)/(j+1))}else M=L=0}}Z>r.Ho?L>r.Ho?(y=h(F,B,P,z,s,L,x),m=h(X,N,I,O,s,L,x),v.moveTo(y.cx+y.x01,y.cy+y.y01),L<E?v.arc(y.cx,y.cy,L,(0,r.fv)(y.y01,y.x01),(0,r.fv)(m.y01,m.x01),!x):(v.arc(y.cx,y.cy,L,(0,r.fv)(y.y01,y.x01),(0,r.fv)(y.y11,y.x11),!x),v.arc(0,0,s,(0,r.fv)(y.cy+y.y11,y.cx+y.x11),(0,r.fv)(m.cy+m.y11,m.cx+m.x11),!x),v.arc(m.cx,m.cy,L,(0,r.fv)(m.y11,m.x11),(0,r.fv)(m.y01,m.x01),!x))):(v.moveTo(P,z),v.arc(0,0,s,b,T,!x)):v.moveTo(P,z),o>r.Ho&&A>r.Ho?M>r.Ho?(y=h(I,O,X,N,o,-M,x),m=h(P,z,F,B,o,-M,x),v.lineTo(y.cx+y.x01,y.cy+y.y01),M<E?v.arc(y.cx,y.cy,M,(0,r.fv)(y.y01,y.x01),(0,r.fv)(m.y01,m.x01),!x):(v.arc(y.cx,y.cy,M,(0,r.fv)(y.y01,y.x01),(0,r.fv)(y.y11,y.x11),!x),v.arc(0,0,o,(0,r.fv)(y.cy+y.y11,y.cx+y.x11),(0,r.fv)(m.cy+m.y11,m.cx+m.x11),x),v.arc(m.cx,m.cy,M,(0,r.fv)(m.y11,m.x11),(0,r.fv)(m.y01,m.x01),!x))):v.arc(0,0,o,k,w,x):v.lineTo(I,O)}}else v.moveTo(0,0);if(v.closePath(),i)return v=null,i+""||null}return x.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-r.pi/2;return[(0,r.mC)(i)*n,(0,r.O$)(i)*n]},x.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.Z)(+e),x):t},x.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.Z)(+t),x):e},x.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:(0,i.Z)(+t),x):n},x.padRadius=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:(0,i.Z)(+t),x):d},x.startAngle=function(t){return arguments.length?(f="function"==typeof t?t:(0,i.Z)(+t),x):f},x.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:(0,i.Z)(+t),x):g},x.padAngle=function(t){return arguments.length?(p="function"==typeof t?t:(0,i.Z)(+t),x):p},x.context=function(t){return arguments.length?(v=null==t?null:t,x):v},x}},4137:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(3590),r=n(244),a=n(5838),o=n(5741),s=n(8488),c=n(3962);function l(t,e,n){var l=null,u=(0,r.Z)(!0),h=null,d=a.Z,f=null,g=(0,s.d)(p);function p(r){var a,o,s,c,p,v=(r=(0,i.Z)(r)).length,_=!1,x=Array(v),y=Array(v);for(null==h&&(f=d(p=g())),a=0;a<=v;++a){if(!(a<v&&u(c=r[a],a,r))===_){if(_=!_)o=a,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=a-1;s>=o;--s)f.point(x[s],y[s]);f.lineEnd(),f.areaEnd()}}_&&(x[a]=+t(c,a,r),y[a]=+e(c,a,r),f.point(l?+l(c,a,r):x[a],n?+n(c,a,r):y[a]))}if(p)return f=null,p+""||null}function v(){return(0,o.Z)().defined(u).curve(d).context(h)}return t="function"==typeof t?t:void 0===t?c.x:(0,r.Z)(+t),e="function"==typeof e?e:void 0===e?(0,r.Z)(0):(0,r.Z)(+e),n="function"==typeof n?n:void 0===n?c.y:(0,r.Z)(+n),p.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),l=null,p):t},p.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),p):t},p.x1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:(0,r.Z)(+t),p):l},p.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),n=null,p):e},p.y0=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),p):e},p.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:(0,r.Z)(+t),p):n},p.lineX0=p.lineY0=function(){return v().x(t).y(e)},p.lineY1=function(){return v().x(t).y(n)},p.lineX1=function(){return v().x(l).y(e)},p.defined=function(t){return arguments.length?(u="function"==typeof t?t:(0,r.Z)(!!t),p):u},p.curve=function(t){return arguments.length?(d=t,null!=h&&(f=d(h)),p):d},p.context=function(t){return arguments.length?(null==t?h=f=null:f=d(h=t),p):h},p}},3590:(t,e,n)=>{function i(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}n.d(e,{Z:()=>i}),Array.prototype.slice},244:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return function(){return t}}},2067:(t,e,n)=>{function i(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r(t){this._context=t}function a(t){return new r(t)}n.d(e,{ZP:()=>a,fE:()=>r,xm:()=>i}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},4887:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(2697),r=n(2067);function a(t){this._context=t}function o(t){return new a(t)}a.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:(0,r.xm)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},262:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(2067);function r(t){this._context=t}function a(t){return new r(t)}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:(0,i.xm)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},7303:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(2067);function r(t,e){this._basis=new i.fE(t),this._beta=e}r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,c=-1;++c<=n;)i=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*o),this._beta*e[c]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};let a=function t(e){function n(t){return 1===e?new i.fE(t):new r(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},7112:(t,e,n)=>{function i(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function r(t,e){this._context=t,this._k=(1-e)/6}n.d(e,{ZP:()=>a,pC:()=>r,xm:()=>i}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:i(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let a=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},9132:(t,e,n)=>{n.d(e,{U:()=>a,Z:()=>o});var i=n(2697),r=n(7112);function a(t,e){this._context=t,this._k=(1-e)/6}a.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:(0,r.xm)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let o=function t(e){function n(t){return new a(t,e)}return n.tension=function(e){return t(+e)},n}(0)},6768:(t,e,n)=>{n.d(e,{T:()=>r,Z:()=>a});var i=n(7112);function r(t,e){this._context=t,this._k=(1-e)/6}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.xm)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let a=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},1364:(t,e,n)=>{n.d(e,{Z:()=>s,x:()=>a});var i=n(3037),r=n(7112);function a(t,e,n){var r=t._x1,a=t._y1,o=t._x2,s=t._y2;if(t._l01_a>i.Ho){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,a=(a*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>i.Ho){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,a,o,s,t._x2,t._y2)}function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let s=function t(e){function n(t){return e?new o(t,e):new r.pC(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},986:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(9132),r=n(2697),a=n(1364);function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:(0,a.x)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let s=function t(e){function n(t){return e?new o(t,e):new i.U(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},6443:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(6768),r=n(1364);function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.x)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let o=function t(e){function n(t){return e?new a(t,e):new i.T(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},5838:(t,e,n)=>{function i(t){this._context=t}function r(t){return new i(t)}n.d(e,{Z:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}},8829:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(2697);function r(t){this._context=t}function a(t){return new r(t)}r.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}}},8428:(t,e,n)=>{function i(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0);return((a<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs((a*r+o*i)/(i+r)))||0}function r(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function o(t){this._context=t}function s(t){this._context=new c(t)}function c(t){this._context=t}function l(t){return new o(t)}function u(t){return new s(t)}n.d(e,{Z:()=>l,s:()=>u}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,r(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,r(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(s.prototype=Object.create(o.prototype)).point=function(t,e){o.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}}},1485:(t,e,n)=>{function i(t){this._context=t}function r(t){var e,n,i=t.length-1,r=Array(i),a=Array(i),o=Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(e=0,a[i-1]=(t[i]+r[i-1])/2;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function a(t){return new i(t)}n.d(e,{Z:()=>a}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n){if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=r(t),a=r(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],t[s],e[s])}(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}}},4071:(t,e,n)=>{function i(t,e){this._context=t,this._t=e}function r(t){return new i(t,.5)}function a(t){return new i(t,0)}function o(t){return new i(t,1)}n.d(e,{RN:()=>a,ZP:()=>r,cD:()=>o}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}}},5116:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},1082:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){return t}},5741:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(3590),r=n(244),a=n(5838),o=n(8488),s=n(3962);function c(t,e){var n=(0,r.Z)(!0),c=null,l=a.Z,u=null,h=(0,o.d)(d);function d(r){var a,o,s,d=(r=(0,i.Z)(r)).length,f=!1;for(null==c&&(u=l(s=h())),a=0;a<=d;++a)!(a<d&&n(o=r[a],a,r))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+t(o,a,r),+e(o,a,r));if(s)return u=null,s+""||null}return t="function"==typeof t?t:void 0===t?s.x:(0,r.Z)(t),e="function"==typeof e?e:void 0===e?s.y:(0,r.Z)(e),d.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),d):t},d.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),d):e},d.defined=function(t){return arguments.length?(n="function"==typeof t?t:(0,r.Z)(!!t),d):n},d.curve=function(t){return arguments.length?(l=t,null!=c&&(u=l(c)),d):l},d.context=function(t){return arguments.length?(null==t?c=u=null:u=l(c=t),d):c},d}},3037:(t,e,n)=>{n.d(e,{BZ:()=>f,Fp:()=>o,Ho:()=>u,Kh:()=>g,O$:()=>c,VV:()=>s,Wn:()=>i,ZR:()=>p,_b:()=>l,fv:()=>r,mC:()=>a,ou:()=>d,pi:()=>h});let i=Math.abs,r=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,c=Math.sin,l=Math.sqrt,u=1e-12,h=Math.PI,d=h/2,f=2*h;function g(t){return t>1?0:t<-1?h:Math.acos(t)}function p(t){return t>=1?d:t<=-1?-d:Math.asin(t)}},2697:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){}},8488:(t,e,n)=>{n.d(e,{d:()=>r});var i=n(963);function r(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{let t=Math.floor(n);if(!(t>=0))throw RangeError(`invalid digits: ${n}`);e=t}return t},()=>new i.y$(e)}},7430:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(3590),r=n(244),a=n(5116),o=n(1082),s=n(3037);function c(){var t=o.Z,e=a.Z,n=null,c=(0,r.Z)(0),l=(0,r.Z)(s.BZ),u=(0,r.Z)(0);function h(r){var a,o,h,d,f,g=(r=(0,i.Z)(r)).length,p=0,v=Array(g),_=Array(g),x=+c.apply(this,arguments),y=Math.min(s.BZ,Math.max(-s.BZ,l.apply(this,arguments)-x)),m=Math.min(Math.abs(y)/g,u.apply(this,arguments)),b=m*(y<0?-1:1);for(a=0;a<g;++a)(f=_[v[a]=a]=+t(r[a],a,r))>0&&(p+=f);for(null!=e?v.sort(function(t,n){return e(_[t],_[n])}):null!=n&&v.sort(function(t,e){return n(r[t],r[e])}),a=0,h=p?(y-g*b)/p:0;a<g;++a,x=d)d=x+((f=_[o=v[a]])>0?f*h:0)+b,_[o]={data:r[o],index:a,value:f,startAngle:x,endAngle:d,padAngle:m};return _}return h.value=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),h):t},h.sortValues=function(t){return arguments.length?(e=t,n=null,h):e},h.sort=function(t){return arguments.length?(n=t,e=null,h):n},h.startAngle=function(t){return arguments.length?(c="function"==typeof t?t:(0,r.Z)(+t),h):c},h.endAngle=function(t){return arguments.length?(l="function"==typeof t?t:(0,r.Z)(+t),h):l},h.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:(0,r.Z)(+t),h):u},h}},3962:(t,e,n)=>{function i(t){return t[0]}function r(t){return t[1]}n.d(e,{x:()=>i,y:()=>r})},5891:(t,e,n)=>{var i,r,a,o,s;n.d(e,{Z1:()=>a,g0:()=>o,i$:()=>r,wp:()=>s}),r=(i=(0,n(9271).Z)({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,a=i.parse,o=i.utcFormat,s=i.utcParse},9271:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(1473),r=n(2466),a=n(7911);function o(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function c(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function l(t){var e=t.dateTime,n=t.date,a=t.time,l=t.periods,h=t.days,d=t.shortDays,f=t.months,g=t.shortMonths,p=v(l),W=_(l),tp=v(h),tS=_(h),tC=v(d),tE=_(d),tM=v(f),tL=_(f),tR=v(g),tD=_(g),tP={a:function(t){return d[t.getDay()]},A:function(t){return h[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:$,e:$,f:Y,g:tt,G:tn,H:X,I:N,j:F,L:B,m:U,M:V,p:function(t){return l[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:tA,s:tZ,S:H,u:j,U:G,V:q,w:J,W:K,x:null,X:null,y:Q,Y:te,Z:ti,"%":tk},tz={a:function(t){return d[t.getUTCDay()]},A:function(t){return h[t.getUTCDay()]},b:function(t){return g[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:tr,e:tr,f:tl,g:tm,G:tT,H:ta,I:to,j:ts,L:tc,m:tu,M:th,p:function(t){return l[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:tA,s:tZ,S:td,u:tf,U:tg,V:tv,w:t_,W:tx,x:null,X:null,y:ty,Y:tb,Z:tw,"%":tk},tI={a:function(t,e,n){var i=tC.exec(e.slice(n));return i?(t.w=tE.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=tp.exec(e.slice(n));return i?(t.w=tS.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=tR.exec(e.slice(n));return i?(t.m=tD.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=tM.exec(e.slice(n));return i?(t.m=tL.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return tX(t,e,n,i)},d:C,e:C,f:P,g:k,G:w,H:M,I:M,j:E,L:D,m:S,M:L,p:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.p=W.get(i[0].toLowerCase()),n+i[0].length):-1},q:Z,Q:I,s:O,S:R,u:y,U:m,V:b,w:x,W:T,x:function(t,e,i){return tX(t,n,e,i)},X:function(t,e,n){return tX(t,a,e,n)},y:k,Y:w,Z:A,"%":z};function tO(t,e){return function(n){var i,r,a,o=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=u[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),o.push(i),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function t$(t,e){return function(n){var a,l,u=c(1900,void 0,1);if(tX(u,t,n+="",0)!=n.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(!e||"Z"in u||(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(a=(l=(a=s(c(u.y,0,1))).getUTCDay())>4||0===l?i.l6.ceil(a):(0,i.l6)(a),a=r.AN.offset(a,(u.V-1)*7),u.y=a.getUTCFullYear(),u.m=a.getUTCMonth(),u.d=a.getUTCDate()+(u.w+6)%7):(a=(l=(a=o(c(u.y,0,1))).getDay())>4||0===l?i.Ox.ceil(a):(0,i.Ox)(a),a=r.rr.offset(a,(u.V-1)*7),u.y=a.getFullYear(),u.m=a.getMonth(),u.d=a.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?s(c(u.y,0,1)).getUTCDay():o(c(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,s(u)):o(u)}}function tX(t,e,n,i){for(var r,a,o=0,s=e.length,c=n.length;o<s;){if(i>=c)return -1;if(37===(r=e.charCodeAt(o++))){if(!(a=tI[(r=e.charAt(o++))in u?e.charAt(o++):r])||(i=a(t,n,i))<0)return -1}else if(r!=n.charCodeAt(i++))return -1}return i}return tP.x=tO(n,tP),tP.X=tO(a,tP),tP.c=tO(e,tP),tz.x=tO(n,tz),tz.X=tO(a,tz),tz.c=tO(e,tz),{format:function(t){var e=tO(t+="",tP);return e.toString=function(){return t},e},parse:function(t){var e=t$(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=tO(t+="",tz);return e.toString=function(){return t},e},utcParse:function(t){var e=t$(t+="",!0);return e.toString=function(){return t},e}}}var u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,d=/^%/,f=/[\\^$*+?|[\]().{}]/g;function g(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?Array(n-a+1).join(e)+r:r)}function p(t){return t.replace(f,"\\$&")}function v(t){return RegExp("^(?:"+t.map(p).join("|")+")","i")}function _(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function x(t,e,n){var i=h.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function y(t,e,n){var i=h.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function m(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function b(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function T(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function w(t,e,n){var i=h.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function k(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function A(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Z(t,e,n){var i=h.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function S(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function C(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function E(t,e,n){var i=h.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function M(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function L(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function R(t,e,n){var i=h.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function D(t,e,n){var i=h.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function P(t,e,n){var i=h.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function z(t,e,n){var i=d.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function I(t,e,n){var i=h.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function O(t,e,n){var i=h.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function $(t,e){return g(t.getDate(),e,2)}function X(t,e){return g(t.getHours(),e,2)}function N(t,e){return g(t.getHours()%12||12,e,2)}function F(t,e){return g(1+r.rr.count((0,a.jB)(t),t),e,3)}function B(t,e){return g(t.getMilliseconds(),e,3)}function Y(t,e){return B(t,e)+"000"}function U(t,e){return g(t.getMonth()+1,e,2)}function V(t,e){return g(t.getMinutes(),e,2)}function H(t,e){return g(t.getSeconds(),e,2)}function j(t){var e=t.getDay();return 0===e?7:e}function G(t,e){return g(i.Zy.count((0,a.jB)(t)-1,t),e,2)}function W(t){var e=t.getDay();return e>=4||0===e?(0,i.Ig)(t):i.Ig.ceil(t)}function q(t,e){return t=W(t),g(i.Ig.count((0,a.jB)(t),t)+(4===(0,a.jB)(t).getDay()),e,2)}function J(t){return t.getDay()}function K(t,e){return g(i.Ox.count((0,a.jB)(t)-1,t),e,2)}function Q(t,e){return g(t.getFullYear()%100,e,2)}function tt(t,e){return g((t=W(t)).getFullYear()%100,e,2)}function te(t,e){return g(t.getFullYear()%1e4,e,4)}function tn(t,e){var n=t.getDay();return g((t=n>=4||0===n?(0,i.Ig)(t):i.Ig.ceil(t)).getFullYear()%1e4,e,4)}function ti(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+g(e/60|0,"0",2)+g(e%60,"0",2)}function tr(t,e){return g(t.getUTCDate(),e,2)}function ta(t,e){return g(t.getUTCHours(),e,2)}function to(t,e){return g(t.getUTCHours()%12||12,e,2)}function ts(t,e){return g(1+r.AN.count((0,a.ol)(t),t),e,3)}function tc(t,e){return g(t.getUTCMilliseconds(),e,3)}function tl(t,e){return tc(t,e)+"000"}function tu(t,e){return g(t.getUTCMonth()+1,e,2)}function th(t,e){return g(t.getUTCMinutes(),e,2)}function td(t,e){return g(t.getUTCSeconds(),e,2)}function tf(t){var e=t.getUTCDay();return 0===e?7:e}function tg(t,e){return g(i.pI.count((0,a.ol)(t)-1,t),e,2)}function tp(t){var e=t.getUTCDay();return e>=4||0===e?(0,i.hB)(t):i.hB.ceil(t)}function tv(t,e){return t=tp(t),g(i.hB.count((0,a.ol)(t),t)+(4===(0,a.ol)(t).getUTCDay()),e,2)}function t_(t){return t.getUTCDay()}function tx(t,e){return g(i.l6.count((0,a.ol)(t)-1,t),e,2)}function ty(t,e){return g(t.getUTCFullYear()%100,e,2)}function tm(t,e){return g((t=tp(t)).getUTCFullYear()%100,e,2)}function tb(t,e){return g(t.getUTCFullYear()%1e4,e,4)}function tT(t,e){var n=t.getUTCDay();return g((t=n>=4||0===n?(0,i.hB)(t):i.hB.ceil(t)).getUTCFullYear()%1e4,e,4)}function tw(){return"+0000"}function tk(){return"%"}function tA(t){return+t}function tZ(t){return Math.floor(+t/1e3)}},2466:(t,e,n)=>{n.d(e,{AN:()=>o,KB:()=>s,rr:()=>a});var i=n(7401),r=n(6058);let a=(0,i.J)(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*r.yB)/r.UD,t=>t.getDate()-1);a.range;let o=(0,i.J)(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/r.UD,t=>t.getUTCDate()-1);o.range;let s=(0,i.J)(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/r.UD,t=>Math.floor(t/r.UD));s.range},6058:(t,e,n)=>{n.d(e,{UD:()=>o,Y2:()=>a,Ym:()=>i,iM:()=>s,jz:()=>c,qz:()=>l,yB:()=>r});let i=1e3,r=6e4,a=36e5,o=864e5,s=6048e5,c=2592e6,l=31536e6},3430:(t,e,n)=>{n.d(e,{WQ:()=>a,lM:()=>o});var i=n(7401),r=n(6058);let a=(0,i.J)(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*r.Ym-t.getMinutes()*r.yB)},(t,e)=>{t.setTime(+t+e*r.Y2)},(t,e)=>(e-t)/r.Y2,t=>t.getHours());a.range;let o=(0,i.J)(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*r.Y2)},(t,e)=>(e-t)/r.Y2,t=>t.getUTCHours());o.range},7401:(t,e,n)=>{n.d(e,{J:()=>function t(e,n,a,o){function s(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return s.floor=t=>(e(t=new Date(+t)),t),s.ceil=t=>(e(t=new Date(t-1)),n(t,1),e(t),t),s.round=t=>{let e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),s.range=(t,i,r)=>{let a;let o=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<i)||!(r>0))return o;do o.push(a=new Date(+t)),n(t,r),e(t);while(a<t&&t<i)return o},s.filter=i=>t(t=>{if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},(t,e)=>{if(t>=t){if(e<0)for(;++e<=0;)for(;n(t,-1),!i(t););else for(;--e>=0;)for(;n(t,1),!i(t););}}),a&&(s.count=(t,n)=>(i.setTime(+t),r.setTime(+n),e(i),e(r),Math.floor(a(i,r))),s.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?s.filter(o?e=>o(e)%t==0:e=>s.count(0,e)%t==0):s:null),s}});let i=new Date,r=new Date},6173:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(7401);let r=(0,i.J)(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);r.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?(0,i.J)(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):r:null,r.range},9501:(t,e,n)=>{n.d(e,{Z_:()=>a,rz:()=>o});var i=n(7401),r=n(6058);let a=(0,i.J)(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*r.Ym)},(t,e)=>{t.setTime(+t+e*r.yB)},(t,e)=>(e-t)/r.yB,t=>t.getMinutes());a.range;let o=(0,i.J)(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*r.yB)},(t,e)=>(e-t)/r.yB,t=>t.getUTCMinutes());o.range},2990:(t,e,n)=>{n.d(e,{F0:()=>r,me:()=>a});var i=n(7401);let r=(0,i.J)(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());r.range;let a=(0,i.J)(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());a.range},6241:(t,e,n)=>{n.d(e,{E:()=>a});var i=n(7401),r=n(6058);let a=(0,i.J)(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*r.Ym)},(t,e)=>(e-t)/r.Ym,t=>t.getUTCSeconds());a.range},2384:(t,e,n)=>{n.d(e,{WG:()=>p,_g:()=>x,jK:()=>_,jo:()=>v});var i=n(349),r=n(1440),a=n(6058),o=n(6173),s=n(6241),c=n(9501),l=n(3430),u=n(2466),h=n(1473),d=n(2990),f=n(7911);function g(t,e,n,c,l,u){let h=[[s.E,1,a.Ym],[s.E,5,5*a.Ym],[s.E,15,15*a.Ym],[s.E,30,30*a.Ym],[u,1,a.yB],[u,5,5*a.yB],[u,15,15*a.yB],[u,30,30*a.yB],[l,1,a.Y2],[l,3,3*a.Y2],[l,6,6*a.Y2],[l,12,12*a.Y2],[c,1,a.UD],[c,2,2*a.UD],[n,1,a.iM],[e,1,a.jz],[e,3,3*a.jz],[t,1,a.qz]];function d(e,n,s){let c=Math.abs(n-e)/s,l=(0,i.Z)(([,,t])=>t).right(h,c);if(l===h.length)return t.every((0,r.ly)(e/a.qz,n/a.qz,s));if(0===l)return o.A.every(Math.max((0,r.ly)(e,n,s),1));let[u,d]=h[c/h[l-1][2]<h[l][2]/c?l-1:l];return u.every(d)}return[function(t,e,n){let i=e<t;i&&([t,e]=[e,t]);let r=n&&"function"==typeof n.range?n:d(t,e,n),a=r?r.range(t,+e+1):[];return i?a.reverse():a},d]}let[p,v]=g(f.ol,d.me,h.pI,u.KB,l.lM,c.rz),[_,x]=g(f.jB,d.F0,h.Zy,u.rr,l.WQ,c.Z_)},1473:(t,e,n)=>{n.d(e,{Ig:()=>u,Ox:()=>s,Zy:()=>o,hB:()=>x,l6:()=>p,pI:()=>g});var i=n(7401),r=n(6058);function a(t){return(0,i.J)(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*r.yB)/r.iM)}let o=a(0),s=a(1),c=a(2),l=a(3),u=a(4),h=a(5),d=a(6);function f(t){return(0,i.J)(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/r.iM)}o.range,s.range,c.range,l.range,u.range,h.range,d.range;let g=f(0),p=f(1),v=f(2),_=f(3),x=f(4),y=f(5),m=f(6);g.range,p.range,v.range,_.range,x.range,y.range,m.range},7911:(t,e,n)=>{n.d(e,{jB:()=>r,ol:()=>a});var i=n(7401);let r=(0,i.J)(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());r.every=t=>isFinite(t=Math.floor(t))&&t>0?(0,i.J)(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null,r.range;let a=(0,i.J)(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());a.every=t=>isFinite(t=Math.floor(t))&&t>0?(0,i.J)(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null,a.range},2741:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(9988);function r(t,e,n){var r=new i.B7;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}},9988:(t,e,n)=>{n.d(e,{B7:()=>p,HT:()=>v,zO:()=>f});var i,r,a=0,o=0,s=0,c=0,l=0,u=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return l||(d(g),l=h.now()+u)}function g(){l=0}function p(){this._call=this._time=this._next=null}function v(t,e,n){var i=new p;return i.restart(t,e,n),i}function _(){l=(c=h.now())+u,a=o=0;try{!function(){f(),++a;for(var t,e=i;e;)(t=l-e._time)>=0&&e._call.call(void 0,t),e=e._next;--a}()}finally{a=0,function(){for(var t,e,n=i,a=1/0;n;)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,y(a)}(),l=0}}function x(){var t=h.now(),e=t-c;e>1e3&&(u-=e,c=t)}function y(t){!a&&(o&&(o=clearTimeout(o)),t-l>24?(t<1/0&&(o=setTimeout(_,t-h.now()-u)),s&&(s=clearInterval(s))):(s||(c=h.now(),s=setInterval(x,1e3)),a=1,d(_)))}p.prototype=v.prototype={constructor:p,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?f():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,y()},stop:function(){this._call&&(this._call=null,this._time=1/0,y())}}},7039:(t,e,n)=>{n.d(e,{e1:()=>r.Z,eR:()=>i.ZP}),n(1611);var i=n(8087),r=n(1205)},1205:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t,e){var n,r,a,o=t.__transition,s=!0;if(o){for(a in e=null==e?null:e+"",o){if((n=o[a]).name!==e){s=!1;continue}r=n.state>i.KE&&n.state<i.wS,n.state=i.Ku,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[a]}s&&delete t.__transition}}},1611:(t,e,n)=>{var i=n(3212),r=n(8841),a=n(3215);i.ZP.prototype.interrupt=r.Z,i.ZP.prototype.transition=a.Z},8841:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1205);function r(t){return this.each(function(){(0,i.Z)(this,t)})}},3215:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(8087),r=n(1599),a=n(6685),o=n(9988),s={time:null,delay:0,duration:250,ease:a.tw};function c(t){var e,n;t instanceof i.uT?(e=t._id,t=t._name):(e=(0,i.pZ)(),(n=s).time=(0,o.zO)(),t=null==t?null:t+"");for(var a=this._groups,c=a.length,l=0;l<c;++l)for(var u,h=a[l],d=h.length,f=0;f<d;++f)(u=h[f])&&(0,r.ZP)(u,t,e,f,h,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(u,e));return new i.uT(a,this._parents,t,e)}},9062:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(3828),r=n(5766),a=n(8905),o=n(387);function s(t,e){var n=(0,r.Z)(t),s="transform"===n?i.w:o.Z;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var i,r,a;return function(){var o,s,c=n(this);return null==c?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,c))}}:function(t,e,n){var i,r,a;return function(){var o,s,c=n(this);return null==c?void this.removeAttribute(t):(o=this.getAttribute(t))===(s=c+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,c))}})(n,s,(0,a.x)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===i?r:r=e(i=o,n)}}:function(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===i?r:r=e(i=o,n)}})(n,s,e))}},8735:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(5766);function r(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=(0,i.Z)(t);return this.tween(n,(r.local?function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e){this.setAttributeNS(t.space,t.local,r.call(this,e))}),n}return r._value=e,r}:function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e){this.setAttribute(t,r.call(this,e))}),n}return r._value=e,r})(r,e))}},2890:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){(0,i.S1)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){(0,i.S1)(this,t).delay=e}})(e,t)):(0,i.U2)(this.node(),e).delay}},2730:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){(0,i.t8)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){(0,i.t8)(this,t).duration=e}})(e,t)):(0,i.U2)(this.node(),e).duration}},452:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){(0,i.t8)(this,t).ease=e}}(e,t)):(0,i.U2)(this.node(),e).ease}},8843:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();(0,i.t8)(this,e).ease=n}))}},6959:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var c={value:s},l={value:function(){0==--a&&o()}};n.each(function(){var n=(0,i.t8)(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),n.on=e}),0===a&&o()})}},2510:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(1314),r=n(8087);function a(t){"function"!=typeof t&&(t=(0,i.Z)(t));for(var e=this._groups,n=e.length,a=Array(n),o=0;o<n;++o)for(var s,c=e[o],l=c.length,u=a[o]=[],h=0;h<l;++h)(s=c[h])&&t.call(s,s.__data__,h,c)&&u.push(s);return new r.uT(a,this._parents,this._name,this._id)}},8087:(t,e,n)=>{n.d(e,{ZP:()=>Z,pZ:()=>S,uT:()=>A});var i=n(3212),r=n(9062),a=n(8735),o=n(2890),s=n(2730),c=n(452),l=n(8843),u=n(2510),h=n(5081),d=n(3659),f=n(2600),g=n(6239),p=n(9968),v=n(5335),_=n(5272),x=n(9283),y=n(4392),m=n(6707),b=n(3858),T=n(8905),w=n(6959),k=0;function A(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Z(t){return(0,i.ZP)().transition(t)}function S(){return++k}var C=i.ZP.prototype;A.prototype=Z.prototype={constructor:A,select:g.Z,selectAll:p.Z,selectChild:C.selectChild,selectChildren:C.selectChildren,filter:u.Z,merge:h.Z,selection:v.Z,transition:b.Z,call:C.call,nodes:C.nodes,node:C.node,size:C.size,empty:C.empty,each:C.each,on:d.Z,attr:r.Z,attrTween:a.Z,style:_.Z,styleTween:x.Z,text:y.Z,textTween:m.Z,remove:f.Z,tween:T.Z,delay:o.Z,duration:s.Z,ease:c.Z,easeVarying:l.Z,end:w.Z,[Symbol.iterator]:C[Symbol.iterator]}},387:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(1387),r=n(9485),a=n(1983),o=n(9893);function s(t,e){var n;return("number"==typeof e?r.Z:e instanceof i.ZP?a.ZP:(n=(0,i.ZP)(e))?(e=n,a.ZP):o.Z)(t,e)}},5081:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8087);function r(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,a=n.length,o=Math.min(r,a),s=Array(r),c=0;c<o;++c)for(var l,u=e[c],h=n[c],d=u.length,f=s[c]=Array(d),g=0;g<d;++g)(l=u[g]||h[g])&&(f[g]=l);for(;c<r;++c)s[c]=e[c];return new i.uT(s,this._parents,this._name,this._id)}},3659:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(1599);function r(t,e){var n,r,a,o=this._id;return arguments.length<2?(0,i.U2)(this.node(),o).on.on(t):this.each((a=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?i.S1:i.t8,function(){var i=a(this,o),s=i.on;s!==n&&(r=(n=s).copy()).on(t,e),i.on=r}))}},2600:(t,e,n)=>{n.d(e,{Z:()=>i});function i(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))}},1599:(t,e,n)=>{n.d(e,{KE:()=>c,Ku:()=>u,S1:()=>d,U2:()=>g,ZP:()=>h,t8:()=>f,wS:()=>l});var i=n(7657),r=n(9988),a=n(2741),o=(0,i.Z)("start","end","cancel","interrupt"),s=[],c=2,l=5,u=6;function h(t,e,n,i,h,d){var f=t.__transition;if(f){if(n in f)return}else t.__transition={};!function(t,e,n){var i,o=t.__transition;function s(r){var l,f,g,p;if(1!==n.state)return d();for(l in o)if((p=o[l]).name===n.name){if(3===p.state)return(0,a.Z)(s);4===p.state?(p.state=u,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[l]):+l<e&&(p.state=u,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[l])}if((0,a.Z)(function(){3===n.state&&(n.state=4,n.timer.restart(h,n.delay,n.time),h(r))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(l=0,n.state=3,i=Array(g=n.tween.length),f=-1;l<g;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function h(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(d),n.state=l,1),a=-1,o=i.length;++a<o;)i[a].call(t,r);n.state===l&&(n.on.call("end",t,t.__data__,n.index,n.group),d())}function d(){for(var i in n.state=u,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=(0,r.HT)(function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:h,on:o,tween:s,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function d(t,e){var n=g(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function f(t,e){var n=g(t,e);if(n.state>3)throw Error("too late; already running");return n}function g(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}},6239:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(5419),r=n(8087),a=n(1599);function o(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.Z)(t));for(var o=this._groups,s=o.length,c=Array(s),l=0;l<s;++l)for(var u,h,d=o[l],f=d.length,g=c[l]=Array(f),p=0;p<f;++p)(u=d[p])&&(h=t.call(u,u.__data__,p,d))&&("__data__"in u&&(h.__data__=u.__data__),g[p]=h,(0,a.ZP)(g[p],e,n,p,g,(0,a.U2)(u,n)));return new r.uT(c,this._parents,e,n)}},9968:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(4869),r=n(8087),a=n(1599);function o(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,i.Z)(t));for(var o=this._groups,s=o.length,c=[],l=[],u=0;u<s;++u)for(var h,d=o[u],f=d.length,g=0;g<f;++g)if(h=d[g]){for(var p,v=t.call(h,h.__data__,g,d),_=(0,a.U2)(h,n),x=0,y=v.length;x<y;++x)(p=v[x])&&(0,a.ZP)(p,e,n,x,v,_);c.push(v),l.push(h)}return new r.uT(c,l,e,n)}},5335:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(3212).ZP.prototype.constructor;function r(){return new i(this._groups,this._parents)}},5272:(t,e,n)=>{n.d(e,{Z:()=>l});var i=n(3828),r=n(8505),a=n(1599),o=n(8905),s=n(387);function c(t){return function(){this.style.removeProperty(t)}}function l(t,e,n){var l,u,h,d,f,g,p,v,_,x,y,m,b,T,w,k,A,Z,S,C,E,M="transform"==(t+="")?i.Y:s.Z;return null==e?this.styleTween(t,(l=t,function(){var t=(0,r.S)(this,l),e=(this.style.removeProperty(l),(0,r.S)(this,l));return t===e?null:t===u&&e===h?d:d=M(u=t,h=e)})).on("end.style."+t,c(t)):"function"==typeof e?this.styleTween(t,(f=t,g=(0,o.x)(this,"style."+t,e),function(){var t=(0,r.S)(this,f),e=g(this),n=e+"";return null==e&&(this.style.removeProperty(f),n=e=(0,r.S)(this,f)),t===n?null:t===p&&n===v?_:(v=n,_=M(p=t,e))})).each((x=this._id,A="end."+(k="style."+(y=t)),function(){var t=(0,a.t8)(this,x),e=t.on,n=null==t.value[k]?w||(w=c(y)):void 0;(e!==m||T!==n)&&(b=(m=e).copy()).on(A,T=n),t.on=b})):this.styleTween(t,(Z=t,E=e+"",function(){var t=(0,r.S)(this,Z);return t===E?null:t===S?C:C=M(S=t,e)}),n).on("end.style."+t,null)}},9283:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw Error();return this.tween(i,function(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&function(e){this.style.setProperty(t,a.call(this,e),n)}),i}return a._value=e,a}(t,e,null==n?"":n))}},4392:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(8905);function r(t){var e,n;return this.tween("text","function"==typeof t?(e=(0,i.x)(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))}},6707:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){this.textContent=i.call(this,t)}),e}return i._value=t,i}(t))}},3858:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(8087),r=n(1599);function a(){for(var t=this._name,e=this._id,n=(0,i.pZ)(),a=this._groups,o=a.length,s=0;s<o;++s)for(var c,l=a[s],u=l.length,h=0;h<u;++h)if(c=l[h]){var d=(0,r.U2)(c,e);(0,r.ZP)(c,t,n,h,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new i.uT(a,this._parents,t,n)}},8905:(t,e,n)=>{n.d(e,{Z:()=>r,x:()=>a});var i=n(1599);function r(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=(0,i.U2)(this.node(),n).tween,o=0,s=a.length;o<s;++o)if((r=a[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var a=(0,i.t8)(this,t),o=a.tween;if(o!==n){r=n=o;for(var s=0,c=r.length;s<c;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}}a.tween=r}}:function(t,e,n){var r,a;if("function"!=typeof n)throw Error();return function(){var o=(0,i.t8)(this,t),s=o.tween;if(s!==r){a=(r=s).slice();for(var c={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=c;break}l===u&&a.push(c)}o.tween=a}})(n,t,e))}function a(t,e,n){var r=t._id;return t.each(function(){var t=(0,i.t8)(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return(0,i.U2)(t,r).value[e]}}},7838:(t,e,n)=>{n.d(e,{Z:()=>i});let i=t=>()=>t},2053:(t,e,n)=>{n.d(e,{Z:()=>i});function i(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}},6393:(t,e,n)=>{n.d(e,{CR:()=>r.yR,P2:()=>r.ZP,sP:()=>i.Z});var i=n(9226),r=n(5349)},4126:(t,e,n)=>{function i(t){t.stopImmediatePropagation()}function r(t){t.preventDefault(),t.stopImmediatePropagation()}n.d(e,{Z:()=>r,r:()=>i})},5349:(t,e,n)=>{function i(t,e,n){this.k=t,this.x=e,this.y=n}n.d(e,{ZP:()=>a,wx:()=>i,yR:()=>r}),i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new i(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r=new i(1,0,0);function a(t){for(;!t.__zoom;)if(!(t=t.parentNode))return r;return t.__zoom}a.prototype=i.prototype},9226:(t,e,n)=>{n.d(e,{Z:()=>y});var i=n(7657),r=n(1821),a=n(7173),o=n(8869),s=n(3968),c=n(7039),l=n(7838),u=n(2053),h=n(5349),d=n(4126);function f(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function g(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function p(){return this.__zoom||h.yR}function v(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function _(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function y(){var t,e,n,y=f,m=g,b=x,T=v,w=_,k=[0,1/0],A=[[-1/0,-1/0],[1/0,1/0]],Z=250,S=a.Z,C=(0,i.Z)("start","zoom","end"),E=0,M=10;function L(t){t.property("__zoom",p).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",N).filter(w).on("touchstart.zoom",F).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(t,e){return(e=Math.max(k[0],Math.min(k[1],e)))===t.k?t:new h.wx(e,t.x,t.y)}function D(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new h.wx(t.k,i,r)}function P(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function z(t,e,n,i){t.on("start.zoom",function(){I(this,arguments).event(i).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(i).end()}).tween("zoom",function(){var t=arguments,r=I(this,t).event(i),a=m.apply(this,t),o=null==n?P(a):"function"==typeof n?n.apply(this,t):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=this.__zoom,l="function"==typeof e?e.apply(this,t):e,u=S(c.invert(o).concat(s/c.k),l.invert(o).concat(s/l.k));return function(t){if(1===t)t=l;else{var e=u(t),n=s/e[2];t=new h.wx(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function I(t,e,n){return!n&&t.__zooming||new O(t,e)}function O(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=m.apply(t,e),this.taps=0}function $(t,...e){if(y.apply(this,arguments)){var n=I(this,e).event(t),i=this.__zoom,r=Math.max(k[0],Math.min(k[1],i.k*Math.pow(2,T.apply(this,arguments)))),a=(0,s.Z)(t);if(n.wheel)(n.mouse[0][0]!==a[0]||n.mouse[0][1]!==a[1])&&(n.mouse[1]=i.invert(n.mouse[0]=a)),clearTimeout(n.wheel);else{if(i.k===r)return;n.mouse=[a,i.invert(a)],(0,c.e1)(this),n.start()}(0,d.Z)(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",b(D(R(i,r),n.mouse[0],n.mouse[1]),n.extent,A))}}function X(t,...e){if(!n&&y.apply(this,arguments)){var i=t.currentTarget,a=I(this,e,!0).event(t),l=(0,o.Z)(t.view).on("mousemove.zoom",function(t){if((0,d.Z)(t),!a.moved){var e=t.clientX-h,n=t.clientY-f;a.moved=e*e+n*n>E}a.event(t).zoom("mouse",b(D(a.that.__zoom,a.mouse[0]=(0,s.Z)(t,i),a.mouse[1]),a.extent,A))},!0).on("mouseup.zoom",function(t){l.on("mousemove.zoom mouseup.zoom",null),(0,r.D)(t.view,a.moved),(0,d.Z)(t),a.event(t).end()},!0),u=(0,s.Z)(t,i),h=t.clientX,f=t.clientY;(0,r.Z)(t.view),(0,d.r)(t),a.mouse=[u,this.__zoom.invert(u)],(0,c.e1)(this),a.start()}}function N(t,...e){if(y.apply(this,arguments)){var n=this.__zoom,i=(0,s.Z)(t.changedTouches?t.changedTouches[0]:t,this),r=n.invert(i),a=n.k*(t.shiftKey?.5:2),c=b(D(R(n,a),i,r),m.apply(this,e),A);(0,d.Z)(t),Z>0?(0,o.Z)(this).transition().duration(Z).call(z,c,i,t):(0,o.Z)(this).call(L.transform,c,i,t)}}function F(n,...i){if(y.apply(this,arguments)){var r,a,o,l,u=n.touches,h=u.length,f=I(this,i,n.changedTouches.length===h).event(n);for((0,d.r)(n),a=0;a<h;++a)o=u[a],l=[l=(0,s.Z)(o,this),this.__zoom.invert(l),o.identifier],f.touch0?f.touch1||f.touch0[2]===l[2]||(f.touch1=l,f.taps=0):(f.touch0=l,r=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),r&&(f.taps<2&&(e=l[0],t=setTimeout(function(){t=null},500)),(0,c.e1)(this),f.start())}}function B(t,...e){if(this.__zooming){var n,i,r,a,o=I(this,e).event(t),c=t.changedTouches,l=c.length;for((0,d.Z)(t),n=0;n<l;++n)i=c[n],r=(0,s.Z)(i,this),o.touch0&&o.touch0[2]===i.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===i.identifier&&(o.touch1[0]=r);if(i=o.that.__zoom,o.touch1){var u=o.touch0[0],h=o.touch0[1],f=o.touch1[0],g=o.touch1[1],p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,v=(v=g[0]-h[0])*v+(v=g[1]-h[1])*v;i=R(i,Math.sqrt(p/v)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],a=[(h[0]+g[0])/2,(h[1]+g[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",b(D(i,r,a),o.extent,A))}}function Y(t,...i){if(this.__zooming){var r,a,c=I(this,i).event(t),l=t.changedTouches,u=l.length;for((0,d.r)(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),r=0;r<u;++r)a=l[r],c.touch0&&c.touch0[2]===a.identifier?delete c.touch0:c.touch1&&c.touch1[2]===a.identifier&&delete c.touch1;if(c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0)c.touch0[1]=this.__zoom.invert(c.touch0[0]);else if(c.end(),2===c.taps&&(a=(0,s.Z)(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<M)){var h=(0,o.Z)(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return L.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",p),t!==r?z(t,e,n,i):r.interrupt().each(function(){I(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},L.scaleBy=function(t,e,n,i){L.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n,i)},L.scaleTo=function(t,e,n,i){L.transform(t,function(){var t=m.apply(this,arguments),i=this.__zoom,r=null==n?P(t):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return b(D(R(i,o),r,a),t,A)},n,i)},L.translateBy=function(t,e,n,i){L.transform(t,function(){return b(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),m.apply(this,arguments),A)},null,i)},L.translateTo=function(t,e,n,i,r){L.transform(t,function(){var t=m.apply(this,arguments),r=this.__zoom,a=null==i?P(t):"function"==typeof i?i.apply(this,arguments):i;return b(h.yR.translate(a[0],a[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,A)},i,r)},O.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,o.Z)(this.that).datum();C.call(t,this.that,new u.Z(t,{sourceEvent:this.sourceEvent,target:L,type:t,transform:this.that.__zoom,dispatch:C}),e)}},L.wheelDelta=function(t){return arguments.length?(T="function"==typeof t?t:(0,l.Z)(+t),L):T},L.filter=function(t){return arguments.length?(y="function"==typeof t?t:(0,l.Z)(!!t),L):y},L.touchable=function(t){return arguments.length?(w="function"==typeof t?t:(0,l.Z)(!!t),L):w},L.extent=function(t){return arguments.length?(m="function"==typeof t?t:(0,l.Z)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),L):m},L.scaleExtent=function(t){return arguments.length?(k[0]=+t[0],k[1]=+t[1],L):[k[0],k[1]]},L.translateExtent=function(t){return arguments.length?(A[0][0]=+t[0][0],A[1][0]=+t[1][0],A[0][1]=+t[0][1],A[1][1]=+t[1][1],L):[[A[0][0],A[0][1]],[A[1][0],A[1][1]]]},L.constrain=function(t){return arguments.length?(b=t,L):b},L.duration=function(t){return arguments.length?(Z=+t,L):Z},L.interpolate=function(t){return arguments.length?(S=t,L):S},L.on=function(){var t=C.on.apply(C,arguments);return t===C?L:t},L.clickDistance=function(t){return arguments.length?(E=(t=+t)*t,L):Math.sqrt(E)},L.tapDistance=function(t){return arguments.length?(M=+t,L):M},L}},1025:(t,e,n)=>{n.d(e,{L:()=>i});class i extends Map{constructor(t,e=a){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(r(this,t))}has(t){return super.has(r(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){let i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}(this,t))}}function r({_intern:t,_key:e},n){let i=e(n);return t.has(i)?t.get(i):n}function a(t){return null!==t&&"object"==typeof t?t.valueOf():t}}}]);